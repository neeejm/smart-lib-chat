!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(((e=e||self).prettierPlugins=e.prettierPlugins||{},e.prettierPlugins.angular={}))}(this,function(e){"use strict";function o(e,t){return!(t=t||{}).ignoreDecorators&&e.declaration&&e.declaration.decorators&&0<e.declaration.decorators.length?o(e.declaration.decorators[0]):!t.ignoreDecorators&&e.decorators&&0<e.decorators.length?o(e.decorators[0]):e.__location?e.__location.startOffset:e.range?e.range[0]:"number"==typeof e.start?e.start:e.loc?e.loc.start:null}function a(e){t=e.nodes&&(t=e.nodes)[t.length-1];if((e=t&&e.source&&!e.source.end?t:e).__location)return e.__location.endOffset;var t=e.range?e.range[1]:"number"==typeof e.end?e.end:null;return e.typeAnnotation?Math.max(t,a(e.typeAnnotation)):e.loc&&!t?e.loc.end:t}var t={locStart:o,locEnd:a,composeLoc:function(e,t=e){var n="number"==typeof t?t:-1,r=o(e),i=-1!==n?r+n:a(t),s=e.loc.start;return{start:r,end:i,range:[r,i],loc:{start:s,end:-1!==n?{line:s.line,column:s.column+n}:t.loc.end}}}};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return e(t={exports:{}},t.exports),t.exports}var i=r(function(e,t){var n=(r.prototype.locationForIndex=function(e){if(e<0||e>this.string.length)return null;for(var t=0,n=this.offsets;n[t+1]<=e;)t++;return{line:t,column:e-n[t]}},r.prototype.indexForLocation=function(e){var t=e.line,e=e.column;return t<0||t>=this.offsets.length||e<0||e>this.lengthOfLine(t)?null:this.offsets[t]+e},r.prototype.lengthOfLine=function(e){var t=this.offsets[e];return(e===this.offsets.length-1?this.string.length:this.offsets[e+1])-t},r);function r(e){this.string=e;for(var t=[0],n=0;n<e.length;)switch(e[n]){case"\n":n+="\n".length,t.push(n);break;case"\r":"\n"===e[n+="\r".length]&&(n+="\n".length),t.push(n);break;default:n++}this.offsets=t}t.__esModule=!0,t.default=n});n(i);var u=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Context=class{constructor(e){this.text=e,this.locator=new n(this.text)}};class n{constructor(e){this._lineAndColumn=new i.default(e)}locationForIndex(e){var{line:t,column:e}=this._lineAndColumn.locationForIndex(e);return{line:t+1,column:e}}}});n(u),u.Context;var s="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function h(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l,d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function D(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}}}function T(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function B(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(T(arguments[t]));return e}function P(e){if(":"!=e[0])return[null,e];var t=e.indexOf(":",1);if(-1==t)throw new Error('Unsupported format "'+e+'" expecting ":namespace:name"');return[e.slice(1,t),e.slice(t+1)]}function N(e){return"ng-container"===P(e)[1]}function c(e){return"ng-content"===P(e)[1]}function M(e){return"ng-template"===P(e)[1]}function f(e){return null===e?null:P(e)[0]}function m(e,t){return e?":"+e+":"+t:t}(ni=l=l||{})[ni.RAW_TEXT=0]="RAW_TEXT",ni[ni.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",ni[ni.PARSABLE_DATA=2]="PARSABLE_DATA";var v,y,g={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",alefsym:"ℵ",Alpha:"Α",alpha:"α",amp:"&",and:"∧",ang:"∠",apos:"'",Aring:"Å",aring:"å",asymp:"≈",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",bdquo:"„",Beta:"Β",beta:"β",brvbar:"¦",bull:"•",cap:"∩",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",Chi:"Χ",chi:"χ",circ:"ˆ",clubs:"♣",cong:"≅",copy:"©",crarr:"↵",cup:"∪",curren:"¤",dagger:"†",Dagger:"‡",darr:"↓",dArr:"⇓",deg:"°",Delta:"Δ",delta:"δ",diams:"♦",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",empty:"∅",emsp:" ",ensp:" ",Epsilon:"Ε",epsilon:"ε",equiv:"≡",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",exist:"∃",fnof:"ƒ",forall:"∀",frac12:"½",frac14:"¼",frac34:"¾",frasl:"⁄",Gamma:"Γ",gamma:"γ",ge:"≥",gt:">",harr:"↔",hArr:"⇔",hearts:"♥",hellip:"…",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",image:"ℑ",infin:"∞",int:"∫",Iota:"Ι",iota:"ι",iquest:"¿",isin:"∈",Iuml:"Ï",iuml:"ï",Kappa:"Κ",kappa:"κ",Lambda:"Λ",lambda:"λ",lang:"⟨",laquo:"«",larr:"←",lArr:"⇐",lceil:"⌈",ldquo:"“",le:"≤",lfloor:"⌊",lowast:"∗",loz:"◊",lrm:"‎",lsaquo:"‹",lsquo:"‘",lt:"<",macr:"¯",mdash:"—",micro:"µ",middot:"·",minus:"−",Mu:"Μ",mu:"μ",nabla:"∇",nbsp:" ",ndash:"–",ne:"≠",ni:"∋",not:"¬",notin:"∉",nsub:"⊄",Ntilde:"Ñ",ntilde:"ñ",Nu:"Ν",nu:"ν",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",OElig:"Œ",oelig:"œ",Ograve:"Ò",ograve:"ò",oline:"‾",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",oplus:"⊕",or:"∨",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",otimes:"⊗",Ouml:"Ö",ouml:"ö",para:"¶",permil:"‰",perp:"⊥",Phi:"Φ",phi:"φ",Pi:"Π",pi:"π",piv:"ϖ",plusmn:"±",pound:"£",prime:"′",Prime:"″",prod:"∏",prop:"∝",Psi:"Ψ",psi:"ψ",quot:'"',radic:"√",rang:"⟩",raquo:"»",rarr:"→",rArr:"⇒",rceil:"⌉",rdquo:"”",real:"ℜ",reg:"®",rfloor:"⌋",Rho:"Ρ",rho:"ρ",rlm:"‏",rsaquo:"›",rsquo:"’",sbquo:"‚",Scaron:"Š",scaron:"š",sdot:"⋅",sect:"§",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sim:"∼",spades:"♠",sub:"⊂",sube:"⊆",sum:"∑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supe:"⊇",szlig:"ß",Tau:"Τ",tau:"τ",there4:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thinsp:" ",THORN:"Þ",thorn:"þ",tilde:"˜",times:"×",trade:"™",Uacute:"Ú",uacute:"ú",uarr:"↑",uArr:"⇑",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",Uuml:"Ü",uuml:"ü",weierp:"℘",Xi:"Ξ",xi:"ξ",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ",Yuml:"Ÿ",Zeta:"Ζ",zeta:"ζ",zwj:"‍",zwnj:"‌",ngsp:""},_=(E.prototype.isClosedByChild=function(e){return this.isVoid||e.toLowerCase()in this.closedByChildren},E);function E(e){var t=this,n=void 0===e?{}:e,r=n.closedByChildren,i=n.implicitNamespacePrefix,s=n.contentType,o=void 0===s?l.PARSABLE_DATA:s,e=n.closedByParent,s=void 0!==e&&e,e=n.isVoid,e=void 0!==e&&e,n=n.ignoreFirstLf,n=void 0!==n&&n;this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,r&&0<r.length&&r.forEach(function(e){return t.closedByChildren[e]=!0}),this.isVoid=e,this.closedByParent=s||e,this.implicitNamespacePrefix=i||null,this.contentType=o,this.ignoreFirstLf=n}function x(e){return y||(v=new _,y={base:new _({isVoid:!0}),meta:new _({isVoid:!0}),area:new _({isVoid:!0}),embed:new _({isVoid:!0}),link:new _({isVoid:!0}),img:new _({isVoid:!0}),input:new _({isVoid:!0}),param:new _({isVoid:!0}),hr:new _({isVoid:!0}),br:new _({isVoid:!0}),source:new _({isVoid:!0}),track:new _({isVoid:!0}),wbr:new _({isVoid:!0}),p:new _({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new _({closedByChildren:["tbody","tfoot"]}),tbody:new _({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new _({closedByChildren:["tbody"],closedByParent:!0}),tr:new _({closedByChildren:["tr"],closedByParent:!0}),td:new _({closedByChildren:["td","th"],closedByParent:!0}),th:new _({closedByChildren:["td","th"],closedByParent:!0}),col:new _({isVoid:!0}),svg:new _({implicitNamespacePrefix:"svg"}),math:new _({implicitNamespacePrefix:"math"}),li:new _({closedByChildren:["li"],closedByParent:!0}),dt:new _({closedByChildren:["dt","dd"]}),dd:new _({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new _({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new _({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new _({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new _({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new _({closedByChildren:["optgroup"],closedByParent:!0}),option:new _({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new _({ignoreFirstLf:!0}),listing:new _({ignoreFirstLf:!0}),style:new _({contentType:l.RAW_TEXT}),script:new _({contentType:l.RAW_TEXT}),title:new _({contentType:l.ESCAPABLE_RAW_TEXT}),textarea:new _({contentType:l.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),y[e.toLowerCase()]||v}var S,w,C=new RegExp("(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g"),b=(z.parse=function(e){function t(e,t){0<t.notSelectors.length&&!t.element&&0==t.classNames.length&&0==t.attrs.length&&(t.element="*"),e.push(t)}var n,r=[],i=new z,s=i,o=!1;for(C.lastIndex=0;n=C.exec(e);){if(n[1]){if(o)throw new Error("Nesting :not in a selector is not allowed");o=!0,s=new z,i.notSelectors.push(s)}var a,u=n[2];u&&("#"===(a=n[3])?s.addAttribute("id",u.substr(1)):"."===a?s.addClassName(u.substr(1)):s.setElement(u));u=n[4];if(u&&s.addAttribute(u,n[6]),n[7]&&(o=!1,s=i),n[8]){if(o)throw new Error("Multiple selectors in :not are not supported");t(r,i),i=s=new z}}return t(r,i),r},z.prototype.isElementSelector=function(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length},z.prototype.hasElementSelector=function(){return!!this.element},z.prototype.setElement=function(e){this.element=e=void 0===e?null:e},z.prototype.getMatchingElementTemplate=function(){for(var e=this.element||"div",t=0<this.classNames.length?' class="'+this.classNames.join(" ")+'"':"",n="",r=0;r<this.attrs.length;r+=2)n+=" "+this.attrs[r]+(""!==this.attrs[r+1]?'="'+this.attrs[r+1]+'"':"");return x(e).isVoid?"<"+e+t+n+"/>":"<"+e+t+n+"></"+e+">"},z.prototype.getAttrs=function(){var e=[];return 0<this.classNames.length&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)},z.prototype.addAttribute=function(e,t){this.attrs.push(e,(t=void 0===t?"":t)&&t.toLowerCase()||"")},z.prototype.addClassName=function(e){this.classNames.push(e.toLowerCase())},z.prototype.toString=function(){var t=this.element||"";if(this.classNames&&this.classNames.forEach(function(e){return t+="."+e}),this.attrs)for(var e=0;e<this.attrs.length;e+=2){var n=this.attrs[e],r=this.attrs[e+1];t+="["+n+(r?"="+r:"")+"]"}return this.notSelectors.forEach(function(e){return t+=":not("+e+")"}),t},z),A=(W.createNotMatcher=function(e){var t=new W;return t.addSelectables(e,null),t},W.prototype.addSelectables=function(e,t){var n=null;1<e.length&&(n=new I(e),this._listContexts.push(n));for(var r=0;r<e.length;r++)this._addSelectable(e[r],t,n)},W.prototype._addSelectable=function(e,t,n){var r=this,i=e.element,s=e.classNames,o=e.attrs,a=new k(e,t,n);if(i&&((p=0===o.length&&0===s.length)?this._addTerminal(r._elementMap,i,a):r=this._addPartial(r._elementPartialMap,i)),s)for(var u=0;u<s.length;u++){var p=0===o.length&&u===s.length-1,l=s[u];p?this._addTerminal(r._classMap,l,a):r=this._addPartial(r._classPartialMap,l)}if(o)for(u=0;u<o.length;u+=2){var c,h,p=u===o.length-2,d=o[u],f=o[u+1];p?((h=(c=r._attrValueMap).get(d))||(h=new Map,c.set(d,h)),this._addTerminal(h,f,a)):((h=(c=r._attrValuePartialMap).get(d))||(h=new Map,c.set(d,h)),r=this._addPartial(h,f))}},W.prototype._addTerminal=function(e,t,n){var r=e.get(t);r||e.set(t,r=[]),r.push(n)},W.prototype._addPartial=function(e,t){var n=e.get(t);return n||(n=new W,e.set(t,n)),n},W.prototype.match=function(e,t){for(var n=!1,r=e.element,i=e.classNames,s=e.attrs,o=0;o<this._listContexts.length;o++)this._listContexts[o].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,r,e,t)||n,n=this._matchPartial(this._elementPartialMap,r,e,t)||n,i)for(o=0;o<i.length;o++){var a=i[o],n=this._matchTerminal(this._classMap,a,e,t)||n;n=this._matchPartial(this._classPartialMap,a,e,t)||n}if(s)for(o=0;o<s.length;o+=2){var u=s[o],p=s[o+1],l=this._attrValueMap.get(u);p&&(n=this._matchTerminal(l,"",e,t)||n),n=this._matchTerminal(l,p,e,t)||n;u=this._attrValuePartialMap.get(u);p&&(n=this._matchPartial(u,"",e,t)||n),n=this._matchPartial(u,p,e,t)||n}return n},W.prototype._matchTerminal=function(e,t,n,r){if(!e||"string"!=typeof t)return!1;var i=e.get(t)||[],e=e.get("*");if(0===(i=e?i.concat(e):i).length)return!1;for(var s=!1,o=0;o<i.length;o++)s=i[o].finalize(n,r)||s;return s},W.prototype._matchPartial=function(e,t,n,r){if(!e||"string"!=typeof t)return!1;t=e.get(t);return!!t&&t.match(n,r)},W),I=function(e){this.selectors=e,this.alreadyMatched=!1},k=(q.prototype.finalize=function(e,t){var n=!0;return!(n=0<this.notSelectors.length&&(!this.listContext||!this.listContext.alreadyMatched)?!A.createNotMatcher(this.notSelectors).match(e,null):n)||!t||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),n},q),R=pe("Inject",function(e){return{token:e}}),O=pe("InjectionToken",function(e){return{_desc:e,"ɵprov":void 0}}),F=pe("Attribute",function(e){return{attributeName:e}}),L=pe("ContentChildren",function(e,t){return d({selector:e,first:!1,isViewQuery:!1,descendants:!1},t=void 0===t?{}:t)}),V=pe("ContentChild",function(e,t){return d({selector:e,first:!0,isViewQuery:!1,descendants:!0},t=void 0===t?{}:t)}),j=pe("ViewChildren",function(e,t){return d({selector:e,first:!1,isViewQuery:!0,descendants:!0},t=void 0===t?{}:t)}),U=pe("ViewChild",function(e,t){return d({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)}),H=pe("Directive",function(e){return e=void 0===e?{}:e});function q(e,t,n){this.selector=e,this.cbContext=t,this.listContext=n,this.notSelectors=e.notSelectors}function W(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}function z(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}(mi=S=S||{})[mi.Emulated=0]="Emulated",mi[mi.Native=1]="Native",mi[mi.None=2]="None",mi[mi.ShadowDom=3]="ShadowDom",(lu=w=w||{})[lu.OnPush=0]="OnPush",lu[lu.Default=1]="Default";var K,Q,G=pe("Component",function(e){return d({changeDetection:w.Default},e=void 0===e?{}:e)}),X=pe("Pipe",function(e){return d({pure:!0},e)}),$=pe("Input",function(e){return{bindingPropertyName:e}}),Y=pe("Output",function(e){return{bindingPropertyName:e}}),J=pe("HostBinding",function(e){return{hostPropertyName:e}}),Z=pe("HostListener",function(e,t){return{eventName:e,args:t}}),ee=pe("NgModule",function(e){return e}),te=pe("Injectable",function(e){return e=void 0===e?{}:e}),ne={name:"custom-elements"},re={name:"no-errors-schema"},ie=pe("Optional"),se=pe("Self"),oe=pe("SkipSelf"),ae=pe("Host"),ue=Function;function pe(r,i){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i?i.apply(void 0,B(e)):{};return d({ngMetadataName:r},n)}return e.isTypeOf=function(e){return e&&e.ngMetadataName===r},e.ngMetadataName=r,e}function le(e){var t,n,n=(n=(t=e).classNames&&t.classNames.length?B([8],t.classNames):[],B([t.element&&"*"!==t.element?t.element:""],t.attrs,n)),e=e.notSelectors&&e.notSelectors.length?e.notSelectors.map(function(e){return e=(t=e).classNames&&t.classNames.length?B([8],t.classNames):[],t.element?B([5,t.element],t.attrs,e):t.attrs.length?B([3],t.attrs,e):t.classNames&&t.classNames.length?B([9],t.classNames):[];var t}):[];return n.concat.apply(n,B(e))}function ce(e){return e?b.parse(e).map(le):[]}(es=K=K||{})[es.NONE=0]="NONE",es[es.HTML=1]="HTML",es[es.STYLE=2]="STYLE",es[es.SCRIPT=3]="SCRIPT",es[es.URL=4]="URL",es[es.RESOURCE_URL=5]="RESOURCE_URL",(vs=Q=Q||{})[vs.Error=0]="Error",vs[vs.Warning=1]="Warning",vs[vs.Ignore=2]="Ignore";var he,de=Object.freeze({__proto__:null,createInject:R,createInjectionToken:O,createAttribute:F,createContentChildren:L,createContentChild:V,createViewChildren:j,createViewChild:U,createDirective:H,get ViewEncapsulation(){return S},get ChangeDetectionStrategy(){return w},createComponent:G,createPipe:X,createInput:$,createOutput:Y,createHostBinding:J,createHostListener:Z,createNgModule:ee,createInjectable:te,CUSTOM_ELEMENTS_SCHEMA:ne,NO_ERRORS_SCHEMA:re,createOptional:ie,createSelf:se,createSkipSelf:oe,createHost:ae,Type:ue,get SecurityContext(){return K},get MissingTranslationStrategy(){return Q},parseSelectorToR3Selector:ce});he=he||{},he[he.Const=0]="Const";var fe,me=(ve.prototype.hasModifier=function(e){return-1!==this.modifiers.indexOf(e)},ve);function ve(e){(this.modifiers=e=void 0===e?null:e)||(this.modifiers=[])}(ys=fe=fe||{})[ys.Dynamic=0]="Dynamic",ys[ys.Bool=1]="Bool",ys[ys.String=2]="String",ys[ys.Int=3]="Int",ys[ys.Number=4]="Number",ys[ys.Function=5]="Function",ys[ys.Inferred=6]="Inferred",ys[ys.None=7]="None";var ye,ge,_e,Ee,xe,Se=(h(Fe,xe=me),Fe.prototype.visitType=function(e,t){return e.visitBuiltinType(this,t)},Fe),we=(h(Oe,Ee=me),Oe.prototype.visitType=function(e,t){return e.visitExpressionType(this,t)},Oe),Ce=(h(Re,_e=me),Re.prototype.visitType=function(e,t){return e.visitArrayType(this,t)},Re),be=(h(ke,ge=me),ke.prototype.visitType=function(e,t){return e.visitMapType(this,t)},ke),Te=new Se(fe.Dynamic),Pe=new Se(fe.Inferred),Ne=new Se(fe.Bool),Ae=(new Se(fe.Int),new Se(fe.Number)),Me=new Se(fe.String),Ie=(new Se(fe.Function),new Se(fe.None));function ke(e,t){t=ge.call(this,t=void 0===t?null:t)||this;return t.valueType=e||null,t}function Re(e,t){t=_e.call(this,t=void 0===t?null:t)||this;return t.of=e,t}function Oe(e,t,n){void 0===n&&(n=null);t=Ee.call(this,t=void 0===t?null:t)||this;return t.value=e,t.typeParams=n,t}function Fe(e,t){t=xe.call(this,t=void 0===t?null:t)||this;return t.name=e,t}function Le(e,t){return null==e||null==t?e==t:e.isEquivalent(t)}function De(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(!e[r].isEquivalent(t[r]))return!1;return!0}(xp=ye=ye||{})[xp.Equals=0]="Equals",xp[xp.NotEquals=1]="NotEquals",xp[xp.Identical=2]="Identical",xp[xp.NotIdentical=3]="NotIdentical",xp[xp.Minus=4]="Minus",xp[xp.Plus=5]="Plus",xp[xp.Divide=6]="Divide",xp[xp.Multiply=7]="Multiply",xp[xp.Modulo=8]="Modulo",xp[xp.And=9]="And",xp[xp.Or=10]="Or",xp[xp.BitwiseAnd=11]="BitwiseAnd",xp[xp.Lower=12]="Lower",xp[xp.LowerEquals=13]="LowerEquals",xp[xp.Bigger=14]="Bigger",xp[xp.BiggerEquals=15]="BiggerEquals";var Be,Ve=(je.prototype.prop=function(e,t){return new Qt(this,e,null,t)},je.prototype.key=function(e,t,n){return new Gt(this,e,t,n)},je.prototype.callMethod=function(e,t,n){return new ct(this,e,t,null,n)},je.prototype.callFn=function(e,t){return new ht(this,e,null,t)},je.prototype.instantiate=function(e,t,n){return new dt(this,e,t,n)},je.prototype.conditional=function(e,t,n){return new jt(this,e,t=void 0===t?null:t,null,n)},je.prototype.equals=function(e,t){return new Kt(ye.Equals,this,e,null,t)},je.prototype.notEquals=function(e,t){return new Kt(ye.NotEquals,this,e,null,t)},je.prototype.identical=function(e,t){return new Kt(ye.Identical,this,e,null,t)},je.prototype.notIdentical=function(e,t){return new Kt(ye.NotIdentical,this,e,null,t)},je.prototype.minus=function(e,t){return new Kt(ye.Minus,this,e,null,t)},je.prototype.plus=function(e,t){return new Kt(ye.Plus,this,e,null,t)},je.prototype.divide=function(e,t){return new Kt(ye.Divide,this,e,null,t)},je.prototype.multiply=function(e,t){return new Kt(ye.Multiply,this,e,null,t)},je.prototype.modulo=function(e,t){return new Kt(ye.Modulo,this,e,null,t)},je.prototype.and=function(e,t){return new Kt(ye.And,this,e,null,t)},je.prototype.bitwiseAnd=function(e,t,n){return new Kt(ye.BitwiseAnd,this,e,null,t,n=void 0===n?!0:n)},je.prototype.or=function(e,t){return new Kt(ye.Or,this,e,null,t)},je.prototype.lower=function(e,t){return new Kt(ye.Lower,this,e,null,t)},je.prototype.lowerEquals=function(e,t){return new Kt(ye.LowerEquals,this,e,null,t)},je.prototype.bigger=function(e,t){return new Kt(ye.Bigger,this,e,null,t)},je.prototype.biggerEquals=function(e,t){return new Kt(ye.BiggerEquals,this,e,null,t)},je.prototype.isBlank=function(e){return this.equals(en,e)},je.prototype.cast=function(e,t){return new qt(this,e,t)},je.prototype.toStmt=function(){return new kn(this,null)},je);function je(e,t){this.type=e||null,this.sourceSpan=t||null}(Fs=Be=Be||{})[Fs.This=0]="This",Fs[Fs.Super=1]="Super",Fs[Fs.CatchError=2]="CatchError",Fs[Fs.CatchStack=3]="CatchStack";var Ue,He,qe,We,ze,Ke,Qe,Ge=(h(st,Qe=Ve),st.prototype.isEquivalent=function(e){return e instanceof st&&this.name===e.name&&this.builtin===e.builtin},st.prototype.isConstant=function(){return!1},st.prototype.visitExpression=function(e,t){return e.visitReadVarExpr(this,t)},st.prototype.set=function(e){if(!this.name)throw new Error("Built in variable "+this.builtin+" can not be assigned to.");return new Ye(this.name,e,null,this.sourceSpan)},st),Xe=(h(it,Ke=Ve),it.prototype.visitExpression=function(e,t){return e.visitTypeofExpr(this,t)},it.prototype.isEquivalent=function(e){return e instanceof it&&e.expr.isEquivalent(this.expr)},it.prototype.isConstant=function(){return this.expr.isConstant()},it),$e=(h(rt,ze=Ve),rt.prototype.isEquivalent=function(e){return e instanceof rt&&this.node===e.node},rt.prototype.isConstant=function(){return!1},rt.prototype.visitExpression=function(e,t){return e.visitWrappedNodeExpr(this,t)},rt),Ye=(h(nt,We=Ve),nt.prototype.isEquivalent=function(e){return e instanceof nt&&this.name===e.name&&this.value.isEquivalent(e.value)},nt.prototype.isConstant=function(){return!1},nt.prototype.visitExpression=function(e,t){return e.visitWriteVarExpr(this,t)},nt.prototype.toDeclStmt=function(e,t){return new Mn(this.name,this.value,e,t,this.sourceSpan)},nt.prototype.toConstDecl=function(){return this.toDeclStmt(Pe,[Tt.Final])},nt),Je=(h(tt,qe=Ve),tt.prototype.isEquivalent=function(e){return e instanceof tt&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)},tt.prototype.isConstant=function(){return!1},tt.prototype.visitExpression=function(e,t){return e.visitWriteKeyExpr(this,t)},tt),Ze=(h(et,He=Ve),et.prototype.isEquivalent=function(e){return e instanceof et&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)},et.prototype.isConstant=function(){return!1},et.prototype.visitExpression=function(e,t){return e.visitWritePropExpr(this,t)},et);function et(e,t,n,r,i){i=He.call(this,r||n.type,i)||this;return i.receiver=e,i.name=t,i.value=n,i}function tt(e,t,n,r,i){i=qe.call(this,r||n.type,i)||this;return i.receiver=e,i.index=t,i.value=n,i}function nt(e,t,n,r){r=We.call(this,n||t.type,r)||this;return r.name=e,r.value=t,r}function rt(e,t,n){n=ze.call(this,t,n)||this;return n.node=e,n}function it(e,t,n){n=Ke.call(this,t,n)||this;return n.expr=e,n}function st(e,t,n){n=Qe.call(this,t,n)||this;return"string"==typeof e?(n.name=e,n.builtin=null):(n.name=null,n.builtin=e),n}(no=Ue=Ue||{})[no.ConcatArray=0]="ConcatArray",no[no.SubscribeObservable=1]="SubscribeObservable",no[no.Bind=2]="Bind";var ot,at,ut,pt,lt,ct=(h(wt,lt=Ve),wt.prototype.isEquivalent=function(e){return e instanceof wt&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.builtin===e.builtin&&De(this.args,e.args)},wt.prototype.isConstant=function(){return!1},wt.prototype.visitExpression=function(e,t){return e.visitInvokeMethodExpr(this,t)},wt),ht=(h(St,pt=Ve),St.prototype.isEquivalent=function(e){return e instanceof St&&this.fn.isEquivalent(e.fn)&&De(this.args,e.args)&&this.pure===e.pure},St.prototype.isConstant=function(){return!1},St.prototype.visitExpression=function(e,t){return e.visitInvokeFunctionExpr(this,t)},St),dt=(h(xt,ut=Ve),xt.prototype.isEquivalent=function(e){return e instanceof xt&&this.classExpr.isEquivalent(e.classExpr)&&De(this.args,e.args)},xt.prototype.isConstant=function(){return!1},xt.prototype.visitExpression=function(e,t){return e.visitInstantiateExpr(this,t)},xt),ft=(h(Et,at=Ve),Et.prototype.isEquivalent=function(e){return e instanceof Et&&this.value===e.value},Et.prototype.isConstant=function(){return!0},Et.prototype.visitExpression=function(e,t){return e.visitLiteralExpr(this,t)},Et),mt=(h(_t,ot=Ve),_t.prototype.isEquivalent=function(e){return!1},_t.prototype.isConstant=function(){return!1},_t.prototype.visitExpression=function(e,t){return e.visitLocalizedString(this,t)},_t.prototype.serializeI18nHead=function(){var t=this.metaBlock.description||"";return this.metaBlock.meaning&&(t=this.metaBlock.meaning+"|"+t),this.metaBlock.customId&&(t=t+"@@"+this.metaBlock.customId),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(function(e){t=t+"␟"+e}),Ct(t,this.messageParts[0])},_t.prototype.serializeI18nTemplatePart=function(e){return Ct(this.placeHolderNames[e-1],this.messageParts[e])},_t),vt=function(e){return e.replace(/\\/g,"\\\\")},yt=function(e){return e.replace(/:/g,"\\:")},gt=function(e){return e.replace(/`/g,"\\`").replace(/\${/g,"$\\{")};function _t(e,t,n,r,i){i=ot.call(this,Me,i)||this;return i.metaBlock=e,i.messageParts=t,i.placeHolderNames=n,i.expressions=r,i}function Et(e,t,n){n=at.call(this,t,n)||this;return n.value=e,n}function xt(e,t,n,r){r=ut.call(this,n,r)||this;return r.classExpr=e,r.args=t,r}function St(e,t,n,r,i){void 0===i&&(i=!1);r=pt.call(this,n,r)||this;return r.fn=e,r.args=t,r.pure=i,r}function wt(e,t,n,r,i){i=lt.call(this,r,i)||this;return i.receiver=e,i.args=n,"string"==typeof t?(i.name=t,i.builtin=null):(i.name=null,i.builtin=t),i}function Ct(e,t){return""===e?{cooked:t,raw:gt(vt(t).replace(/^:/,"\\:"))}:{cooked:":"+e+":"+t,raw:gt(":"+yt(vt(e))+":"+vt(t))}}function bt(e,t,n){this.moduleName=e,this.name=t,this.runtime=n}var Tt,Pt,Nt,At,Mt,It,kt,Rt,Ot,Ft,Lt,Dt,Bt,Vt=(h(mn,Bt=Ve),mn.prototype.isEquivalent=function(e){return e instanceof mn&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime},mn.prototype.isConstant=function(){return!1},mn.prototype.visitExpression=function(e,t){return e.visitExternalExpr(this,t)},mn),jt=(h(fn,Dt=Ve),fn.prototype.isEquivalent=function(e){return e instanceof fn&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&Le(this.falseCase,e.falseCase)},fn.prototype.isConstant=function(){return!1},fn.prototype.visitExpression=function(e,t){return e.visitConditionalExpr(this,t)},fn),Ut=(h(dn,Lt=Ve),dn.prototype.isEquivalent=function(e){return e instanceof dn&&this.condition.isEquivalent(e.condition)},dn.prototype.isConstant=function(){return!1},dn.prototype.visitExpression=function(e,t){return e.visitNotExpr(this,t)},dn),Ht=(h(hn,Ft=Ve),hn.prototype.isEquivalent=function(e){return e instanceof hn&&this.condition.isEquivalent(e.condition)},hn.prototype.isConstant=function(){return!1},hn.prototype.visitExpression=function(e,t){return e.visitAssertNotNullExpr(this,t)},hn),qt=(h(cn,Ot=Ve),cn.prototype.isEquivalent=function(e){return e instanceof cn&&this.value.isEquivalent(e.value)},cn.prototype.isConstant=function(){return!1},cn.prototype.visitExpression=function(e,t){return e.visitCastExpr(this,t)},cn),Wt=(ln.prototype.isEquivalent=function(e){return this.name===e.name},ln),zt=(h(pn,Rt=Ve),pn.prototype.isEquivalent=function(e){return e instanceof pn&&De(this.params,e.params)&&De(this.statements,e.statements)},pn.prototype.isConstant=function(){return!1},pn.prototype.visitExpression=function(e,t){return e.visitFunctionExpr(this,t)},pn.prototype.toDeclStmt=function(e,t){return new In(e,this.params,this.statements,this.type,t=void 0===t?null:t,this.sourceSpan)},pn),Kt=(h(un,kt=Ve),un.prototype.isEquivalent=function(e){return e instanceof un&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)},un.prototype.isConstant=function(){return!1},un.prototype.visitExpression=function(e,t){return e.visitBinaryOperatorExpr(this,t)},un),Qt=(h(an,It=Ve),an.prototype.isEquivalent=function(e){return e instanceof an&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name},an.prototype.isConstant=function(){return!1},an.prototype.visitExpression=function(e,t){return e.visitReadPropExpr(this,t)},an.prototype.set=function(e){return new Ze(this.receiver,this.name,e,null,this.sourceSpan)},an),Gt=(h(on,Mt=Ve),on.prototype.isEquivalent=function(e){return e instanceof on&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)},on.prototype.isConstant=function(){return!1},on.prototype.visitExpression=function(e,t){return e.visitReadKeyExpr(this,t)},on.prototype.set=function(e){return new Je(this.receiver,this.index,e,null,this.sourceSpan)},on),Xt=(h(sn,At=Ve),sn.prototype.isConstant=function(){return this.entries.every(function(e){return e.isConstant()})},sn.prototype.isEquivalent=function(e){return e instanceof sn&&De(this.entries,e.entries)},sn.prototype.visitExpression=function(e,t){return e.visitLiteralArrayExpr(this,t)},sn),$t=(rn.prototype.isEquivalent=function(e){return this.key===e.key&&this.value.isEquivalent(e.value)},rn),Yt=(h(nn,Nt=Ve),nn.prototype.isEquivalent=function(e){return e instanceof nn&&De(this.entries,e.entries)},nn.prototype.isConstant=function(){return this.entries.every(function(e){return e.value.isConstant()})},nn.prototype.visitExpression=function(e,t){return e.visitLiteralMapExpr(this,t)},nn),Jt=(h(tn,Pt=Ve),tn.prototype.isEquivalent=function(e){return e instanceof tn&&De(this.parts,e.parts)},tn.prototype.isConstant=function(){return!1},tn.prototype.visitExpression=function(e,t){return e.visitCommaExpr(this,t)},tn),Zt=(new Ge(Be.This,null,null),new Ge(Be.Super,null,null),new Ge(Be.CatchError,null,null),new Ge(Be.CatchStack,null,null),new ft(null,null,null)),en=new ft(null,Pe,null);function tn(e,t){t=Pt.call(this,e[e.length-1].type,t)||this;return t.parts=e,t}function nn(e,t,n){n=Nt.call(this,t,n)||this;return n.entries=e,n.valueType=null,t&&(n.valueType=t.valueType),n}function rn(e,t,n){this.key=e,this.value=t,this.quoted=n}function sn(e,t,n){n=At.call(this,t,n)||this;return n.entries=e,n}function on(e,t,n,r){r=Mt.call(this,n,r)||this;return r.receiver=e,r.index=t,r}function an(e,t,n,r){r=It.call(this,n,r)||this;return r.receiver=e,r.name=t,r}function un(e,t,n,r,i,s){void 0===s&&(s=!0);i=kt.call(this,r||t.type,i)||this;return i.operator=e,i.rhs=n,i.parens=s,i.lhs=t,i}function pn(e,t,n,r,i){r=Rt.call(this,n,r)||this;return r.params=e,r.statements=t,r.name=i,r}function ln(e,t){void 0===t&&(t=null),this.name=e,this.type=t}function cn(e,t,n){n=Ot.call(this,t,n)||this;return n.value=e,n}function hn(e,t){t=Ft.call(this,e.type,t)||this;return t.condition=e,t}function dn(e,t){t=Lt.call(this,Ne,t)||this;return t.condition=e,t}function fn(e,t,n,r,i){void 0===n&&(n=null);i=Dt.call(this,r||t.type,i)||this;return i.condition=e,i.falseCase=n,i.trueCase=t,i}function mn(e,t,n,r){void 0===n&&(n=null);r=Bt.call(this,t,r)||this;return r.value=e,r.typeParams=n,r}(ro=Tt=Tt||{})[ro.Final=0]="Final",ro[ro.Private=1]="Private",ro[ro.Exported=2]="Exported",ro[ro.Static=3]="Static";var vn,yn,gn,_n,En,xn,Sn,wn,Cn,bn,Tn,Pn,Nn,An=(ur.prototype.hasModifier=function(e){return-1!==this.modifiers.indexOf(e)},ur),Mn=(h(ar,Nn=An),ar.prototype.isEquivalent=function(e){return e instanceof ar&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)},ar.prototype.visitStatement=function(e,t){return e.visitDeclareVarStmt(this,t)},ar),In=(h(or,Pn=An),or.prototype.isEquivalent=function(e){return e instanceof or&&De(this.params,e.params)&&De(this.statements,e.statements)},or.prototype.visitStatement=function(e,t){return e.visitDeclareFunctionStmt(this,t)},or),kn=(h(sr,Tn=An),sr.prototype.isEquivalent=function(e){return e instanceof sr&&this.expr.isEquivalent(e.expr)},sr.prototype.visitStatement=function(e,t){return e.visitExpressionStmt(this,t)},sr),Rn=(h(ir,bn=An),ir.prototype.isEquivalent=function(e){return e instanceof ir&&this.value.isEquivalent(e.value)},ir.prototype.visitStatement=function(e,t){return e.visitReturnStmt(this,t)},ir),On=(rr.prototype.hasModifier=function(e){return-1!==this.modifiers.indexOf(e)},rr),Fn=(h(nr,Cn=On),nr.prototype.isEquivalent=function(e){return this.name===e.name},nr),Ln=(h(tr,wn=On),tr.prototype.isEquivalent=function(e){return this.name===e.name&&De(this.body,e.body)},tr),Dn=(h(er,Sn=On),er.prototype.isEquivalent=function(e){return this.name===e.name&&De(this.body,e.body)},er),Bn=(h(Zn,xn=An),Zn.prototype.isEquivalent=function(e){return e instanceof Zn&&this.name===e.name&&Le(this.parent,e.parent)&&De(this.fields,e.fields)&&De(this.getters,e.getters)&&this.constructorMethod.isEquivalent(e.constructorMethod)&&De(this.methods,e.methods)},Zn.prototype.visitStatement=function(e,t){return e.visitDeclareClassStmt(this,t)},Zn),Vn=(h(Jn,En=An),Jn.prototype.isEquivalent=function(e){return e instanceof Jn&&this.condition.isEquivalent(e.condition)&&De(this.trueCase,e.trueCase)&&De(this.falseCase,e.falseCase)},Jn.prototype.visitStatement=function(e,t){return e.visitIfStmt(this,t)},Jn),jn=(h(Yn,_n=An),Yn.prototype.isEquivalent=function(e){return e instanceof Yn},Yn.prototype.visitStatement=function(e,t){return e.visitCommentStmt(this,t)},Yn),Un=(h($n,gn=An),$n.prototype.isEquivalent=function(e){return e instanceof $n&&this.toString()===e.toString()},$n.prototype.visitStatement=function(e,t){return e.visitJSDocCommentStmt(this,t)},$n.prototype.toString=function(){return function(e){var t,n;if(0===e.length)return"";var r="*\n";try{for(var i=D(e),s=i.next();!s.done;s=i.next()){var o=s.value;r+=" *",r+=function(e){var t="";if(e.tagName&&(t+=" @"+e.tagName),e.text){if(e.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');t+=" "+e.text.replace(/@/g,"\\@")}return t}(o).replace(/\n/g,"\n * "),r+="\n"}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r+" "}(this.tags)},$n),Hn=(h(Xn,yn=An),Xn.prototype.isEquivalent=function(e){return e instanceof Xn&&De(this.bodyStmts,e.bodyStmts)&&De(this.catchStmts,e.catchStmts)},Xn.prototype.visitStatement=function(e,t){return e.visitTryCatchStmt(this,t)},Xn),qn=(h(Gn,vn=An),Gn.prototype.isEquivalent=function(e){return e instanceof Hn&&this.error.isEquivalent(e.error)},Gn.prototype.visitStatement=function(e,t){return e.visitThrowStmt(this,t)},Gn),Wn=(Qn.prototype.transformExpr=function(e,t){return e},Qn.prototype.transformStmt=function(e,t){return e},Qn.prototype.visitReadVarExpr=function(e,t){return this.transformExpr(e,t)},Qn.prototype.visitWrappedNodeExpr=function(e,t){return this.transformExpr(e,t)},Qn.prototype.visitTypeofExpr=function(e,t){return this.transformExpr(new Xe(e.expr.visitExpression(this,t),e.type,e.sourceSpan),t)},Qn.prototype.visitWriteVarExpr=function(e,t){return this.transformExpr(new Ye(e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)},Qn.prototype.visitWriteKeyExpr=function(e,t){return this.transformExpr(new Je(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),e.type,e.sourceSpan),t)},Qn.prototype.visitWritePropExpr=function(e,t){return this.transformExpr(new Ze(e.receiver.visitExpression(this,t),e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)},Qn.prototype.visitInvokeMethodExpr=function(e,t){var n=e.builtin||e.name;return this.transformExpr(new ct(e.receiver.visitExpression(this,t),n,this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)},Qn.prototype.visitInvokeFunctionExpr=function(e,t){return this.transformExpr(new ht(e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)},Qn.prototype.visitInstantiateExpr=function(e,t){return this.transformExpr(new dt(e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)},Qn.prototype.visitLiteralExpr=function(e,t){return this.transformExpr(e,t)},Qn.prototype.visitLocalizedString=function(e,t){return this.transformExpr(new mt(e.metaBlock,e.messageParts,e.placeHolderNames,this.visitAllExpressions(e.expressions,t),e.sourceSpan),t)},Qn.prototype.visitExternalExpr=function(e,t){return this.transformExpr(e,t)},Qn.prototype.visitConditionalExpr=function(e,t){return this.transformExpr(new jt(e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),e.type,e.sourceSpan),t)},Qn.prototype.visitNotExpr=function(e,t){return this.transformExpr(new Ut(e.condition.visitExpression(this,t),e.sourceSpan),t)},Qn.prototype.visitAssertNotNullExpr=function(e,t){return this.transformExpr(new Ht(e.condition.visitExpression(this,t),e.sourceSpan),t)},Qn.prototype.visitCastExpr=function(e,t){return this.transformExpr(new qt(e.value.visitExpression(this,t),e.type,e.sourceSpan),t)},Qn.prototype.visitFunctionExpr=function(e,t){return this.transformExpr(new zt(e.params,this.visitAllStatements(e.statements,t),e.type,e.sourceSpan),t)},Qn.prototype.visitBinaryOperatorExpr=function(e,t){return this.transformExpr(new Kt(e.operator,e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e.type,e.sourceSpan),t)},Qn.prototype.visitReadPropExpr=function(e,t){return this.transformExpr(new Qt(e.receiver.visitExpression(this,t),e.name,e.type,e.sourceSpan),t)},Qn.prototype.visitReadKeyExpr=function(e,t){return this.transformExpr(new Gt(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.type,e.sourceSpan),t)},Qn.prototype.visitLiteralArrayExpr=function(e,t){return this.transformExpr(new Xt(this.visitAllExpressions(e.entries,t),e.type,e.sourceSpan),t)},Qn.prototype.visitLiteralMapExpr=function(e,t){var n=this,r=e.entries.map(function(e){return new $t(e.key,e.value.visitExpression(n,t),e.quoted)}),i=new be(e.valueType,null);return this.transformExpr(new Yt(r,i,e.sourceSpan),t)},Qn.prototype.visitCommaExpr=function(e,t){return this.transformExpr(new Jt(this.visitAllExpressions(e.parts,t),e.sourceSpan),t)},Qn.prototype.visitAllExpressions=function(e,t){var n=this;return e.map(function(e){return e.visitExpression(n,t)})},Qn.prototype.visitDeclareVarStmt=function(e,t){var n=e.value&&e.value.visitExpression(this,t);return this.transformStmt(new Mn(e.name,n,e.type,e.modifiers,e.sourceSpan),t)},Qn.prototype.visitDeclareFunctionStmt=function(e,t){return this.transformStmt(new In(e.name,e.params,this.visitAllStatements(e.statements,t),e.type,e.modifiers,e.sourceSpan),t)},Qn.prototype.visitExpressionStmt=function(e,t){return this.transformStmt(new kn(e.expr.visitExpression(this,t),e.sourceSpan),t)},Qn.prototype.visitReturnStmt=function(e,t){return this.transformStmt(new Rn(e.value.visitExpression(this,t),e.sourceSpan),t)},Qn.prototype.visitDeclareClassStmt=function(e,t){var n=this,r=e.parent.visitExpression(this,t),i=e.getters.map(function(e){return new Dn(e.name,n.visitAllStatements(e.body,t),e.type,e.modifiers)}),s=e.constructorMethod&&new Ln(e.constructorMethod.name,e.constructorMethod.params,this.visitAllStatements(e.constructorMethod.body,t),e.constructorMethod.type,e.constructorMethod.modifiers),o=e.methods.map(function(e){return new Ln(e.name,e.params,n.visitAllStatements(e.body,t),e.type,e.modifiers)});return this.transformStmt(new Bn(e.name,r,e.fields,i,s,o,e.modifiers,e.sourceSpan),t)},Qn.prototype.visitIfStmt=function(e,t){return this.transformStmt(new Vn(e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e.sourceSpan),t)},Qn.prototype.visitTryCatchStmt=function(e,t){return this.transformStmt(new Hn(this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e.sourceSpan),t)},Qn.prototype.visitThrowStmt=function(e,t){return this.transformStmt(new qn(e.error.visitExpression(this,t),e.sourceSpan),t)},Qn.prototype.visitCommentStmt=function(e,t){return this.transformStmt(e,t)},Qn.prototype.visitJSDocCommentStmt=function(e,t){return this.transformStmt(e,t)},Qn.prototype.visitAllStatements=function(e,t){var n=this;return e.map(function(e){return e.visitStatement(n,t)})},Qn),zn=(Kn.prototype.visitType=function(e,t){return e},Kn.prototype.visitExpression=function(e,t){return e.type&&e.type.visitType(this,t),e},Kn.prototype.visitBuiltinType=function(e,t){return this.visitType(e,t)},Kn.prototype.visitExpressionType=function(e,t){var n=this;return e.value.visitExpression(this,t),null!==e.typeParams&&e.typeParams.forEach(function(e){return n.visitType(e,t)}),this.visitType(e,t)},Kn.prototype.visitArrayType=function(e,t){return this.visitType(e,t)},Kn.prototype.visitMapType=function(e,t){return this.visitType(e,t)},Kn.prototype.visitWrappedNodeExpr=function(e,t){return e},Kn.prototype.visitTypeofExpr=function(e,t){return this.visitExpression(e,t)},Kn.prototype.visitReadVarExpr=function(e,t){return this.visitExpression(e,t)},Kn.prototype.visitWriteVarExpr=function(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)},Kn.prototype.visitWriteKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)},Kn.prototype.visitWritePropExpr=function(e,t){return e.receiver.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)},Kn.prototype.visitInvokeMethodExpr=function(e,t){return e.receiver.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)},Kn.prototype.visitInvokeFunctionExpr=function(e,t){return e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)},Kn.prototype.visitInstantiateExpr=function(e,t){return e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)},Kn.prototype.visitLiteralExpr=function(e,t){return this.visitExpression(e,t)},Kn.prototype.visitLocalizedString=function(e,t){return this.visitExpression(e,t)},Kn.prototype.visitExternalExpr=function(e,t){var n=this;return e.typeParams&&e.typeParams.forEach(function(e){return e.visitType(n,t)}),this.visitExpression(e,t)},Kn.prototype.visitConditionalExpr=function(e,t){return e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),this.visitExpression(e,t)},Kn.prototype.visitNotExpr=function(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)},Kn.prototype.visitAssertNotNullExpr=function(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)},Kn.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)},Kn.prototype.visitFunctionExpr=function(e,t){return this.visitAllStatements(e.statements,t),this.visitExpression(e,t)},Kn.prototype.visitBinaryOperatorExpr=function(e,t){return e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),this.visitExpression(e,t)},Kn.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t),this.visitExpression(e,t)},Kn.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),this.visitExpression(e,t)},Kn.prototype.visitLiteralArrayExpr=function(e,t){return this.visitAllExpressions(e.entries,t),this.visitExpression(e,t)},Kn.prototype.visitLiteralMapExpr=function(e,t){var n=this;return e.entries.forEach(function(e){return e.value.visitExpression(n,t)}),this.visitExpression(e,t)},Kn.prototype.visitCommaExpr=function(e,t){return this.visitAllExpressions(e.parts,t),this.visitExpression(e,t)},Kn.prototype.visitAllExpressions=function(e,t){var n=this;e.forEach(function(e){return e.visitExpression(n,t)})},Kn.prototype.visitDeclareVarStmt=function(e,t){return e.value&&e.value.visitExpression(this,t),e.type&&e.type.visitType(this,t),e},Kn.prototype.visitDeclareFunctionStmt=function(e,t){return this.visitAllStatements(e.statements,t),e.type&&e.type.visitType(this,t),e},Kn.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t),e},Kn.prototype.visitReturnStmt=function(e,t){return e.value.visitExpression(this,t),e},Kn.prototype.visitDeclareClassStmt=function(e,t){var n=this;return e.parent.visitExpression(this,t),e.getters.forEach(function(e){return n.visitAllStatements(e.body,t)}),e.constructorMethod&&this.visitAllStatements(e.constructorMethod.body,t),e.methods.forEach(function(e){return n.visitAllStatements(e.body,t)}),e},Kn.prototype.visitIfStmt=function(e,t){return e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e},Kn.prototype.visitTryCatchStmt=function(e,t){return this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e},Kn.prototype.visitThrowStmt=function(e,t){return e.error.visitExpression(this,t),e},Kn.prototype.visitCommentStmt=function(e,t){return e},Kn.prototype.visitJSDocCommentStmt=function(e,t){return e},Kn.prototype.visitAllStatements=function(e,t){var n=this;e.forEach(function(e){return e.visitStatement(n,t)})},Kn);function Kn(){}function Qn(){}function Gn(e,t){t=vn.call(this,null,t)||this;return t.error=e,t}function Xn(e,t,n){n=yn.call(this,null,n)||this;return n.bodyStmts=e,n.catchStmts=t,n}function $n(e,t){void 0===e&&(e=[]);t=gn.call(this,null,t)||this;return t.tags=e,t}function Yn(e,t,n){void 0===t&&(t=!1);n=_n.call(this,null,n)||this;return n.comment=e,n.multiline=t,n}function Jn(e,t,n,r){void 0===n&&(n=[]);r=En.call(this,null,r)||this;return r.condition=e,r.trueCase=t,r.falseCase=n,r}function Zn(e,t,n,r,i,s,o,a){a=xn.call(this,o=void 0===o?null:o,a)||this;return a.name=e,a.parent=t,a.fields=n,a.getters=r,a.constructorMethod=i,a.methods=s,a}function er(e,t,n,r){r=Sn.call(this,n,r=void 0===r?null:r)||this;return r.name=e,r.body=t,r}function tr(e,t,n,r,i){i=wn.call(this,r,i=void 0===i?null:i)||this;return i.name=e,i.params=t,i.body=n,i}function nr(e,t,n,r){n=Cn.call(this,t,n=void 0===n?null:n)||this;return n.name=e,n.initializer=r,n}function rr(e,t){(this.modifiers=t)||(this.modifiers=[]),this.type=e||null}function ir(e,t){t=bn.call(this,null,t)||this;return t.value=e,t}function sr(e,t){t=Tn.call(this,null,t)||this;return t.expr=e,t}function or(e,t,n,r,i,s){s=Pn.call(this,i=void 0===i?null:i,s)||this;return s.name=e,s.params=t,s.statements=n,s.type=r||null,s}function ar(e,t,n,r,i){i=Nn.call(this,r=void 0===r?null:r,i)||this;return i.name=e,i.value=t,i.type=n||t&&t.type||null,i}function ur(e,t){this.modifiers=e||[],this.sourceSpan=t||null}function pr(e){var t=new cr;return t.visitAllStatements(e,null),t.varNames}var lr,cr=(h(hr,lr=zn),hr.prototype.visitDeclareFunctionStmt=function(e,t){return e},hr.prototype.visitDeclareClassStmt=function(e,t){return e},hr.prototype.visitReadVarExpr=function(e,t){return e.name&&this.varNames.add(e.name),null},hr);function hr(){var e=null!==lr&&lr.apply(this,arguments)||this;return e.varNames=new Set,e}var dr,fr=(h(mr,dr=zn),mr.prototype.visitExternalExpr=function(e,t){return this.externalReferences.push(e.value),dr.prototype.visitExternalExpr.call(this,e,t)},mr);function mr(){var e=null!==dr&&dr.apply(this,arguments)||this;return e.externalReferences=[],e}function vr(e,t){if(!t)return e;t=new _r(t);return e.visitStatement(t,null)}function yr(e,t){if(!t)return e;t=new _r(t);return e.visitExpression(t,null)}var gr,_r=(h(Er,gr=Wn),Er.prototype._clone=function(e){var t,n,r=Object.create(e.constructor.prototype);try{for(var i=D(Object.keys(e)),s=i.next();!s.done;s=i.next()){var o=s.value;r[o]=e[o]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},Er.prototype.transformExpr=function(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e},Er.prototype.transformStmt=function(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e},Er);function Er(e){var t=gr.call(this)||this;return t.sourceSpan=e,t}function xr(e,t,n){return new Ge(e,t,n)}function Sr(e,t,n){return new Vt(e,null,t=void 0===t?null:t,n)}function wr(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),null!=e?Cr(Sr(e,t,null),n):null}function Cr(e,t,n){return new we(e,t=void 0===t?null:t,n=void 0===n?null:n)}function br(e){return new Xe(e)}function Tr(e,t,n){return new Xt(e,t,n)}function Pr(e,t){return void 0===t&&(t=null),new Yt(e.map(function(e){return new $t(e.key,e.value,e.quoted)}),t,null)}function Nr(e,t,n,r,i){return new zt(e,t,n,r,i)}function Ar(e,t,n){return new Vn(e,t,n)}function Mr(e,t,n){return new ft(e,t,n)}function Ir(e){return e instanceof ft&&null===e.value}var kr=/-+([a-z0-9])/g;function Rr(e,t){return Or(e,":",t)}function Or(e,t,n){t=e.indexOf(t);return-1==t?n:[e.slice(0,t).trim(),e.slice(t+1).trim()]}function Fr(e,t,n){return Array.isArray(e)?t.visitArray(e,n):"object"==typeof e&&null!==e&&Object.getPrototypeOf(e)===Gr?t.visitStringMap(e,n):null==e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e?t.visitPrimitive(e,n):t.visitOther(e,n)}function Lr(e){return null!=e}function Dr(e){return void 0===e?null:e}function Br(e){if(Jr(e))throw new Error("Illegal state: value cannot be a promise");return e}function Vr(e,t){return Jr(e)?e.then(t):t(e)}function jr(e){return e.some(Jr)?Promise.all(e):e}var Ur=(Hr.prototype.visitArray=function(e,t){var n=this;return e.map(function(e){return Fr(e,n,t)})},Hr.prototype.visitStringMap=function(t,n){var r=this,i={};return Object.keys(t).forEach(function(e){i[e]=Fr(t[e],r,n)}),i},Hr.prototype.visitPrimitive=function(e,t){return e},Hr.prototype.visitOther=function(e,t){return e},Hr);function Hr(){}function qr(e){throw new Error("Internal Error: "+e)}function Wr(e,t){e=Error(e);return e[zr]=!0,t&&(e[Kr]=t),e}var zr="ngSyntaxError",Kr="ngParseErrors";function Qr(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}var Gr=Object.getPrototypeOf({});function Xr(e){for(var t="",n=0;n<e.length;n++){var r,i=e.charCodeAt(n);55296<=i&&i<=56319&&e.length>n+1&&(56320<=(r=e.charCodeAt(n+1))&&r<=57343&&(n++,i=(i-55296<<10)+r-56320+65536)),i<=127?t+=String.fromCharCode(i):i<=2047?t+=String.fromCharCode(i>>6&31|192,63&i|128):i<=65535?t+=String.fromCharCode(i>>12|224,i>>6&63|128,63&i|128):i<=2097151&&(t+=String.fromCharCode(i>>18&7|240,i>>12&63|128,i>>6&63|128,63&i|128))}return t}function $r(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map($r).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;if(!e.toString)return"object";var t=e.toString();if(null==t)return""+t;e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Yr(e){return"function"==typeof e&&e.hasOwnProperty("__forward_ref__")?e():e}function Jr(e){return!!e&&"function"==typeof e.then}var Zr=function(e){e=(this.full=e).split(".");this.major=e[0],this.minor=e[1],this.patch=e.slice(2).join(".")},ei="undefined"!=typeof window&&window,ti="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ni=s||ei||ti;function ri(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}var ii,si=xr("<unknown>"),oi={},ai=(h(hi,ii=Ve),hi.prototype.visitExpression=function(e,t){return(t===oi?this.original:this.resolved).visitExpression(e,t)},hi.prototype.isEquivalent=function(e){return e instanceof hi&&this.resolved.isEquivalent(e.resolved)},hi.prototype.isConstant=function(){return!0},hi.prototype.fixup=function(e){this.resolved=e,this.shared=!0},hi),ui=(ci.prototype.getConstLiteral=function(e,t){if(e instanceof ft||e instanceof ai)return e;var n=this.keyOf(e),r=this.literals.get(n),i=!1;return r||(r=new ai(e),this.literals.set(n,r),i=!0),(!i&&!r.shared||i&&t)&&(t=this.freshName(),this.statements.push(xr(t).set(e).toDeclStmt(Pe,[Tt.Final])),r.fixup(xr(t))),r},ci.prototype.getDefinition=function(e,t,n,r){void 0===r&&(r=!1);var i=this.definitionsOf(t),s=i.get(e),o=!1;return s||(t=this.propertyNameOf(t),s=new ai(n.importExpr(e).prop(t)),i.set(e,s),o=!0),(!o&&!s.shared||o&&r)&&(r=this.freshName(),this.statements.push(xr(r).set(s.resolved).toDeclStmt(Pe,[Tt.Final])),s.fixup(xr(r))),s},ci.prototype.getLiteralFactory=function(n){if(n instanceof Xt){var e=n.entries.map(function(e){return e.isConstant()?e:si}),t=this.keyOf(Tr(e));return this._getLiteralFactory(t,n.entries,function(e){return Tr(e)})}e=Pr(n.entries.map(function(e){return{key:e.key,value:e.value.isConstant()?e.value:si,quoted:e.quoted}})),t=this.keyOf(e);return this._getLiteralFactory(t,n.entries.map(function(e){return e.value}),function(e){return Pr(e.map(function(e,t){return{key:n.entries[t].key,value:e,quoted:n.entries[t].quoted}}))})},ci.prototype._getLiteralFactory=function(e,t,n){var r=this,i=this.literalFactories.get(e),s=t.filter(function(e){return!e.isConstant()});return i||(n=Nr((t=t.map(function(e,t){return e.isConstant()?r.getConstLiteral(e,!0):xr("a"+t)})).filter(fi).map(function(e){return new Wt(e.name,Te)}),[new Rn(n(t))],Pe),t=this.freshName(),this.statements.push(xr(t).set(n).toDeclStmt(Pe,[Tt.Final])),i=xr(t),this.literalFactories.set(e,i)),{literalFactory:i,literalFactoryArguments:s}},ci.prototype.uniqueName=function(e){return""+e+this.nextNameIndex++},ci.prototype.definitionsOf=function(e){switch(e){case 2:return this.componentDefinitions;case 1:return this.directiveDefinitions;case 0:return this.injectorDefinitions;case 3:return this.pipeDefinitions}return qr("Unknown definition kind "+e),this.componentDefinitions},ci.prototype.propertyNameOf=function(e){switch(e){case 2:return"ɵcmp";case 1:return"ɵdir";case 0:return"ɵinj";case 3:return"ɵpipe"}return qr("Unknown definition kind "+e),"<unknown>"},ci.prototype.freshName=function(){return this.uniqueName("_c")},ci.prototype.keyOf=function(e){return e.visitExpression(new pi,oi)},ci),pi=(li.prototype.visitLiteralExpr=function(e){return""+("string"==typeof e.value?'"'+e.value+'"':e.value)},li.prototype.visitLiteralArrayExpr=function(e,t){var n=this;return"["+e.entries.map(function(e){return e.visitExpression(n,t)}).join(",")+"]"},li.prototype.visitLiteralMapExpr=function(e,n){var r=this;return"{"+e.entries.map(function(e){return(t=e.quoted?'"':"")+e.key+t+":"+e.value.visitExpression(r,n);var t}).join(",")},li.prototype.visitExternalExpr=function(e){return e.value.moduleName?"EX:"+e.value.moduleName+":"+e.value.name:"EX:"+e.value.runtime.name},li.prototype.visitReadVarExpr=function(e){return"VAR:"+e.name},li.prototype.visitTypeofExpr=function(e,t){return"TYPEOF:"+e.expr.visitExpression(this,t)},li);function li(){this.visitWrappedNodeExpr=di,this.visitWriteVarExpr=di,this.visitWriteKeyExpr=di,this.visitWritePropExpr=di,this.visitInvokeMethodExpr=di,this.visitInvokeFunctionExpr=di,this.visitInstantiateExpr=di,this.visitConditionalExpr=di,this.visitNotExpr=di,this.visitAssertNotNullExpr=di,this.visitCastExpr=di,this.visitFunctionExpr=di,this.visitBinaryOperatorExpr=di,this.visitReadPropExpr=di,this.visitReadKeyExpr=di,this.visitCommaExpr=di,this.visitLocalizedString=di}function ci(){this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.injectorDefinitions=new Map,this.directiveDefinitions=new Map,this.componentDefinitions=new Map,this.pipeDefinitions=new Map,this.nextNameIndex=0}function hi(e){var t=ii.call(this,e.type)||this;return t.resolved=e,t.original=e,t}function di(e){throw new Error("Invalid state: Visitor "+this.constructor.name+" doesn't handle "+e.constructor.name)}function fi(e){return e instanceof Ge}var mi="@angular/core",vi=(yi.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleName:mi},yi.ElementRef={name:"ElementRef",moduleName:mi},yi.NgModuleRef={name:"NgModuleRef",moduleName:mi},yi.ViewContainerRef={name:"ViewContainerRef",moduleName:mi},yi.ChangeDetectorRef={name:"ChangeDetectorRef",moduleName:mi},yi.QueryList={name:"QueryList",moduleName:mi},yi.TemplateRef={name:"TemplateRef",moduleName:mi},yi.Renderer2={name:"Renderer2",moduleName:mi},yi.CodegenComponentFactoryResolver={name:"ɵCodegenComponentFactoryResolver",moduleName:mi},yi.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleName:mi},yi.ComponentFactory={name:"ComponentFactory",moduleName:mi},yi.ComponentRef={name:"ComponentRef",moduleName:mi},yi.NgModuleFactory={name:"NgModuleFactory",moduleName:mi},yi.createModuleFactory={name:"ɵcmf",moduleName:mi},yi.moduleDef={name:"ɵmod",moduleName:mi},yi.moduleProviderDef={name:"ɵmpd",moduleName:mi},yi.RegisterModuleFactoryFn={name:"ɵregisterModuleFactory",moduleName:mi},yi.inject={name:"ɵɵinject",moduleName:mi},yi.directiveInject={name:"ɵɵdirectiveInject",moduleName:mi},yi.INJECTOR={name:"INJECTOR",moduleName:mi},yi.Injector={name:"Injector",moduleName:mi},yi.ɵɵdefineInjectable={name:"ɵɵdefineInjectable",moduleName:mi},yi.InjectableDef={name:"ɵɵInjectableDef",moduleName:mi},yi.ViewEncapsulation={name:"ViewEncapsulation",moduleName:mi},yi.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:mi},yi.SecurityContext={name:"SecurityContext",moduleName:mi},yi.LOCALE_ID={name:"LOCALE_ID",moduleName:mi},yi.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleName:mi},yi.inlineInterpolate={name:"ɵinlineInterpolate",moduleName:mi},yi.interpolate={name:"ɵinterpolate",moduleName:mi},yi.EMPTY_ARRAY={name:"ɵEMPTY_ARRAY",moduleName:mi},yi.EMPTY_MAP={name:"ɵEMPTY_MAP",moduleName:mi},yi.Renderer={name:"Renderer",moduleName:mi},yi.viewDef={name:"ɵvid",moduleName:mi},yi.elementDef={name:"ɵeld",moduleName:mi},yi.anchorDef={name:"ɵand",moduleName:mi},yi.textDef={name:"ɵted",moduleName:mi},yi.directiveDef={name:"ɵdid",moduleName:mi},yi.providerDef={name:"ɵprd",moduleName:mi},yi.queryDef={name:"ɵqud",moduleName:mi},yi.pureArrayDef={name:"ɵpad",moduleName:mi},yi.pureObjectDef={name:"ɵpod",moduleName:mi},yi.purePipeDef={name:"ɵppd",moduleName:mi},yi.pipeDef={name:"ɵpid",moduleName:mi},yi.nodeValue={name:"ɵnov",moduleName:mi},yi.ngContentDef={name:"ɵncd",moduleName:mi},yi.unwrapValue={name:"ɵunv",moduleName:mi},yi.createRendererType2={name:"ɵcrt",moduleName:mi},yi.RendererType2={name:"RendererType2",moduleName:mi},yi.ViewDefinition={name:"ɵViewDefinition",moduleName:mi},yi.createComponentFactory={name:"ɵccf",moduleName:mi},yi.setClassMetadata={name:"ɵsetClassMetadata",moduleName:mi},yi);function yi(){}function gi(e){return{identifier:{reference:e}}}function _i(e,t){return gi(e.resolveExternalReference(t))}var Ei=(Ci.prototype.assertNoMembers=function(){if(this.members.length)throw new Error("Illegal state: symbol without members expected, but got "+JSON.stringify(this)+".")},Ci),xi=(wi.prototype.get=function(e,t,n){var r='"'+e+'".'+t+((n=n||[]).length?"."+n.join("."):""),i=this.cache.get(r);return i||(i=new Ei(e,t,n),this.cache.set(r,i)),i},wi),Si=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/;function wi(){this.cache=new Map}function Ci(e,t,n){this.filePath=e,this.name=t,this.members=n}function bi(e){return e.replace(/\W/g,"_")}var Ti,Pi=0;function Ni(e){if(!e||!e.reference)return null;var t=e.reference;if(t instanceof Ei)return t.name;if(t.__anonymousType)return t.__anonymousType;e=$r(t);return 0<=e.indexOf("(")?(e="anonymous_"+Pi++,t.__anonymousType=e):e=bi(e),e}function Ai(e){e=e.reference;return e instanceof Ei?e.filePath:"./"+$r(e)}function Mi(e,t){return"View_"+Ni({reference:e})+"_"+t}function Ii(e){return"RenderType_"+Ni({reference:e})}function ki(e){return"HostView_"+Ni({reference:e})}function Ri(e){return Ni({reference:e})+"NgFactory"}function Oi(e){return null!=e.value?bi(e.value):Ni(e.identifier)}function Fi(e){return null!=e.identifier?e.identifier.reference:e.value}(lu=Ti=Ti||{})[lu.Pipe=0]="Pipe",lu[lu.Directive=1]="Directive",lu[lu.NgModule=2]="NgModule",lu[lu.Injectable=3]="Injectable";function Li(e){var t=(n=void 0===e?{}:e).moduleUrl,e=n.styles,n=n.styleUrls;this.moduleUrl=t||null,this.styles=e||[],this.styleUrls=n||[]}var Di=(Ki.prototype.toSummary=function(){return{ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation,styles:this.styles,animations:this.animations}},Ki),Bi=(zi.create=function(e){var t=e.isHost,n=e.type,r=e.isComponent,i=e.selector,s=e.exportAs,o=e.changeDetection,a=e.inputs,u=e.outputs,p=e.host,l=e.providers,c=e.viewProviders,h=e.queries,d=e.guards,f=e.viewQueries,m=e.entryComponents,v=e.template,y=e.componentViewType,g=e.rendererType,e=e.componentFactory,_={},E={},x={};null!=p&&Object.keys(p).forEach(function(e){var t=p[e],n=e.match(Si);null===n?x[e]=t:null!=n[1]?E[n[1]]=t:null!=n[2]&&(_[n[2]]=t)});var S={};null!=a&&a.forEach(function(e){e=Rr(e,[e,e]);S[e[0]]=e[1]});var w={};return null!=u&&u.forEach(function(e){e=Rr(e,[e,e]);w[e[0]]=e[1]}),new zi({isHost:t,type:n,isComponent:!!r,selector:i,exportAs:s,changeDetection:o,inputs:S,outputs:w,hostListeners:_,hostProperties:E,hostAttributes:x,providers:l,viewProviders:c,queries:h,guards:d,viewQueries:f,entryComponents:m,template:v,componentViewType:y,rendererType:g,componentFactory:e})},zi.prototype.toSummary=function(){return{summaryKind:Ti.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,guards:this.guards,viewQueries:this.viewQueries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary(),componentViewType:this.componentViewType,rendererType:this.rendererType,componentFactory:this.componentFactory}},zi),Vi=(Wi.prototype.toSummary=function(){return{summaryKind:Ti.Pipe,type:this.type,name:this.name,pure:this.pure}},Wi),ji=(qi.prototype.toSummary=function(){var e=this.transitiveModule;return{summaryKind:Ti.NgModule,type:this.type,entryComponents:e.entryComponents,providers:e.providers,modules:e.modules,exportedDirectives:e.exportedDirectives,exportedPipes:e.exportedPipes}},qi),Ui=(Hi.prototype.addProvider=function(e,t){this.providers.push({provider:e,module:t})},Hi.prototype.addDirective=function(e){this.directivesSet.has(e.reference)||(this.directivesSet.add(e.reference),this.directives.push(e))},Hi.prototype.addExportedDirective=function(e){this.exportedDirectivesSet.has(e.reference)||(this.exportedDirectivesSet.add(e.reference),this.exportedDirectives.push(e))},Hi.prototype.addPipe=function(e){this.pipesSet.has(e.reference)||(this.pipesSet.add(e.reference),this.pipes.push(e))},Hi.prototype.addExportedPipe=function(e){this.exportedPipesSet.has(e.reference)||(this.exportedPipesSet.add(e.reference),this.exportedPipes.push(e))},Hi.prototype.addModule=function(e){this.modulesSet.has(e.reference)||(this.modulesSet.add(e.reference),this.modules.push(e))},Hi.prototype.addEntryComponent=function(e){this.entryComponentsSet.has(e.componentType)||(this.entryComponentsSet.add(e.componentType),this.entryComponents.push(e))},Hi);function Hi(){this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}function qi(e){var t=e.type,n=e.providers,r=e.declaredDirectives,i=e.exportedDirectives,s=e.declaredPipes,o=e.exportedPipes,a=e.entryComponents,u=e.bootstrapComponents,p=e.importedModules,l=e.exportedModules,c=e.schemas,h=e.transitiveModule,e=e.id;this.type=t||null,this.declaredDirectives=r||[],this.exportedDirectives=i||[],this.declaredPipes=s||[],this.exportedPipes=o||[],this.providers=n||[],this.entryComponents=a||[],this.bootstrapComponents=u||[],this.importedModules=p||[],this.exportedModules=l||[],this.schemas=c||[],this.id=e||null,this.transitiveModule=h||null}function Wi(e){var t=e.type,n=e.name,e=e.pure;this.type=t,this.name=n,this.pure=!!e}function zi(e){var t=e.isHost,n=e.type,r=e.isComponent,i=e.selector,s=e.exportAs,o=e.changeDetection,a=e.inputs,u=e.outputs,p=e.hostListeners,l=e.hostProperties,c=e.hostAttributes,h=e.providers,d=e.viewProviders,f=e.queries,m=e.guards,v=e.viewQueries,y=e.entryComponents,g=e.template,_=e.componentViewType,E=e.rendererType,e=e.componentFactory;this.isHost=!!t,this.type=n,this.isComponent=r,this.selector=i,this.exportAs=s,this.changeDetection=o,this.inputs=a,this.outputs=u,this.hostListeners=p,this.hostProperties=l,this.hostAttributes=c,this.providers=h||[],this.viewProviders=d||[],this.queries=f||[],this.guards=m,this.viewQueries=v||[],this.entryComponents=y||[],this.template=g,this.componentViewType=_,this.rendererType=E,this.componentFactory=e}function Ki(e){var t=e.encapsulation,n=e.template,r=e.templateUrl,i=e.htmlAst,s=e.styles,o=e.styleUrls,a=e.externalStylesheets,u=e.animations,p=e.ngContentSelectors,l=e.interpolation,c=e.isInline,e=e.preserveWhitespaces;if(this.encapsulation=t,this.template=n,this.templateUrl=r,this.htmlAst=i,this.styles=s||[],this.styleUrls=o||[],this.externalStylesheets=a||[],this.animations=u?Gi(u):[],this.ngContentSelectors=p||[],l&&2!=l.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=l,this.isInline=c,this.preserveWhitespaces=e}function Qi(e,t){var n=t.useClass,r=t.useValue,i=t.useExisting,s=t.useFactory,o=t.deps,t=t.multi;this.token=e,this.useClass=n||null,this.useValue=r,this.useExisting=i,this.useFactory=s||null,this.dependencies=o||null,this.multi=!!t}function Gi(e){return e.reduce(function(e,t){t=Array.isArray(t)?Gi(t):t;return e.concat(t)},[])}function Xi(e){return e.replace(/(\w+:\/\/[\w:-]+)?(\/+)?/,"ng:///")}function $i(e,t,n){n=n.isInline?t.type.reference instanceof Ei?t.type.reference.filePath+"."+t.type.reference.name+".html":Ni(e)+"/"+Ni(t.type)+".html":n.templateUrl;return t.type.reference instanceof Ei?n:Xi(n)}function Yi(e,t){e=e.moduleUrl.split(/\/\\/g);return Xi("css/"+t+e[e.length-1]+".ngstyle.js")}function Ji(e){return Xi(Ni(e.type)+"/module.ngfactory.js")}function Zi(e,t){return Xi(Ni(e)+"/"+Ni(t.type)+".ngfactory.js")}var es="@angular/core",ts=(ns.NEW_METHOD="factory",ns.TRANSFORM_METHOD="transform",ns.PATCH_DEPS="patchedDeps",ns.namespaceHTML={name:"ɵɵnamespaceHTML",moduleName:es},ns.namespaceMathML={name:"ɵɵnamespaceMathML",moduleName:es},ns.namespaceSVG={name:"ɵɵnamespaceSVG",moduleName:es},ns.element={name:"ɵɵelement",moduleName:es},ns.elementStart={name:"ɵɵelementStart",moduleName:es},ns.elementEnd={name:"ɵɵelementEnd",moduleName:es},ns.select={name:"ɵɵselect",moduleName:es},ns.advance={name:"ɵɵadvance",moduleName:es},ns.updateSyntheticHostBinding={name:"ɵɵupdateSyntheticHostBinding",moduleName:es},ns.componentHostSyntheticListener={name:"ɵɵcomponentHostSyntheticListener",moduleName:es},ns.attribute={name:"ɵɵattribute",moduleName:es},ns.attributeInterpolate1={name:"ɵɵattributeInterpolate1",moduleName:es},ns.attributeInterpolate2={name:"ɵɵattributeInterpolate2",moduleName:es},ns.attributeInterpolate3={name:"ɵɵattributeInterpolate3",moduleName:es},ns.attributeInterpolate4={name:"ɵɵattributeInterpolate4",moduleName:es},ns.attributeInterpolate5={name:"ɵɵattributeInterpolate5",moduleName:es},ns.attributeInterpolate6={name:"ɵɵattributeInterpolate6",moduleName:es},ns.attributeInterpolate7={name:"ɵɵattributeInterpolate7",moduleName:es},ns.attributeInterpolate8={name:"ɵɵattributeInterpolate8",moduleName:es},ns.attributeInterpolateV={name:"ɵɵattributeInterpolateV",moduleName:es},ns.classProp={name:"ɵɵclassProp",moduleName:es},ns.elementContainerStart={name:"ɵɵelementContainerStart",moduleName:es},ns.elementContainerEnd={name:"ɵɵelementContainerEnd",moduleName:es},ns.elementContainer={name:"ɵɵelementContainer",moduleName:es},ns.styleMap={name:"ɵɵstyleMap",moduleName:es},ns.styleMapInterpolate1={name:"ɵɵstyleMapInterpolate1",moduleName:es},ns.styleMapInterpolate2={name:"ɵɵstyleMapInterpolate2",moduleName:es},ns.styleMapInterpolate3={name:"ɵɵstyleMapInterpolate3",moduleName:es},ns.styleMapInterpolate4={name:"ɵɵstyleMapInterpolate4",moduleName:es},ns.styleMapInterpolate5={name:"ɵɵstyleMapInterpolate5",moduleName:es},ns.styleMapInterpolate6={name:"ɵɵstyleMapInterpolate6",moduleName:es},ns.styleMapInterpolate7={name:"ɵɵstyleMapInterpolate7",moduleName:es},ns.styleMapInterpolate8={name:"ɵɵstyleMapInterpolate8",moduleName:es},ns.styleMapInterpolateV={name:"ɵɵstyleMapInterpolateV",moduleName:es},ns.classMap={name:"ɵɵclassMap",moduleName:es},ns.classMapInterpolate1={name:"ɵɵclassMapInterpolate1",moduleName:es},ns.classMapInterpolate2={name:"ɵɵclassMapInterpolate2",moduleName:es},ns.classMapInterpolate3={name:"ɵɵclassMapInterpolate3",moduleName:es},ns.classMapInterpolate4={name:"ɵɵclassMapInterpolate4",moduleName:es},ns.classMapInterpolate5={name:"ɵɵclassMapInterpolate5",moduleName:es},ns.classMapInterpolate6={name:"ɵɵclassMapInterpolate6",moduleName:es},ns.classMapInterpolate7={name:"ɵɵclassMapInterpolate7",moduleName:es},ns.classMapInterpolate8={name:"ɵɵclassMapInterpolate8",moduleName:es},ns.classMapInterpolateV={name:"ɵɵclassMapInterpolateV",moduleName:es},ns.styleProp={name:"ɵɵstyleProp",moduleName:es},ns.stylePropInterpolate1={name:"ɵɵstylePropInterpolate1",moduleName:es},ns.stylePropInterpolate2={name:"ɵɵstylePropInterpolate2",moduleName:es},ns.stylePropInterpolate3={name:"ɵɵstylePropInterpolate3",moduleName:es},ns.stylePropInterpolate4={name:"ɵɵstylePropInterpolate4",moduleName:es},ns.stylePropInterpolate5={name:"ɵɵstylePropInterpolate5",moduleName:es},ns.stylePropInterpolate6={name:"ɵɵstylePropInterpolate6",moduleName:es},ns.stylePropInterpolate7={name:"ɵɵstylePropInterpolate7",moduleName:es},ns.stylePropInterpolate8={name:"ɵɵstylePropInterpolate8",moduleName:es},ns.stylePropInterpolateV={name:"ɵɵstylePropInterpolateV",moduleName:es},ns.containerCreate={name:"ɵɵcontainer",moduleName:es},ns.nextContext={name:"ɵɵnextContext",moduleName:es},ns.templateCreate={name:"ɵɵtemplate",moduleName:es},ns.text={name:"ɵɵtext",moduleName:es},ns.enableBindings={name:"ɵɵenableBindings",moduleName:es},ns.disableBindings={name:"ɵɵdisableBindings",moduleName:es},ns.getCurrentView={name:"ɵɵgetCurrentView",moduleName:es},ns.textInterpolate={name:"ɵɵtextInterpolate",moduleName:es},ns.textInterpolate1={name:"ɵɵtextInterpolate1",moduleName:es},ns.textInterpolate2={name:"ɵɵtextInterpolate2",moduleName:es},ns.textInterpolate3={name:"ɵɵtextInterpolate3",moduleName:es},ns.textInterpolate4={name:"ɵɵtextInterpolate4",moduleName:es},ns.textInterpolate5={name:"ɵɵtextInterpolate5",moduleName:es},ns.textInterpolate6={name:"ɵɵtextInterpolate6",moduleName:es},ns.textInterpolate7={name:"ɵɵtextInterpolate7",moduleName:es},ns.textInterpolate8={name:"ɵɵtextInterpolate8",moduleName:es},ns.textInterpolateV={name:"ɵɵtextInterpolateV",moduleName:es},ns.restoreView={name:"ɵɵrestoreView",moduleName:es},ns.pureFunction0={name:"ɵɵpureFunction0",moduleName:es},ns.pureFunction1={name:"ɵɵpureFunction1",moduleName:es},ns.pureFunction2={name:"ɵɵpureFunction2",moduleName:es},ns.pureFunction3={name:"ɵɵpureFunction3",moduleName:es},ns.pureFunction4={name:"ɵɵpureFunction4",moduleName:es},ns.pureFunction5={name:"ɵɵpureFunction5",moduleName:es},ns.pureFunction6={name:"ɵɵpureFunction6",moduleName:es},ns.pureFunction7={name:"ɵɵpureFunction7",moduleName:es},ns.pureFunction8={name:"ɵɵpureFunction8",moduleName:es},ns.pureFunctionV={name:"ɵɵpureFunctionV",moduleName:es},ns.pipeBind1={name:"ɵɵpipeBind1",moduleName:es},ns.pipeBind2={name:"ɵɵpipeBind2",moduleName:es},ns.pipeBind3={name:"ɵɵpipeBind3",moduleName:es},ns.pipeBind4={name:"ɵɵpipeBind4",moduleName:es},ns.pipeBindV={name:"ɵɵpipeBindV",moduleName:es},ns.hostProperty={name:"ɵɵhostProperty",moduleName:es},ns.property={name:"ɵɵproperty",moduleName:es},ns.propertyInterpolate={name:"ɵɵpropertyInterpolate",moduleName:es},ns.propertyInterpolate1={name:"ɵɵpropertyInterpolate1",moduleName:es},ns.propertyInterpolate2={name:"ɵɵpropertyInterpolate2",moduleName:es},ns.propertyInterpolate3={name:"ɵɵpropertyInterpolate3",moduleName:es},ns.propertyInterpolate4={name:"ɵɵpropertyInterpolate4",moduleName:es},ns.propertyInterpolate5={name:"ɵɵpropertyInterpolate5",moduleName:es},ns.propertyInterpolate6={name:"ɵɵpropertyInterpolate6",moduleName:es},ns.propertyInterpolate7={name:"ɵɵpropertyInterpolate7",moduleName:es},ns.propertyInterpolate8={name:"ɵɵpropertyInterpolate8",moduleName:es},ns.propertyInterpolateV={name:"ɵɵpropertyInterpolateV",moduleName:es},ns.i18n={name:"ɵɵi18n",moduleName:es},ns.i18nAttributes={name:"ɵɵi18nAttributes",moduleName:es},ns.i18nExp={name:"ɵɵi18nExp",moduleName:es},ns.i18nStart={name:"ɵɵi18nStart",moduleName:es},ns.i18nEnd={name:"ɵɵi18nEnd",moduleName:es},ns.i18nApply={name:"ɵɵi18nApply",moduleName:es},ns.i18nPostprocess={name:"ɵɵi18nPostprocess",moduleName:es},ns.pipe={name:"ɵɵpipe",moduleName:es},ns.projection={name:"ɵɵprojection",moduleName:es},ns.projectionDef={name:"ɵɵprojectionDef",moduleName:es},ns.reference={name:"ɵɵreference",moduleName:es},ns.inject={name:"ɵɵinject",moduleName:es},ns.injectAttribute={name:"ɵɵinjectAttribute",moduleName:es},ns.injectPipeChangeDetectorRef={name:"ɵɵinjectPipeChangeDetectorRef",moduleName:es},ns.directiveInject={name:"ɵɵdirectiveInject",moduleName:es},ns.invalidFactory={name:"ɵɵinvalidFactory",moduleName:es},ns.invalidFactoryDep={name:"ɵɵinvalidFactoryDep",moduleName:es},ns.templateRefExtractor={name:"ɵɵtemplateRefExtractor",moduleName:es},ns.resolveWindow={name:"ɵɵresolveWindow",moduleName:es},ns.resolveDocument={name:"ɵɵresolveDocument",moduleName:es},ns.resolveBody={name:"ɵɵresolveBody",moduleName:es},ns.defineComponent={name:"ɵɵdefineComponent",moduleName:es},ns.setComponentScope={name:"ɵɵsetComponentScope",moduleName:es},ns.ComponentDefWithMeta={name:"ɵɵComponentDefWithMeta",moduleName:es},ns.FactoryDef={name:"ɵɵFactoryDef",moduleName:es},ns.defineDirective={name:"ɵɵdefineDirective",moduleName:es},ns.DirectiveDefWithMeta={name:"ɵɵDirectiveDefWithMeta",moduleName:es},ns.InjectorDef={name:"ɵɵInjectorDef",moduleName:es},ns.defineInjector={name:"ɵɵdefineInjector",moduleName:es},ns.NgModuleDefWithMeta={name:"ɵɵNgModuleDefWithMeta",moduleName:es},ns.ModuleWithProviders={name:"ModuleWithProviders",moduleName:es},ns.defineNgModule={name:"ɵɵdefineNgModule",moduleName:es},ns.setNgModuleScope={name:"ɵɵsetNgModuleScope",moduleName:es},ns.PipeDefWithMeta={name:"ɵɵPipeDefWithMeta",moduleName:es},ns.definePipe={name:"ɵɵdefinePipe",moduleName:es},ns.queryRefresh={name:"ɵɵqueryRefresh",moduleName:es},ns.viewQuery={name:"ɵɵviewQuery",moduleName:es},ns.staticViewQuery={name:"ɵɵstaticViewQuery",moduleName:es},ns.staticContentQuery={name:"ɵɵstaticContentQuery",moduleName:es},ns.loadQuery={name:"ɵɵloadQuery",moduleName:es},ns.contentQuery={name:"ɵɵcontentQuery",moduleName:es},ns.NgOnChangesFeature={name:"ɵɵNgOnChangesFeature",moduleName:es},ns.InheritDefinitionFeature={name:"ɵɵInheritDefinitionFeature",moduleName:es},ns.CopyDefinitionFeature={name:"ɵɵCopyDefinitionFeature",moduleName:es},ns.ProvidersFeature={name:"ɵɵProvidersFeature",moduleName:es},ns.listener={name:"ɵɵlistener",moduleName:es},ns.getFactoryOf={name:"ɵɵgetFactoryOf",moduleName:es},ns.getInheritedFactory={name:"ɵɵgetInheritedFactory",moduleName:es},ns.sanitizeHtml={name:"ɵɵsanitizeHtml",moduleName:es},ns.sanitizeStyle={name:"ɵɵsanitizeStyle",moduleName:es},ns.defaultStyleSanitizer={name:"ɵɵdefaultStyleSanitizer",moduleName:es},ns.sanitizeResourceUrl={name:"ɵɵsanitizeResourceUrl",moduleName:es},ns.sanitizeScript={name:"ɵɵsanitizeScript",moduleName:es},ns.sanitizeUrl={name:"ɵɵsanitizeUrl",moduleName:es},ns.sanitizeUrlOrResourceUrl={name:"ɵɵsanitizeUrlOrResourceUrl",moduleName:es},ns);function ns(){}function rs(t){return Pr(Object.keys(t).map(function(e){return{key:e,value:t[e],quoted:!1}}))}function is(e,t){if(Array.isArray(e))return Tr(e.map(function(e){return is(e,t)}));if(e instanceof Ei)return t.importExpr(e);if(null==e)return Mr(e);throw new Error("Internal error: Unsupported or unknown metadata: "+e)}function ss(e,t){var n=null;if(0<t)for(var n=[],r=0;r<t;r++)n.push(Te);return Cr(e,null,n)}function os(e,t){return"animation_"+e+"_"+t}function as(e){return 9<=e&&e<=32||160==e}function us(e){return 48<=e&&e<=57}function ps(e){return 97<=e&&e<=122||65<=e&&e<=90}function ls(e){return 10===e||13===e}function cs(e){return 48<=e&&e<=55}function hs(e,t){this.content=e,this.url=t}var ds,fs=(_s.prototype.toString=function(){return null!=this.offset?this.file.url+"@"+this.line+":"+this.col:this.file.url},_s.prototype.moveBy=function(e){for(var t,n=this.file.content,r=n.length,i=this.offset,s=this.line,o=this.col;0<i&&e<0;)i--,e++,10==(a=n.charCodeAt(i))?(s--,o=0<(t=n.substr(0,i-1).lastIndexOf(String.fromCharCode(10)))?i-t:i):o--;for(;i<r&&0<e;){var a=n.charCodeAt(i);i++,e--,10==a?(s++,o=0):o++}return new _s(this.file,i,s,o)},_s.prototype.getContext=function(e,t){var n=this.file.content,r=this.offset;if(null==r)return null;for(var i=r=r>n.length-1?n.length-1:r,s=0,o=0;s<e&&0<r&&(s++,"\n"!=n[--r]||++o!=t););for(o=s=0;s<e&&i<n.length-1&&(s++,"\n"!=n[++i]||++o!=t););return{before:n.substring(r,this.offset),after:n.substring(this.offset,i+1)}},_s),ms=(gs.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},gs),vs=new fs(new hs("",""),0,0,0),ys=new ms(vs,vs);function gs(e,t,n){void 0===n&&(n=null),this.start=e,this.end=t,this.details=n}function _s(e,t,n,r){this.file=e,this.offset=t,this.line=n,this.col=r}(xp=ds=ds||{})[xp.WARNING=0]="WARNING",xp[xp.ERROR=1]="ERROR";var Es=(xs.prototype.contextualMessage=function(){var e=this.span.start.getContext(100,3);return e?this.msg+' ("'+e.before+"["+ds[this.level]+" ->]"+e.after+'")':this.msg},xs.prototype.toString=function(){var e=this.span.details?", "+this.span.details:"";return this.contextualMessage()+": "+this.span.start+e},xs);function xs(e,t,n){void 0===n&&(n=ds.ERROR),this.span=e,this.msg=t,this.level=n}function Ss(e,t){var n=Ai(t),t=null!=n?"in "+e+" "+Ni(t)+" in "+n:"in "+e+" "+Ni(t),t=new hs("",t);return new ms(new fs(t,-1,-1,-1),new fs(t,-1,-1,-1))}function ws(e,t,n){n=new hs("","in "+e+" "+t+" in "+n);return new ms(new fs(n,-1,-1,-1),new fs(n,-1,-1,-1))}var Cs=(Qs.prototype.visit=function(e){return e.visitText(this)},Qs),bs=(Ks.prototype.visit=function(e){return e.visitBoundText(this)},Ks),Ts=(zs.prototype.visit=function(e){return e.visitTextAttribute(this)},zs),Ps=(Ws.fromBoundElementProperty=function(e,t){return new Ws(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.valueSpan,t)},Ws.prototype.visit=function(e){return e.visitBoundAttribute(this)},Ws),Ns=(qs.fromParsedEvent=function(e){var t=0===e.type?e.targetOrPhase:null,n=1===e.type?e.targetOrPhase:null;return new qs(e.name,e.type,e.handler,t,n,e.sourceSpan,e.handlerSpan)},qs.prototype.visit=function(e){return e.visitBoundEvent(this)},qs),As=(Hs.prototype.visit=function(e){return e.visitElement(this)},Hs),Ms=(Us.prototype.visit=function(e){return e.visitTemplate(this)},Us),Is=(js.prototype.visit=function(e){return e.visitContent(this)},js),ks=(Vs.prototype.visit=function(e){return e.visitVariable(this)},Vs),Rs=(Bs.prototype.visit=function(e){return e.visitReference(this)},Bs),Os=(Ds.prototype.visit=function(e){return e.visitIcu(this)},Ds),Fs=(Ls.prototype.visitElement=function(e){Gs(this,e.attributes),Gs(this,e.children),Gs(this,e.references)},Ls.prototype.visitTemplate=function(e){Gs(this,e.attributes),Gs(this,e.children),Gs(this,e.references),Gs(this,e.variables)},Ls.prototype.visitContent=function(e){},Ls.prototype.visitVariable=function(e){},Ls.prototype.visitReference=function(e){},Ls.prototype.visitTextAttribute=function(e){},Ls.prototype.visitBoundAttribute=function(e){},Ls.prototype.visitBoundEvent=function(e){},Ls.prototype.visitText=function(e){},Ls.prototype.visitBoundText=function(e){},Ls.prototype.visitIcu=function(e){},Ls);function Ls(){}function Ds(e,t,n,r){this.vars=e,this.placeholders=t,this.sourceSpan=n,this.i18n=r}function Bs(e,t,n,r){this.name=e,this.value=t,this.sourceSpan=n,this.valueSpan=r}function Vs(e,t,n,r){this.name=e,this.value=t,this.sourceSpan=n,this.valueSpan=r}function js(e,t,n,r){this.selector=e,this.attributes=t,this.sourceSpan=n,this.i18n=r}function Us(e,t,n,r,i,s,o,a,u,p,l,c){this.tagName=e,this.attributes=t,this.inputs=n,this.outputs=r,this.templateAttrs=i,this.children=s,this.references=o,this.variables=a,this.sourceSpan=u,this.startSourceSpan=p,this.endSourceSpan=l,this.i18n=c}function Hs(e,t,n,r,i,s,o,a,u,p){this.name=e,this.attributes=t,this.inputs=n,this.outputs=r,this.children=i,this.references=s,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=u,this.i18n=p,0===i.length&&a&&u&&(this.sourceSpan=new ms(o.start,u.end))}function qs(e,t,n,r,i,s,o){this.name=e,this.type=t,this.handler=n,this.target=r,this.phase=i,this.sourceSpan=s,this.handlerSpan=o}function Ws(e,t,n,r,i,s,o,a){this.name=e,this.type=t,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=s,this.valueSpan=o,this.i18n=a}function zs(e,t,n,r,i){this.name=e,this.value=t,this.sourceSpan=n,this.valueSpan=r,this.i18n=i}function Ks(e,t,n){this.value=e,this.sourceSpan=t,this.i18n=n}function Qs(e,t){this.value=e,this.sourceSpan=t}function Gs(e,t){var n,r,i,s,o=[];if(e.visit)try{for(var a=D(t),u=a.next();!u.done;u=a.next())var p=u.value,l=e.visit(p)||p.visit(e)}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}else try{for(var c=D(t),h=c.next();!h.done;h=c.next())(l=(p=h.value).visit(e))&&o.push(l)}catch(e){i={error:e}}finally{try{h&&!h.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}return o}var Xs=function(e,t,n,r,i,s){this.nodes=e,this.placeholders=t,this.placeholderToMessage=n,this.meaning=r,this.description=i,this.customId=s,this.id=this.customId,this.legacyIds=[],e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]},$s=(co.prototype.visit=function(e,t){return e.visitText(this,t)},co),Ys=(lo.prototype.visit=function(e,t){return e.visitContainer(this,t)},lo),Js=(po.prototype.visit=function(e,t){return e.visitIcu(this,t)},po),Zs=(uo.prototype.visit=function(e,t){return e.visitTagPlaceholder(this,t)},uo),eo=(ao.prototype.visit=function(e,t){return e.visitPlaceholder(this,t)},ao),to=(oo.prototype.visit=function(e,t){return e.visitIcuPlaceholder(this,t)},oo),no=(so.prototype.visitText=function(e,t){return new $s(e.value,e.sourceSpan)},so.prototype.visitContainer=function(e,t){var n=this,r=e.children.map(function(e){return e.visit(n,t)});return new Ys(r,e.sourceSpan)},so.prototype.visitIcu=function(t,n){var r=this,i={};Object.keys(t.cases).forEach(function(e){return i[e]=t.cases[e].visit(r,n)});var e=new Js(t.expression,t.type,i,t.sourceSpan);return e.expressionPlaceholder=t.expressionPlaceholder,e},so.prototype.visitTagPlaceholder=function(e,t){var n=this,r=e.children.map(function(e){return e.visit(n,t)});return new Zs(e.tag,e.attrs,e.startName,e.closeName,r,e.isVoid,e.sourceSpan)},so.prototype.visitPlaceholder=function(e,t){return new eo(e.value,e.name,e.sourceSpan)},so.prototype.visitIcuPlaceholder=function(e,t){return new to(e.value,e.name,e.sourceSpan)},so),ro=(io.prototype.visitText=function(e,t){},io.prototype.visitContainer=function(e,t){var n=this;e.children.forEach(function(e){return e.visit(n)})},io.prototype.visitIcu=function(t,e){var n=this;Object.keys(t.cases).forEach(function(e){t.cases[e].visit(n)})},io.prototype.visitTagPlaceholder=function(e,t){var n=this;e.children.forEach(function(e){return e.visit(n)})},io.prototype.visitPlaceholder=function(e,t){},io.prototype.visitIcuPlaceholder=function(e,t){},io);function io(){}function so(){}function oo(e,t,n){this.value=e,this.name=t,this.sourceSpan=n}function ao(e,t,n){this.value=e,this.name=t,this.sourceSpan=n}function uo(e,t,n,r,i,s,o){this.tag=e,this.attrs=t,this.startName=n,this.closeName=r,this.children=i,this.isVoid=s,this.sourceSpan=o}function po(e,t,n,r){this.expression=e,this.type=t,this.cases=n,this.sourceSpan=r}function lo(e,t){this.children=e,this.sourceSpan=t}function co(e,t){this.value=e,this.sourceSpan=t}function ho(e){return e.id||fo(e)}function fo(_){return function(){var e=Xr(_.nodes.map(function(e){return e.visit(yo,null)}).join("")+"["+_.meaning+"]"),t=function(e,t){for(var n=e.length+3>>>2,r=[],i=0;i<n;i++)r[i]=ko(e,4*i,t);return r}(e,_o.Big),e=8*e.length,n=ri(80),r=1732584193,i=4023233417,s=2562383102,o=271733878,a=3285377520;t[e>>5]|=128<<24-e%32,t[15+(64+e>>9<<4)]=e;for(var u,p,l,c=0;c<t.length;c+=16){for(var h=r,d=i,f=s,m=o,v=a,y=0;y<80;y++){n[y]=y<16?t[c+y]:Mo(n[y-3]^n[y-8]^n[y-14]^n[y-16],1);var g=(p=i,l=s,g=o,(u=y)<20?[p&l|~p&g,1518500249]:u<40?[p^l^g,1859775393]:u<60?[p&l|p&g|l&g,2400959708]:[p^l^g,3395469782]),g=[Mo(r,5),g[0],a,g[1],n[y]].reduce(Po),a=o,o=s,s=Mo(i,30),i=r,r=g}r=Po(r,h),i=Po(i,d),s=Po(s,f),o=Po(o,m),a=Po(a,v)}return function(e){for(var t="",n=0;n<e.length;n++){var r=Io(e,n);t+=(r>>>4).toString(16)+(15&r).toString(16)}return t.toLowerCase()}(Ro([r,i,s,o,a]))}()}function mo(e){return e.id||vo(e)}function vo(e){var t=new xo;return Co(e.nodes.map(function(e){return e.visit(t,null)}).join(""),e.meaning)}var On=(go.prototype.visitText=function(e,t){return e.value},go.prototype.visitContainer=function(e,t){var n=this;return"["+e.children.map(function(e){return e.visit(n)}).join(", ")+"]"},go.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+t.expression+", "+t.type+", "+r.join(", ")+"}"},go.prototype.visitTagPlaceholder=function(e,t){var n=this;return e.isVoid?'<ph tag name="'+e.startName+'"/>':'<ph tag name="'+e.startName+'">'+e.children.map(function(e){return e.visit(n)}).join(", ")+'</ph name="'+e.closeName+'">'},go.prototype.visitPlaceholder=function(e,t){return e.value?'<ph name="'+e.name+'">'+e.value+"</ph>":'<ph name="'+e.name+'"/>'},go.prototype.visitIcuPlaceholder=function(e,t){return'<ph icu name="'+e.name+'">'+e.value.visit(this)+"</ph>"},go),yo=new On;function go(){}var _o,Eo,xo=(h(So,Eo=On),So.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+t.type+", "+r.join(", ")+"}"},So);function So(){return null!==Eo&&Eo.apply(this,arguments)||this}function wo(e){var t=Xr(e),e=bo(t,0),t=bo(t,102072);return 0!=e||0!=t&&1!=t||(e^=319790063,t^=-1801410264),[e,t]}function Co(e,t){void 0===t&&(t="");var n,r,i,s=wo(e);return t&&(n=wo(t),i=(r=s)[0],r=r[1],t=(e=[i<<1|r>>>31,r<<1|i>>>31])[0],r=e[1],i=n[0],e=No(r,n[1]),r=e[0],e=e[1],s=[Po(Po(t,i),r),e]),function(e){for(var t="",n="1",r=e.length-1;0<=r;r--)t=Oo(t,Fo(Io(e,r),n)),n=Fo(256,n);return t.split("").reverse().join("")}(Ro([2147483647&s[0],s[1]]))}function bo(e,t){for(var n=2654435769,r=2654435769,i=e.length,s=0;s+12<=i;s+=12){var o=To(n=Po(n,ko(e,s,_o.Little)),r=Po(r,ko(e,s+4,_o.Little)),t=Po(t,ko(e,s+8,_o.Little))),n=o[0],r=o[1];t=o[2]}return n=Po(n,ko(e,s,_o.Little)),r=Po(r,ko(e,s+4,_o.Little)),t=Po(t,i),To(n,r,t=Po(t,ko(e,s+8,_o.Little)<<8))[2]}function To(e,t,n){return e=Ao(e,t),e=Ao(e,n),t=Ao(t,n),t=Ao(t,e^=n>>>13),n=Ao(n,e),n=Ao(n,t^=e<<8),e=Ao(e,t),e=Ao(e,n^=t>>>13),t=Ao(t,n),t=Ao(t,e^=n>>>12),n=Ao(n,e),n=Ao(n,t^=e<<16),e=Ao(e,t),e=Ao(e,n^=t>>>5),t=Ao(t,n),t=Ao(t,e^=n>>>3),n=Ao(n,e),n=Ao(n,t^=e<<10),[e,t,n^=t>>>15]}function Po(e,t){return No(e,t)[1]}function No(e,t){var n=(65535&e)+(65535&t),t=(e>>>16)+(t>>>16)+(n>>>16);return[t>>>16,t<<16|65535&n]}function Ao(e,t){var n=(65535&e)-(65535&t);return(e>>16)-(t>>16)+(n>>16)<<16|65535&n}function Mo(e,t){return e<<t|e>>>32-t}function Io(e,t){return t>=e.length?0:255&e.charCodeAt(t)}function ko(e,t,n){var r=0;if(n===_o.Big)for(var i=0;i<4;i++)r+=Io(e,t+i)<<24-8*i;else for(i=0;i<4;i++)r+=Io(e,t+i)<<8*i;return r}function Ro(e){return e.reduce(function(e,t){return e+function(e){for(var t="",n=0;n<4;n++)t+=String.fromCharCode(e>>>8*(3-n)&255);return t}(t)},"")}function Oo(e,t){for(var n="",r=Math.max(e.length,t.length),i=0,s=0;i<r||s;i++){var o=s+ +(e[i]||0)+ +(t[i]||0);10<=o?(s=1,n+=o-10):(s=0,n+=o)}return n}function Fo(e,t){for(var n="",r=t;0!==e;e>>>=1)1&e&&(n=Oo(n,r)),r=Oo(r,r);return n}(zn=_o=_o||{})[zn.Little=0]="Little",zn[zn.Big=1]="Big";var Lo,Wn=(Uo.prototype.createNameMapper=function(e){return null},Uo),Do=(h(jo,Lo=ro),jo.prototype.toPublicName=function(e){return this.internalToPublic.hasOwnProperty(e)?this.internalToPublic[e]:null},jo.prototype.toInternalName=function(e){return this.publicToInternal.hasOwnProperty(e)?this.publicToInternal[e]:null},jo.prototype.visitText=function(e,t){return null},jo.prototype.visitTagPlaceholder=function(e,t){this.visitPlaceholderName(e.startName),Lo.prototype.visitTagPlaceholder.call(this,e,t),this.visitPlaceholderName(e.closeName)},jo.prototype.visitPlaceholder=function(e,t){this.visitPlaceholderName(e.name)},jo.prototype.visitIcuPlaceholder=function(e,t){this.visitPlaceholderName(e.name)},jo.prototype.visitPlaceholderName=function(e){var t,n;e&&!this.internalToPublic.hasOwnProperty(e)&&(t=this.mapName(e),this.publicToInternal.hasOwnProperty(t)?(n=this.publicToNextId[t],this.publicToNextId[t]=n+1,t=t+"_"+n):this.publicToNextId[t]=1,this.internalToPublic[e]=t,this.publicToInternal[t]=e)},jo),Bo=(Vo.prototype.visitTag=function(e){var t=this,n=this._serializeAttributes(e.attrs);if(0==e.children.length)return"<"+e.name+n+"/>";var r=e.children.map(function(e){return e.visit(t)});return"<"+e.name+n+">"+r.join("")+"</"+e.name+">"},Vo.prototype.visitText=function(e){return e.value},Vo.prototype.visitDeclaration=function(e){return"<?xml"+this._serializeAttributes(e.attrs)+" ?>"},Vo.prototype._serializeAttributes=function(t){var e=Object.keys(t).map(function(e){return e+'="'+t[e]+'"'}).join(" ");return 0<e.length?" "+e:""},Vo.prototype.visitDoctype=function(e){return"<!DOCTYPE "+e.rootTag+" [\n"+e.dtd+"\n]>"},new Vo);function Vo(){}function jo(e,t){var n=Lo.call(this)||this;return n.mapName=t,n.internalToPublic={},n.publicToNextId={},n.publicToInternal={},e.nodes.forEach(function(e){return e.visit(n)}),n}function Uo(){}function Ho(e){return e.map(function(e){return e.visit(Bo)}).join("")}var qo,Wo=(ea.prototype.visit=function(e){return e.visitDeclaration(this)},ea),zo=(Zo.prototype.visit=function(e){return e.visitDoctype(this)},Zo),Ko=(Jo.prototype.visit=function(e){return e.visitTag(this)},Jo),Qo=(Yo.prototype.visit=function(e){return e.visitText(this)},Yo),Go=(h($o,qo=Qo),$o),Xo=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]];function $o(e){return void 0===e&&(e=0),qo.call(this,"\n"+new Array(e+1).join(" "))||this}function Yo(e){this.value=ta(e)}function Jo(e,t,n){var r=this;void 0===t&&(t={}),void 0===n&&(n=[]),this.name=e,this.children=n,this.attrs={},Object.keys(t).forEach(function(e){r.attrs[e]=ta(t[e])})}function Zo(e,t){this.rootTag=e,this.dtd=t}function ea(t){var n=this;this.attrs={},Object.keys(t).forEach(function(e){n.attrs[e]=ta(t[e])})}function ta(e){return Xo.reduce(function(e,t){return e.replace(t[0],t[1])},e)}var na,ra=(h(oa,na=Wn),oa.prototype.write=function(e,t){var n=new ua,r=new ia,i=new Ko("messagebundle");return e.forEach(function(e){var t={id:e.id};e.description&&(t.desc=e.description),e.meaning&&(t.meaning=e.meaning);var n=[];e.sources.forEach(function(e){n.push(new Ko("source",{},[new Qo(e.filePath+":"+e.startLine+(e.endLine!==e.startLine?","+e.endLine:""))]))}),i.children.push(new Go(2),new Ko("msg",t,B(n,r.serialize(e.nodes))))}),i.children.push(new Go),Ho([new Wo({version:"1.0",encoding:"UTF-8"}),new Go,new zo("messagebundle",'<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>'),new Go,n.addDefaultExamples(i),new Go])},oa.prototype.load=function(e,t){throw new Error("Unsupported")},oa.prototype.digest=aa,oa.prototype.createNameMapper=function(e){return new Do(e,la)},oa),ia=(sa.prototype.visitText=function(e,t){return[new Qo(e.value)]},sa.prototype.visitContainer=function(e,t){var n=this,r=[];return e.children.forEach(function(e){return r.push.apply(r,B(e.visit(n)))}),r},sa.prototype.visitIcu=function(t,e){var n=this,r=[new Qo("{"+t.expressionPlaceholder+", "+t.type+", ")];return Object.keys(t.cases).forEach(function(e){r.push.apply(r,B([new Qo(e+" {")],t.cases[e].visit(n),[new Qo("} ")]))}),r.push(new Qo("}")),r},sa.prototype.visitTagPlaceholder=function(e,t){var n=new Qo("<"+e.tag+">"),r=new Ko("ex",{},[n]),i=new Ko("ph",{name:e.startName},[r,n]);if(e.isVoid)return[i];r=new Qo("</"+e.tag+">"),n=new Ko("ex",{},[r]),r=new Ko("ph",{name:e.closeName},[n,r]);return B([i],this.serialize(e.children),[r])},sa.prototype.visitPlaceholder=function(e,t){var n=new Qo("{{"+e.value+"}}"),r=new Ko("ex",{},[n]);return[new Ko("ph",{name:e.name},[r,n])]},sa.prototype.visitIcuPlaceholder=function(e,t){var n=e.value.expression,r=e.value.type,i=Object.keys(e.value.cases).map(function(e){return e+" {...}"}).join(" "),r=new Qo("{"+n+", "+r+", "+i+"}"),i=new Ko("ex",{},[r]);return[new Ko("ph",{name:e.name},[i,r])]},sa.prototype.serialize=function(e){var t=this;return[].concat.apply([],B(e.map(function(e){return e.visit(t)})))},sa);function sa(){}function oa(){return null!==na&&na.apply(this,arguments)||this}function aa(e){return mo(e)}var ua=(pa.prototype.addDefaultExamples=function(e){return e.visit(this),e},pa.prototype.visitTag=function(e){var t,n=this;"ph"===e.name?e.children&&0!=e.children.length||(t=new Qo(e.attrs.name||"..."),e.children=[new Ko("ex",{},[t])]):e.children&&e.children.forEach(function(e){return e.visit(n)})},pa.prototype.visitText=function(e){},pa.prototype.visitDeclaration=function(e){},pa.prototype.visitDoctype=function(e){},pa);function pa(){}function la(e){return e.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}function ca(e){return"i18n"===e||e.startsWith("i18n-")}function ha(e){return e instanceof Xs}function da(e){return ha(e)&&1===e.nodes.length&&e.nodes[0]instanceof Js}function fa(e){return e.nodes[0]}function ma(e,t){return"�"+e+(0<(t=void 0===t?0:t)?":"+t:"")+"�"}function va(e){var n={};return e.forEach(function(e,t){n[t]=Mr(1<e.length?"["+e.join("|")+"]":e[0])}),n}function ya(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=e.get(t)||[];i.push.apply(i,B(n)),e.set(t,i)}function ga(e,t,n){void 0===n&&(n=0);var r=t=void 0===t?0:t,i=new Map,e=e instanceof Xs?e.nodes.find(function(e){return e instanceof Ys}):e;return e&&e.children.filter(function(e){return e instanceof eo}).forEach(function(e,t){t=ma(r+t,n);ya(i,e.name,t)}),i}function _a(t,n){var r={};return(t=void 0===t?{}:t)&&Object.keys(t).length&&Object.keys(t).forEach(function(e){return r[Ea(e,n)]=t[e]}),r}function Ea(e,t){void 0===t&&(t=!0);var n=la(e);if(!t)return n;var r,n=n.split("_");if(1===n.length)return e.toLowerCase();/^\d+$/.test(n[n.length-1])&&(r=n.pop());e=n.shift().toLowerCase();return n.length&&(e+=n.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}).join("")),r?e+"_"+r:e}function xa(e){return("MSG_"+e).toUpperCase()}var Sa=/[-.]/;function wa(e,t){var n=null;return function(){return n||(e.push(new Mn("_t",void 0,Te)),n=xr(t)),n}}function Ca(e){if(this)throw new Error("Builder "+this.constructor.name+" doesn't support "+e+" yet");throw new Error("Feature "+e+" is not supported yet")}function ba(e){throw new Error("Invalid state: Visitor "+this.constructor.name+" doesn't handle "+e.constructor.name)}function Ta(e){return Array.isArray(e)?Tr(e.map(Ta)):Mr(e,Pe)}function Pa(e,t){return 0<Object.getOwnPropertyNames(e).length?(s=e,o=t,Pr(Object.getOwnPropertyNames(s).map(function(e){var t,n,r,i=s[e];return Array.isArray(i)?(n=(t=T(i,2))[0],t=t[1]):(t=(r=T(Rr(e,[e,i]),2))[0],n=r[1]),{key:r=t,quoted:Sa.test(r),value:o&&n!==t?Tr([Ta(n),Ta(t)]):Ta(n)}}))):null;var s,o}function Na(e){for(;Ir(e[e.length-1]);)e.pop();return e}var Aa,Ma,Ia,ka=(Ra.prototype.set=function(e,t){t&&this.values.push({key:e,value:t,quoted:!1})},Ra.prototype.toLiteralMap=function(){return Pr(this.values)},Ra);function Ra(){this.values=[]}function Oa(e){var t={};return e instanceof Ms&&"ng-template"!==e.tagName?e.templateAttrs.forEach(function(e){return t[e.name]=""}):(e.attributes.forEach(function(e){ca(e.name)||(t[e.name]=e.value)}),e.inputs.forEach(function(e){t[e.name]=""}),e.outputs.forEach(function(e){t[e.name]=""})),t}function Fa(e,t,n){var r=Sr(e,null,n);if(0<t.length)for(var i=0;i<t.length;i++)r=r.callFn(t[i],n);else r=r.callFn([],n);return r}function La(e){var t=e.expressions,e=e.strings;return 1===t.length&&2===e.length&&""===e[0]&&""===e[1]?1:t.length+e.length}function Da(e){var t,r=xr("t"),n=[],i=Va(e)?r:new Kt(ye.Or,r,e.internalType),s=null;null!==e.deps?"invalid"!==e.deps&&(s=new dt(i,Ba(e.deps,e.injectFn,e.target===Ma.Pipe))):(u=xr("ɵ"+e.name+"_BaseFactory"),t=Sr(ts.getInheritedFactory),t=u.set(t.callFn([e.internalType])).toDeclStmt(Pe,[Tt.Exported,Tt.Final]),n.push(t),s=u.callFn([i]));var o=s,a=[],u=null;function p(e){var t=xr("r");a.push(t.set(Zt).toDeclStmt());var n=(null!==o?t.set(o):Sr(ts.invalidFactory).callFn([])).toStmt();return a.push(Ar(r,[n],[t.set(e).toStmt()])),t}if(Va(e)&&e.delegateType===Aa.Factory){var l=xr("ɵ"+e.name+"_BaseFactory"),i=Sr(ts.getFactoryOf);if(e.delegate.isEquivalent(e.internalType))throw new Error("Illegal state: compiling factory that delegates to itself");i=l.set(i.callFn([e.delegate])).toDeclStmt(Pe,[Tt.Exported,Tt.Final]);n.push(i),u=p(l.callFn([]))}else u=Va(e)?(l=Ba(e.delegateDeps,e.injectFn,e.target===Ma.Pipe),p(new(e.delegateType===Aa.Class?dt:ht)(e.delegate,l))):void 0!==e.expression?p(e.expression):s;return null!==u?a.push(new Rn(u)):a.push(Sr(ts.invalidFactory).callFn([]).toStmt()),{factory:Nr([new Wt("t",Te)],a,Pe,void 0,e.name+"_Factory"),statements:n,type:Cr(Sr(ts.FactoryDef,[ss(e.type.type,e.typeArgumentCount)]))}}function Ba(e,n,r){return e.map(function(e,t){return function(e,t,n,r){switch(e.resolved){case Ia.Token:case Ia.ChangeDetectorRef:var i=0|(e.self?2:0)|(e.skipSelf?4:0)|(e.host?1:0)|(e.optional?8:0),s=0!=i||e.optional?Mr(i):null;if(n&&e.resolved===Ia.ChangeDetectorRef)return Sr(ts.injectPipeChangeDetectorRef).callFn(s?[s]:[]);i=[e.token];return s&&i.push(s),Sr(t).callFn(i);case Ia.Attribute:return Sr(ts.injectAttribute).callFn([e.token]);case Ia.Invalid:return Sr(ts.invalidFactoryDep).callFn([Mr(r)]);default:return Ca("Unknown R3ResolvedDependencyType: "+Ia[e.resolved])}}(e,n,r,t)})}function Va(e){return void 0!==e.delegateType}function ja(e){var t,n,r=null,i={name:e.name,type:e.type,internalType:e.internalType,typeArgumentCount:e.typeArgumentCount,deps:[],injectFn:vi.inject,target:Ma.Injectable};r=void 0!==e.useClass?(t=e.useClass.isEquivalent(e.internalType),(n=void 0)!==(n=void 0!==e.userDeps?e.userDeps:n)?Da(d(d({},i),{delegate:e.useClass,delegateDeps:n,delegateType:Aa.Class})):t?Da(i):Ua(e.type.value,e.useClass)):void 0!==e.useFactory?void 0!==e.userDeps?Da(d(d({},i),{delegate:e.useFactory,delegateDeps:e.userDeps||[],delegateType:Aa.Function})):{statements:[],factory:Nr([],[new Rn(e.useFactory.callFn([]))])}:void 0!==e.useValue?Da(d(d({},i),{expression:e.useValue})):void 0!==e.useExisting?Da(d(d({},i),{expression:Sr(vi.inject).callFn([e.useExisting])})):Ua(e.type.value,e.internalType);i={token:e.internalType,factory:r.factory};return null!==e.providedIn.value&&(i.providedIn=e.providedIn),{expression:Sr(vi.ɵɵdefineInjectable).callFn([rs(i)]),type:new we(Sr(vi.InjectableDef,[ss(e.type.type,e.typeArgumentCount)])),statements:r.statements}}function Ua(e,t){return{statements:[],factory:e.node===t.node?t.prop("ɵfac"):Nr([new Wt("t",Te)],[new Rn(t.callMethod("ɵfac",[xr("t")]))])}}function Ha(e,t){if(null!=t){if(!Array.isArray(t))throw new Error("Expected '"+e+"' to be an array of strings.");for(var n=0;n<t.length;n+=1)if("string"!=typeof t[n])throw new Error("Expected '"+e+"' to be an array of strings.")}}(s=Aa=Aa||{})[s.Class=0]="Class",s[s.Function=1]="Function",s[s.Factory=2]="Factory",(ei=Ma=Ma||{})[ei.Directive=0]="Directive",ei[ei.Component=1]="Component",ei[ei.Injectable=2]="Injectable",ei[ei.Pipe=3]="Pipe",ei[ei.NgModule=4]="NgModule",(ti=Ia=Ia||{})[ti.Token=0]="Token",ti[ti.Attribute=1]="Attribute",ti[ti.ChangeDetectorRef=2]="ChangeDetectorRef",ti[ti.Invalid=3]="Invalid";var qa=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function Wa(e,t){if(!(null==t||Array.isArray(t)&&2==t.length))throw new Error("Expected '"+e+"' to be an array, [start, end].");var n,r;null!=t&&(n=t[0],r=t[1],qa.forEach(function(e){if(e.test(n)||e.test(r))throw new Error("['"+n+"', '"+r+"'] contains unusable interpolation symbol.")}))}var za=(Xa.fromArray=function(e){return e?(Wa("interpolation",e),new Xa(e[0],e[1])):Ka},Xa),Ka=new za("{{","}}"),Qa=(Ga.prototype.addSource=function(e,t){return void 0===t&&(t=null),this.sourcesContent.has(e)||this.sourcesContent.set(e,t),this},Ga.prototype.addLine=function(){return this.lines.push([]),this.lastCol0=0,this},Ga.prototype.addMapping=function(e,t,n,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=t&&!this.sourcesContent.has(t))throw new Error('Unknown source file "'+t+'"');if(null==e)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(t&&(null==n||null==r))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:t,sourceLine0:n,sourceCol0:r}),this},Object.defineProperty(Ga.prototype,"currentLine",{get:function(){return this.lines.slice(-1)[0]},enumerable:!0,configurable:!0}),Ga.prototype.toJSON=function(){var n=this;if(!this.hasMappings)return null;var r=new Map,i=[],s=[];Array.from(this.sourcesContent.keys()).forEach(function(e,t){r.set(e,t),i.push(e),s.push(n.sourcesContent.get(e)||null)});var t="",o=0,a=0,u=0,p=0;return this.lines.forEach(function(e){o=0,t+=e.map(function(e){var t=$a(e.col0-o);return o=e.col0,null!=e.sourceUrl&&(t+=$a(r.get(e.sourceUrl)-a),a=r.get(e.sourceUrl),t+=$a(e.sourceLine0-u),u=e.sourceLine0,t+=$a(e.sourceCol0-p),p=e.sourceCol0),t}).join(","),t+=";"}),t=t.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources:i,sourcesContent:s,mappings:t}},Ga.prototype.toJsComment=function(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+function(e){var t="";e=Xr(e);for(var n=0;n<e.length;){var r=e.charCodeAt(n++),i=e.charCodeAt(n++),s=e.charCodeAt(n++);t+=Ya(r>>2),t+=Ya((3&r)<<4|(isNaN(i)?0:i>>4)),t+=isNaN(i)?"=":Ya((15&i)<<2|s>>6),t+=isNaN(i)||isNaN(s)?"=":Ya(63&s)}return t}(JSON.stringify(this,null,0)):""},Ga);function Ga(e){this.file=e=void 0===e?null:e,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}function Xa(e,t){this.start=e,this.end=t}function $a(e){e=e<0?1+(-e<<1):e<<1;var t="";do{var n=31&e}while(0<(e>>=5)&&(n|=32),t+=Ya(n),0<e);return t}function Ya(e){if(e<0||64<=e)throw new Error("Can only encode value in the range [0, 63]");return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e]}function Ja(e){this.indent=e,this.partsLength=0,this.parts=[],this.srcSpans=[]}var Za=/'|\\|\n|\r|\$/g,eu=/^[$A-Z_][0-9A-Z_$]*$/i,tu=xr("error",null,null),nu=xr("stack",null,null),ru=(su.createRoot=function(){return new su(0)},Object.defineProperty(su.prototype,"_currentLine",{get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),su.prototype.println=function(e,t){this.print(e||null,t=void 0===t?"":t,!0)},su.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},su.prototype.lineLength=function(){return this._currentLine.indent*"  ".length+this._currentLine.partsLength},su.prototype.print=function(e,t,n){void 0===n&&(n=!1),0<t.length&&(this._currentLine.parts.push(t),this._currentLine.partsLength+=t.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),n&&this._lines.push(new Ja(this._indent))},su.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},su.prototype.incIndent=function(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)},su.prototype.decIndent=function(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)},su.prototype.pushClass=function(e){this._classes.push(e)},su.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(su.prototype,"currentClass",{get:function(){return 0<this._classes.length?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),su.prototype.toSource=function(){return this.sourceLines.map(function(e){return 0<e.parts.length?au(e.indent)+e.parts.join(""):""}).join("\n")},su.prototype.toSourceMapGenerator=function(e,t){void 0===t&&(t=0);for(var l=new Qa(e),c=!1,h=function(){c||(l.addSource(e," ").addMapping(0,e,0,0),c=!0)},n=0;n<t;n++)l.addLine(),h();return this.sourceLines.forEach(function(e,t){l.addLine();for(var n=e.srcSpans,r=e.parts,i=e.indent*"  ".length,s=0;s<n.length&&!n[s];)i+=r[s].length,s++;for(s<n.length&&0===t&&0===i?c=!0:h();s<n.length;){var o=n[s],a=o.start.file,u=o.start.line,p=o.start.col;for(l.addSource(a.url,a.content).addMapping(i,a.url,u,p),i+=r[s].length,s++;s<n.length&&(o===n[s]||!n[s]);)i+=r[s].length,s++}}),l},su.prototype.setPreambleLineCount=function(e){return this._preambleLineCount=e},su.prototype.spanOf=function(e,t){var n=this._lines[e-this._preambleLineCount];if(n)for(var r=t-au(n.indent).length,i=0;i<n.parts.length;i++){var s=n.parts[i];if(s.length>r)return n.srcSpans[i];r-=s.length}return null},Object.defineProperty(su.prototype,"sourceLines",{get:function(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines},enumerable:!0,configurable:!0}),su),mi=(iu.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t),t.println(e,";"),null},iu.prototype.visitReturnStmt=function(e,t){return t.print(e,"return "),e.value.visitExpression(this,t),t.println(e,";"),null},iu.prototype.visitIfStmt=function(e,t){t.print(e,"if ("),e.condition.visitExpression(this,t),t.print(e,") {");var n=null!=e.falseCase&&0<e.falseCase.length;return e.trueCase.length<=1&&!n?(t.print(e," "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(e," ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),n&&(t.println(e,"} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println(e,"}"),null},iu.prototype.visitThrowStmt=function(e,t){return t.print(e,"throw "),e.error.visitExpression(this,t),t.println(e,";"),null},iu.prototype.visitCommentStmt=function(t,n){return t.multiline?n.println(t,"/* "+t.comment+" */"):t.comment.split("\n").forEach(function(e){n.println(t,"// "+e)}),null},iu.prototype.visitJSDocCommentStmt=function(e,t){return t.println(e,"/*"+e.toString()+"*/"),null},iu.prototype.visitWriteVarExpr=function(e,t){var n=t.lineIsEmpty();return n||t.print(e,"("),t.print(e,e.name+" = "),e.value.visitExpression(this,t),n||t.print(e,")"),null},iu.prototype.visitWriteKeyExpr=function(e,t){var n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"] = "),e.value.visitExpression(this,t),n||t.print(e,")"),null},iu.prototype.visitWritePropExpr=function(e,t){var n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,"."+e.name+" = "),e.value.visitExpression(this,t),n||t.print(e,")"),null},iu.prototype.visitInvokeMethodExpr=function(e,t){e.receiver.visitExpression(this,t);var n=e.name;return null!=e.builtin&&null==(n=this.getBuiltinMethodName(e.builtin))||(t.print(e,"."+n+"("),this.visitAllExpressions(e.args,t,","),t.print(e,")")),null},iu.prototype.visitInvokeFunctionExpr=function(e,t){return e.fn.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null},iu.prototype.visitWrappedNodeExpr=function(e,t){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")},iu.prototype.visitTypeofExpr=function(e,t){t.print(e,"typeof "),e.expr.visitExpression(this,t)},iu.prototype.visitReadVarExpr=function(e,t){var n=e.name;if(null!=e.builtin)switch(e.builtin){case Be.Super:n="super";break;case Be.This:n="this";break;case Be.CatchError:n=tu.name;break;case Be.CatchStack:n=nu.name;break;default:throw new Error("Unknown builtin variable "+e.builtin)}return t.print(e,n),null},iu.prototype.visitInstantiateExpr=function(e,t){return t.print(e,"new "),e.classExpr.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null},iu.prototype.visitLiteralExpr=function(e,t){var n=e.value;return"string"==typeof n?t.print(e,ou(n,this._escapeDollarInStrings)):t.print(e,""+n),null},iu.prototype.visitLocalizedString=function(e,t){var n=e.serializeI18nHead();t.print(e,"$localize `"+n.raw);for(var r=1;r<e.messageParts.length;r++)t.print(e,"${"),e.expressions[r-1].visitExpression(this,t),t.print(e,"}"+e.serializeI18nTemplatePart(r).raw);return t.print(e,"`"),null},iu.prototype.visitConditionalExpr=function(e,t){return t.print(e,"("),e.condition.visitExpression(this,t),t.print(e,"? "),e.trueCase.visitExpression(this,t),t.print(e,": "),e.falseCase.visitExpression(this,t),t.print(e,")"),null},iu.prototype.visitNotExpr=function(e,t){return t.print(e,"!"),e.condition.visitExpression(this,t),null},iu.prototype.visitAssertNotNullExpr=function(e,t){return e.condition.visitExpression(this,t),null},iu.prototype.visitBinaryOperatorExpr=function(e,t){var n;switch(e.operator){case ye.Equals:n="==";break;case ye.Identical:n="===";break;case ye.NotEquals:n="!=";break;case ye.NotIdentical:n="!==";break;case ye.And:n="&&";break;case ye.BitwiseAnd:n="&";break;case ye.Or:n="||";break;case ye.Plus:n="+";break;case ye.Minus:n="-";break;case ye.Divide:n="/";break;case ye.Multiply:n="*";break;case ye.Modulo:n="%";break;case ye.Lower:n="<";break;case ye.LowerEquals:n="<=";break;case ye.Bigger:n=">";break;case ye.BiggerEquals:n=">=";break;default:throw new Error("Unknown operator "+e.operator)}return e.parens&&t.print(e,"("),e.lhs.visitExpression(this,t),t.print(e," "+n+" "),e.rhs.visitExpression(this,t),e.parens&&t.print(e,")"),null},iu.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t),t.print(e,"."),t.print(e,e.name),null},iu.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"]"),null},iu.prototype.visitLiteralArrayExpr=function(e,t){return t.print(e,"["),this.visitAllExpressions(e.entries,t,","),t.print(e,"]"),null},iu.prototype.visitLiteralMapExpr=function(t,n){var r=this;return n.print(t,"{"),this.visitAllObjects(function(e){n.print(t,ou(e.key,r._escapeDollarInStrings,e.quoted)+":"),e.value.visitExpression(r,n)},t.entries,n,","),n.print(t,"}"),null},iu.prototype.visitCommaExpr=function(e,t){return t.print(e,"("),this.visitAllExpressions(e.parts,t,","),t.print(e,")"),null},iu.prototype.visitAllExpressions=function(e,t,n){var r=this;this.visitAllObjects(function(e){return e.visitExpression(r,t)},e,t,n)},iu.prototype.visitAllObjects=function(e,t,n,r){for(var i=!1,s=0;s<t.length;s++)0<s&&(80<n.lineLength()?(n.print(null,r,!0),i||(n.incIndent(),n.incIndent(),i=!0)):n.print(null,r,!1)),e(t[s]);i&&(n.decIndent(),n.decIndent())},iu.prototype.visitAllStatements=function(e,t){var n=this;e.forEach(function(e){return e.visitStatement(n,t)})},iu);function iu(e){this._escapeDollarInStrings=e}function su(e){this._indent=e,this._classes=[],this._preambleLineCount=0,this._lines=[new Ja(e)]}function ou(e,n,t){if(void 0===t&&(t=!0),null==e)return null;e=e.replace(Za,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"$"==e[0]?n?"\\$":"$":"\n"==e[0]?"\\n":"\r"==e[0]?"\\r":"\\"+e[0]});return t||!eu.test(e)?"'"+e+"'":e}function au(e){for(var t="",n=0;n<e;n++)t+="  ";return t}var uu,pu,lu=(h(mu,pu=mi),mu.prototype.visitDeclareClassStmt=function(t,n){var r=this;return n.pushClass(t),this._visitClassConstructor(t,n),null!=t.parent&&(n.print(t,t.name+".prototype = Object.create("),t.parent.visitExpression(this,n),n.println(t,".prototype);")),t.getters.forEach(function(e){return r._visitClassGetter(t,e,n)}),t.methods.forEach(function(e){return r._visitClassMethod(t,e,n)}),n.popClass(),null},mu.prototype._visitClassConstructor=function(e,t){t.print(e,"function "+e.name+"("),null!=e.constructorMethod&&this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),null!=e.constructorMethod&&0<e.constructorMethod.body.length&&(t.println(e,"var self = this;"),this.visitAllStatements(e.constructorMethod.body,t)),t.decIndent(),t.println(e,"}")},mu.prototype._visitClassGetter=function(e,t,n){n.println(e,"Object.defineProperty("+e.name+".prototype, '"+t.name+"', { get: function() {"),n.incIndent(),0<t.body.length&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"}});")},mu.prototype._visitClassMethod=function(e,t,n){n.print(e,e.name+".prototype."+t.name+" = function("),this._visitParams(t.params,n),n.println(e,") {"),n.incIndent(),0<t.body.length&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"};")},mu.prototype.visitWrappedNodeExpr=function(e,t){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")},mu.prototype.visitReadVarExpr=function(e,t){if(e.builtin===Be.This)t.print(e,"self");else{if(e.builtin===Be.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");pu.prototype.visitReadVarExpr.call(this,e,t)}return null},mu.prototype.visitDeclareVarStmt=function(e,t){return t.print(e,"var "+e.name),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null},mu.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t),null},mu.prototype.visitInvokeFunctionExpr=function(e,t){var n=e.fn;return n instanceof Ge&&n.builtin===Be.Super?(t.currentClass.parent.visitExpression(this,t),t.print(e,".call(this"),0<e.args.length&&(t.print(e,", "),this.visitAllExpressions(e.args,t,",")),t.print(e,")")):pu.prototype.visitInvokeFunctionExpr.call(this,e,t),null},mu.prototype.visitFunctionExpr=function(e,t){return t.print(e,"function"+(e.name?" "+e.name:"")+"("),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null},mu.prototype.visitDeclareFunctionStmt=function(e,t){return t.print(e,"function "+e.name+"("),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null},mu.prototype.visitTryCatchStmt=function(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,"} catch ("+tu.name+") {"),t.incIndent();var n=[nu.set(tu.prop("stack")).toDeclStmt(null,[Tt.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null},mu.prototype.visitLocalizedString=function(t,n){var r=this;n.print(t,'$localize((this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})(');for(var e=[t.serializeI18nHead()],i=1;i<t.messageParts.length;i++)e.push(t.serializeI18nTemplatePart(i));return n.print(t,"["+e.map(function(e){return ou(e.cooked,!1)}).join(", ")+"], "),n.print(t,"["+e.map(function(e){return ou(e.raw,!1)}).join(", ")+"])"),t.expressions.forEach(function(e){n.print(t,", "),e.visitExpression(r,n)}),n.print(t,")"),null},mu.prototype._visitParams=function(e,t){this.visitAllObjects(function(e){return t.print(null,e.name)},e,t,",")},mu.prototype.getBuiltinMethodName=function(e){var t;switch(e){case Ue.ConcatArray:t="concat";break;case Ue.SubscribeObservable:t="subscribe";break;case Ue.Bind:t="bind";break;default:throw new Error("Unknown builtin method: "+e)}return t},mu),cu=(fu.prototype.evaluateStatements=function(e,t,n,r){var i=new hu(n),n=ru.createRoot();return 0<t.length&&!t[0].isEquivalent(Mr("use strict").toStmt())&&(t=B([Mr("use strict").toStmt()],t)),i.visitAllStatements(t,n),i.createReturnStmt(n),this.evaluateCode(e,n,i.getArgs(),r)},fu.prototype.evaluateCode=function(e,t,n,r){var i,s='"use strict";'+t.toSource()+"\n//# sourceURL="+e,o=[],a=[];for(i in n)a.push(n[i]),o.push(i);r&&(r=(r=(new(Function.bind.apply(Function,B([void 0],o.concat("return null;"))))).toString()).slice(0,r.indexOf("return null;")).split("\n").length-1,s+="\n"+t.toSourceMapGenerator(e,r).toJsComment());s=new(Function.bind.apply(Function,B([void 0],o.concat(s))));return this.executeFunction(s,a)},fu.prototype.executeFunction=function(e,t){return e.apply(void 0,B(t))},fu),hu=(h(du,uu=lu),du.prototype.createReturnStmt=function(e){new Rn(new Yt(this._evalExportedVars.map(function(e){return new $t(e,xr(e),!1)}))).visitStatement(this,e)},du.prototype.getArgs=function(){for(var e={},t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e},du.prototype.visitExternalExpr=function(e,t){return this._emitReferenceToExternal(e,this.reflector.resolveExternalReference(e.value),t),null},du.prototype.visitWrappedNodeExpr=function(e,t){return this._emitReferenceToExternal(e,e.node,t),null},du.prototype.visitDeclareVarStmt=function(e,t){return e.hasModifier(Tt.Exported)&&this._evalExportedVars.push(e.name),uu.prototype.visitDeclareVarStmt.call(this,e,t)},du.prototype.visitDeclareFunctionStmt=function(e,t){return e.hasModifier(Tt.Exported)&&this._evalExportedVars.push(e.name),uu.prototype.visitDeclareFunctionStmt.call(this,e,t)},du.prototype.visitDeclareClassStmt=function(e,t){return e.hasModifier(Tt.Exported)&&this._evalExportedVars.push(e.name),uu.prototype.visitDeclareClassStmt.call(this,e,t)},du.prototype._emitReferenceToExternal=function(e,t,n){var r=this._evalArgValues.indexOf(t);-1===r&&(r=this._evalArgValues.length,this._evalArgValues.push(t),t=Ni({reference:t})||"val",this._evalArgNames.push("jit_"+t+"_"+r)),n.print(e,this._evalArgNames[r])},du);function du(e){var t=uu.call(this)||this;return t.reflector=e,t._evalArgNames=[],t._evalArgValues=[],t._evalExportedVars=[],t}function fu(){}function mu(){return pu.call(this,!1)||this}var vu=(yu.prototype.resolveExternalReference=function(e){if("@angular/core"!==e.moduleName)throw new Error("Cannot resolve external reference to "+e.moduleName+", only references to @angular/core are supported.");if(!this.context.hasOwnProperty(e.name))throw new Error("No value provided for @angular/core symbol '"+e.name+"'.");return this.context[e.name]},yu.prototype.parameters=function(e){throw new Error("Not implemented.")},yu.prototype.annotations=function(e){throw new Error("Not implemented.")},yu.prototype.shallowAnnotations=function(e){throw new Error("Not implemented.")},yu.prototype.tryAnnotations=function(e){throw new Error("Not implemented.")},yu.prototype.propMetadata=function(e){throw new Error("Not implemented.")},yu.prototype.hasLifecycleHook=function(e,t){throw new Error("Not implemented.")},yu.prototype.guards=function(e){throw new Error("Not implemented.")},yu.prototype.componentModuleUrl=function(e,t){throw new Error("Not implemented.")},yu);function yu(e){this.context=e}function gu(t,n){return void 0===n&&(n=!1),Pr(Object.keys(t).map(function(e){return{key:e,quoted:n,value:t[e]}}))}function _u(o){var e=o.internalType,t=o.type,n=o.bootstrap,r=o.declarations,i=o.imports,s=o.exports,a=o.schemas,u=o.containsForwardDecls,p=o.emitInline,l=o.id,c=[],e={type:e};return n.length&&(e.bootstrap=Su(n,u)),p?(r.length&&(e.declarations=Su(r,u)),i.length&&(e.imports=Su(i,u)),s.length&&(e.exports=Su(s,u))):null!==(u=function(){var e=o.adjacentType,t=o.declarations,n=o.imports,r=o.exports,i=o.containsForwardDecls,s={};if(t.length&&(s.declarations=Su(t,i)),n.length&&(s.imports=Su(n,i)),r.length&&(s.exports=Su(r,i)),0===Object.keys(s).length)return null;i=new ht(Sr(ts.setNgModuleScope),[e,rs(s)]),e=new Vt({name:"ngJitMode",moduleName:null}),s=new Kt(ye.Identical,new Xe(e),Mr("undefined")),e=new Kt(ye.Or,s,e,void 0,void 0,!0),i=new Kt(ye.And,e,i),i=new zt([],[i.toStmt()]);return new ht(i,[]).toStmt()}())&&c.push(u),a&&a.length&&(e.schemas=Tr(a.map(function(e){return e.value}))),l&&(e.id=l),{expression:Sr(ts.defineNgModule).callFn([rs(e)]),type:new we(Sr(ts.NgModuleDefWithMeta,[new we(t.type),xu(r),xu(i),xu(s)])),additionalStatements:c}}function Eu(e){var t=Da({name:e.name,type:e.type,internalType:e.internalType,typeArgumentCount:0,deps:e.deps,injectFn:ts.inject,target:Ma.NgModule}),n={factory:t.factory};return null!==e.providers&&(n.providers=e.providers),0<e.imports.length&&(n.imports=Tr(e.imports)),{expression:Sr(ts.defineInjector).callFn([rs(n)]),type:new we(Sr(ts.InjectorDef,[new we(e.type.type)])),statements:t.statements}}function xu(e){var t=e.map(function(e){return br(e.type)});return 0<e.length?Cr(Tr(t)):Ie}function Su(e,t){e=Tr(e.map(function(e){return e.value}));return t?Nr([],[new Rn(e)]):e}function wu(e){var t=[];return t.push({key:"name",value:Mr(e.pipeName),quoted:!1}),t.push({key:"type",value:e.type.value,quoted:!1}),t.push({key:"pure",value:Mr(e.pure),quoted:!1}),{expression:Sr(ts.definePipe).callFn([Pr(t)]),type:new we(Sr(ts.PipeDefWithMeta,[ss(e.type.type,e.typeArgumentCount),new we(new ft(e.pipeName))]))}}function Cu(e,t,n,r){this.input=t,this.errLocation=n,this.ctxLocation=r,this.message="Parser Error: "+e+" "+n+" ["+t+"] in "+r}function bu(e,t,n,r,i,s){this.span=e,this.key=n,this.keyIsVar=r,this.name=i,this.expression=s}function Tu(e,t,n,r,i){this.name=e,this.expression=t,this.type=n,this.sourceSpan=r,this.valueSpan=i,this.isLiteral=this.type===Pu.LITERAL_ATTR,this.isAnimation=this.type===Pu.ANIMATION}var Pu,Nu,Au,Mu,Iu,ku,Ru,Ou,Fu,Lu,Du,Bu,Vu,ju,Uu,Hu,qu,Wu,zu,Ku,Qu,Gu,Xu,$u=(Gp.prototype.toAbsolute=function(e){return new _p(e+this.start,e+this.end)},Gp),Yu=(Qp.prototype.visit=function(e,t){return null},Qp.prototype.toString=function(){return"AST"},Qp),Ju=(h(Kp,Xu=Yu),Kp.prototype.visit=function(e,t){return e.visitQuote(this,t=void 0===t?null:t)},Kp.prototype.toString=function(){return"Quote"},Kp),Zu=(h(zp,Gu=Yu),zp.prototype.visit=function(e,t){},zp),ep=(h(Wp,Qu=Yu),Wp.prototype.visit=function(e,t){return e.visitImplicitReceiver(this,t=void 0===t?null:t)},Wp),tp=(h(qp,Ku=Yu),qp.prototype.visit=function(e,t){return e.visitChain(this,t=void 0===t?null:t)},qp),np=(h(Hp,zu=Yu),Hp.prototype.visit=function(e,t){return e.visitConditional(this,t=void 0===t?null:t)},Hp),rp=(h(Up,Wu=Yu),Up.prototype.visit=function(e,t){return e.visitPropertyRead(this,t=void 0===t?null:t)},Up),ip=(h(jp,qu=Yu),jp.prototype.visit=function(e,t){return e.visitPropertyWrite(this,t=void 0===t?null:t)},jp),sp=(h(Vp,Hu=Yu),Vp.prototype.visit=function(e,t){return e.visitSafePropertyRead(this,t=void 0===t?null:t)},Vp),op=(h(Bp,Uu=Yu),Bp.prototype.visit=function(e,t){return e.visitKeyedRead(this,t=void 0===t?null:t)},Bp),ap=(h(Dp,ju=Yu),Dp.prototype.visit=function(e,t){return e.visitKeyedWrite(this,t=void 0===t?null:t)},Dp),up=(h(Lp,Vu=Yu),Lp.prototype.visit=function(e,t){return e.visitPipe(this,t=void 0===t?null:t)},Lp),pp=(h(Fp,Bu=Yu),Fp.prototype.visit=function(e,t){return e.visitLiteralPrimitive(this,t=void 0===t?null:t)},Fp),lp=(h(Op,Du=Yu),Op.prototype.visit=function(e,t){return e.visitLiteralArray(this,t=void 0===t?null:t)},Op),cp=(h(Rp,Lu=Yu),Rp.prototype.visit=function(e,t){return e.visitLiteralMap(this,t=void 0===t?null:t)},Rp),hp=(h(kp,Fu=Yu),kp.prototype.visit=function(e,t){return e.visitInterpolation(this,t=void 0===t?null:t)},kp),dp=(h(Ip,Ou=Yu),Ip.prototype.visit=function(e,t){return e.visitBinary(this,t=void 0===t?null:t)},Ip),fp=(h(Mp,Ru=Yu),Mp.prototype.visit=function(e,t){return e.visitPrefixNot(this,t=void 0===t?null:t)},Mp),mp=(h(Ap,ku=Yu),Ap.prototype.visit=function(e,t){return e.visitNonNullAssert(this,t=void 0===t?null:t)},Ap),vp=(h(Np,Iu=Yu),Np.prototype.visit=function(e,t){return e.visitMethodCall(this,t=void 0===t?null:t)},Np),yp=(h(Pp,Mu=Yu),Pp.prototype.visit=function(e,t){return e.visitSafeMethodCall(this,t=void 0===t?null:t)},Pp),gp=(h(Tp,Au=Yu),Tp.prototype.visit=function(e,t){return e.visitFunctionCall(this,t=void 0===t?null:t)},Tp),_p=function(e,t){this.start=e,this.end=t},Ep=(h(bp,Nu=Yu),bp.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitASTWithSource?e.visitASTWithSource(this,t):this.ast.visit(e,t)},bp.prototype.toString=function(){return this.source+" in "+this.location},bp),es=(Cp.prototype.visit=function(e,t){e.visit(this,t)},Cp.prototype.visitBinary=function(e,t){this.visit(e.left,t),this.visit(e.right,t)},Cp.prototype.visitChain=function(e,t){this.visitAll(e.expressions,t)},Cp.prototype.visitConditional=function(e,t){this.visit(e.condition,t),this.visit(e.trueExp,t),this.visit(e.falseExp,t)},Cp.prototype.visitPipe=function(e,t){this.visit(e.exp,t),this.visitAll(e.args,t)},Cp.prototype.visitFunctionCall=function(e,t){e.target&&this.visit(e.target,t),this.visitAll(e.args,t)},Cp.prototype.visitImplicitReceiver=function(e,t){},Cp.prototype.visitInterpolation=function(e,t){this.visitAll(e.expressions,t)},Cp.prototype.visitKeyedRead=function(e,t){this.visit(e.obj,t),this.visit(e.key,t)},Cp.prototype.visitKeyedWrite=function(e,t){this.visit(e.obj,t),this.visit(e.key,t),this.visit(e.value,t)},Cp.prototype.visitLiteralArray=function(e,t){this.visitAll(e.expressions,t)},Cp.prototype.visitLiteralMap=function(e,t){this.visitAll(e.values,t)},Cp.prototype.visitLiteralPrimitive=function(e,t){},Cp.prototype.visitMethodCall=function(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)},Cp.prototype.visitPrefixNot=function(e,t){this.visit(e.expression,t)},Cp.prototype.visitNonNullAssert=function(e,t){this.visit(e.expression,t)},Cp.prototype.visitPropertyRead=function(e,t){this.visit(e.receiver,t)},Cp.prototype.visitPropertyWrite=function(e,t){this.visit(e.receiver,t),this.visit(e.value,t)},Cp.prototype.visitSafePropertyRead=function(e,t){this.visit(e.receiver,t)},Cp.prototype.visitSafeMethodCall=function(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)},Cp.prototype.visitQuote=function(e,t){},Cp.prototype.visitAll=function(e,t){var n,r;try{for(var i=D(e),s=i.next();!s.done;s=i.next()){var o=s.value;this.visit(o,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Cp),xp=(wp.prototype.visitImplicitReceiver=function(e,t){return e},wp.prototype.visitInterpolation=function(e,t){return new hp(e.span,e.sourceSpan,e.strings,this.visitAll(e.expressions))},wp.prototype.visitLiteralPrimitive=function(e,t){return new pp(e.span,e.sourceSpan,e.value)},wp.prototype.visitPropertyRead=function(e,t){return new rp(e.span,e.sourceSpan,e.receiver.visit(this),e.name)},wp.prototype.visitPropertyWrite=function(e,t){return new ip(e.span,e.sourceSpan,e.receiver.visit(this),e.name,e.value.visit(this))},wp.prototype.visitSafePropertyRead=function(e,t){return new sp(e.span,e.sourceSpan,e.receiver.visit(this),e.name)},wp.prototype.visitMethodCall=function(e,t){return new vp(e.span,e.sourceSpan,e.receiver.visit(this),e.name,this.visitAll(e.args))},wp.prototype.visitSafeMethodCall=function(e,t){return new yp(e.span,e.sourceSpan,e.receiver.visit(this),e.name,this.visitAll(e.args))},wp.prototype.visitFunctionCall=function(e,t){return new gp(e.span,e.sourceSpan,e.target.visit(this),this.visitAll(e.args))},wp.prototype.visitLiteralArray=function(e,t){return new lp(e.span,e.sourceSpan,this.visitAll(e.expressions))},wp.prototype.visitLiteralMap=function(e,t){return new cp(e.span,e.sourceSpan,e.keys,this.visitAll(e.values))},wp.prototype.visitBinary=function(e,t){return new dp(e.span,e.sourceSpan,e.operation,e.left.visit(this),e.right.visit(this))},wp.prototype.visitPrefixNot=function(e,t){return new fp(e.span,e.sourceSpan,e.expression.visit(this))},wp.prototype.visitNonNullAssert=function(e,t){return new mp(e.span,e.sourceSpan,e.expression.visit(this))},wp.prototype.visitConditional=function(e,t){return new np(e.span,e.sourceSpan,e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))},wp.prototype.visitPipe=function(e,t){return new up(e.span,e.sourceSpan,e.exp.visit(this),e.name,this.visitAll(e.args),e.nameSpan)},wp.prototype.visitKeyedRead=function(e,t){return new op(e.span,e.sourceSpan,e.obj.visit(this),e.key.visit(this))},wp.prototype.visitKeyedWrite=function(e,t){return new ap(e.span,e.sourceSpan,e.obj.visit(this),e.key.visit(this),e.value.visit(this))},wp.prototype.visitAll=function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].visit(this);return t},wp.prototype.visitChain=function(e,t){return new tp(e.span,e.sourceSpan,this.visitAll(e.expressions))},wp.prototype.visitQuote=function(e,t){return new Ju(e.span,e.sourceSpan,e.prefix,e.uninterpretedExpression,e.location)},wp),On=(Sp.prototype.visitImplicitReceiver=function(e,t){return e},Sp.prototype.visitInterpolation=function(e,t){var n=this.visitAll(e.expressions);return n!==e.expressions?new hp(e.span,e.sourceSpan,e.strings,n):e},Sp.prototype.visitLiteralPrimitive=function(e,t){return e},Sp.prototype.visitPropertyRead=function(e,t){var n=e.receiver.visit(this);return n!==e.receiver?new rp(e.span,e.sourceSpan,n,e.name):e},Sp.prototype.visitPropertyWrite=function(e,t){var n=e.receiver.visit(this),r=e.value.visit(this);return n!==e.receiver||r!==e.value?new ip(e.span,e.sourceSpan,n,e.name,r):e},Sp.prototype.visitSafePropertyRead=function(e,t){var n=e.receiver.visit(this);return n!==e.receiver?new sp(e.span,e.sourceSpan,n,e.name):e},Sp.prototype.visitMethodCall=function(e,t){var n=e.receiver.visit(this),r=this.visitAll(e.args);return n!==e.receiver||r!==e.args?new vp(e.span,e.sourceSpan,n,e.name,r):e},Sp.prototype.visitSafeMethodCall=function(e,t){var n=e.receiver.visit(this),r=this.visitAll(e.args);return n!==e.receiver||r!==e.args?new yp(e.span,e.sourceSpan,n,e.name,r):e},Sp.prototype.visitFunctionCall=function(e,t){var n=e.target&&e.target.visit(this),r=this.visitAll(e.args);return n!==e.target||r!==e.args?new gp(e.span,e.sourceSpan,n,r):e},Sp.prototype.visitLiteralArray=function(e,t){var n=this.visitAll(e.expressions);return n!==e.expressions?new lp(e.span,e.sourceSpan,n):e},Sp.prototype.visitLiteralMap=function(e,t){var n=this.visitAll(e.values);return n!==e.values?new cp(e.span,e.sourceSpan,e.keys,n):e},Sp.prototype.visitBinary=function(e,t){var n=e.left.visit(this),r=e.right.visit(this);return n!==e.left||r!==e.right?new dp(e.span,e.sourceSpan,e.operation,n,r):e},Sp.prototype.visitPrefixNot=function(e,t){var n=e.expression.visit(this);return n!==e.expression?new fp(e.span,e.sourceSpan,n):e},Sp.prototype.visitNonNullAssert=function(e,t){var n=e.expression.visit(this);return n!==e.expression?new mp(e.span,e.sourceSpan,n):e},Sp.prototype.visitConditional=function(e,t){var n=e.condition.visit(this),r=e.trueExp.visit(this),i=e.falseExp.visit(this);return n!==e.condition||r!==e.trueExp||i!==e.falseExp?new np(e.span,e.sourceSpan,n,r,i):e},Sp.prototype.visitPipe=function(e,t){var n=e.exp.visit(this),r=this.visitAll(e.args);return n!==e.exp||r!==e.args?new up(e.span,e.sourceSpan,n,e.name,r,e.nameSpan):e},Sp.prototype.visitKeyedRead=function(e,t){var n=e.obj.visit(this),r=e.key.visit(this);return n!==e.obj||r!==e.key?new op(e.span,e.sourceSpan,n,r):e},Sp.prototype.visitKeyedWrite=function(e,t){var n=e.obj.visit(this),r=e.key.visit(this),i=e.value.visit(this);return n!==e.obj||r!==e.key||i!==e.value?new ap(e.span,e.sourceSpan,n,r,i):e},Sp.prototype.visitAll=function(e){for(var t=[],n=!1,r=0;r<e.length;++r){var i=e[r],s=i.visit(this);t[r]=s,n=n||s!==i}return n?t:e},Sp.prototype.visitChain=function(e,t){var n=this.visitAll(e.expressions);return n!==e.expressions?new tp(e.span,e.sourceSpan,n):e},Sp.prototype.visitQuote=function(e,t){return e},Sp);function Sp(){}function wp(){}function Cp(){}function bp(e,t,n,r,i){r=Nu.call(this,new $u(0,null===t?0:t.length),new _p(r,null===t?r:r+t.length))||this;return r.ast=e,r.source=t,r.location=n,r.errors=i,r}function Tp(e,t,n,r){t=Au.call(this,e,t)||this;return t.target=n,t.args=r,t}function Pp(e,t,n,r,i){t=Mu.call(this,e,t)||this;return t.receiver=n,t.name=r,t.args=i,t}function Np(e,t,n,r,i){t=Iu.call(this,e,t)||this;return t.receiver=n,t.name=r,t.args=i,t}function Ap(e,t,n){t=ku.call(this,e,t)||this;return t.expression=n,t}function Mp(e,t,n){t=Ru.call(this,e,t)||this;return t.expression=n,t}function Ip(e,t,n,r,i){t=Ou.call(this,e,t)||this;return t.operation=n,t.left=r,t.right=i,t}function kp(e,t,n,r){t=Fu.call(this,e,t)||this;return t.strings=n,t.expressions=r,t}function Rp(e,t,n,r){t=Lu.call(this,e,t)||this;return t.keys=n,t.values=r,t}function Op(e,t,n){t=Du.call(this,e,t)||this;return t.expressions=n,t}function Fp(e,t,n){t=Bu.call(this,e,t)||this;return t.value=n,t}function Lp(e,t,n,r,i,s){t=Vu.call(this,e,t)||this;return t.exp=n,t.name=r,t.args=i,t.nameSpan=s,t}function Dp(e,t,n,r,i){t=ju.call(this,e,t)||this;return t.obj=n,t.key=r,t.value=i,t}function Bp(e,t,n,r){t=Uu.call(this,e,t)||this;return t.obj=n,t.key=r,t}function Vp(e,t,n,r){t=Hu.call(this,e,t)||this;return t.receiver=n,t.name=r,t}function jp(e,t,n,r,i){t=qu.call(this,e,t)||this;return t.receiver=n,t.name=r,t.value=i,t}function Up(e,t,n,r){t=Wu.call(this,e,t)||this;return t.receiver=n,t.name=r,t}function Hp(e,t,n,r,i){t=zu.call(this,e,t)||this;return t.condition=n,t.trueExp=r,t.falseExp=i,t}function qp(e,t,n){t=Ku.call(this,e,t)||this;return t.expressions=n,t}function Wp(){return null!==Qu&&Qu.apply(this,arguments)||this}function zp(){return null!==Gu&&Gu.apply(this,arguments)||this}function Kp(e,t,n,r,i){t=Xu.call(this,e,t)||this;return t.prefix=n,t.uninterpretedExpression=r,t.location=i,t}function Qp(e,t){this.span=e,this.sourceSpan=t}function Gp(e,t){this.start=e,this.end=t}(zn=Pu=Pu||{})[zn.DEFAULT=0]="DEFAULT",zn[zn.LITERAL_ATTR=1]="LITERAL_ATTR",zn[zn.ANIMATION=2]="ANIMATION";function Xp(e,t,n,r,i,s){this.name=e,this.targetOrPhase=t,this.type=n,this.handler=r,this.sourceSpan=i,this.handlerSpan=s}function $p(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}function Yp(e,t,n,r,i,s,o){this.name=e,this.type=t,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=s,this.valueSpan=o}var Jp=(el.event=xr("$event"),el),Zp=function(e,n){this.stmts=e,this.allowDefault=n,this.render3Stmts=e.map(function(e){if(e instanceof Mn&&e.name==n.name&&e.value instanceof Kt){var t=e.value.lhs;return new Rn(t.value)}return e})};function el(){}function tl(e,t,n,r,i,s,o){e=e||new yl;n=nl({createLiteralArrayConverter:function(e){return function(e){return Tr(e)}},createLiteralMapConverter:function(e){return function(n){return Pr(e.map(function(e,t){return{key:e.key,value:n[t],quoted:e.quoted}}))}},createPipeConverter:function(e){throw new Error("Illegal State: Actions are not allowed to contain pipes. Pipe: "+e)}},n),s=new fl(e,t,r,i,s,o),o=[];!function t(e,n){Array.isArray(e)?e.forEach(function(e){return t(e,n)}):n.push(e)}(n.visit(s,il.Statement),o),function(e,t,n){for(var r=e-1;0<=r;r--)n.unshift(pl(t,r))}(s.temporaryCount,r,o),s.usesImplicitReceiver&&e.notifyImplicitReceiverUse();n=o.length-1,s=null;return 0<=n&&((e=(e=o[n])instanceof kn?e.expr:e instanceof Rn?e.value:null)&&(s=xr("pd_"+r),o[n]=s.set(e.cast(Te).notIdentical(Mr(!1))).toDeclStmt(null,[Tt.Final]))),new Zp(o,s)}function nl(e,t){return t=t,e=new dl(e),t.visit(e)}var rl,il,sl=function(e,t){this.stmts=e,this.currValExpr=t};function ol(e,t,n,r,i,s){e=e||new yl;var o=xr("currVal_"+r),s=new fl(e,t,r,s),n=n.visit(s,il.Expression),r=al(s,r);return s.usesImplicitReceiver&&e.notifyImplicitReceiverUse(),0===s.temporaryCount&&i==rl.TrySimple?new sl([],n):(r.push(o.set(n).toDeclStmt(Te,[Tt.Final])),new sl(r,o))}function al(e,t){for(var n=[],r=0;r<e.temporaryCount;r++)n.push(pl(t,r));return n}function ul(e,t){return"tmp_"+e+"_"+t}function pl(e,t){return new Mn(ul(e,t),Zt)}function ll(e,t){if(e!==il.Expression)throw new Error("Expected an expression, but saw "+t)}function cl(e,t){return e===il.Statement?t.toStmt():t}(ro=rl=rl||{})[ro.General=0]="General",ro[ro.TrySimple=1]="TrySimple",(s=il=il||{})[s.Statement=0]="Statement",s[s.Expression=1]="Expression";var hl,dl=(h(vl,hl=xp),vl.prototype.visitPipe=function(e,t){var n=this,r=B([e.exp],e.args).map(function(e){return e.visit(n,t)});return new El(e.span,e.sourceSpan,r,this._converterFactory.createPipeConverter(e.name,r.length))},vl.prototype.visitLiteralArray=function(e,t){var n=this,r=e.expressions.map(function(e){return e.visit(n,t)});return new El(e.span,e.sourceSpan,r,this._converterFactory.createLiteralArrayConverter(e.expressions.length))},vl.prototype.visitLiteralMap=function(e,t){var n=this,r=e.values.map(function(e){return e.visit(n,t)});return new El(e.span,e.sourceSpan,r,this._converterFactory.createLiteralMapConverter(e.keys))},vl),fl=(ml.prototype.visitBinary=function(e,t){var n;switch(e.operation){case"+":n=ye.Plus;break;case"-":n=ye.Minus;break;case"*":n=ye.Multiply;break;case"/":n=ye.Divide;break;case"%":n=ye.Modulo;break;case"&&":n=ye.And;break;case"||":n=ye.Or;break;case"==":n=ye.Equals;break;case"!=":n=ye.NotEquals;break;case"===":n=ye.Identical;break;case"!==":n=ye.NotIdentical;break;case"<":n=ye.Lower;break;case">":n=ye.Bigger;break;case"<=":n=ye.LowerEquals;break;case">=":n=ye.BiggerEquals;break;default:throw new Error("Unsupported operation "+e.operation)}return cl(t,new Kt(n,this._visit(e.left,il.Expression),this._visit(e.right,il.Expression),void 0,this.convertSourceSpan(e.span)))},ml.prototype.visitChain=function(e,t){return function(){if(t!==il.Statement)throw new Error("Expected a statement, but saw "+e)}(),this.visitAll(e.expressions,t)},ml.prototype.visitConditional=function(e,t){return cl(t,this._visit(e.condition,il.Expression).conditional(this._visit(e.trueExp,il.Expression),this._visit(e.falseExp,il.Expression),this.convertSourceSpan(e.span)))},ml.prototype.visitPipe=function(e,t){throw new Error("Illegal state: Pipes should have been converted into functions. Pipe: "+e.name)},ml.prototype.visitFunctionCall=function(e,t){var n=this.visitAll(e.args,il.Expression);return cl(t,e instanceof El?e.converter(n):this._visit(e.target,il.Expression).callFn(n,this.convertSourceSpan(e.span)))},ml.prototype.visitImplicitReceiver=function(e,t){return ll(t,e),this.usesImplicitReceiver=!0,this._implicitReceiver},ml.prototype.visitInterpolation=function(e,t){ll(t,e);for(var n=[Mr(e.expressions.length)],r=0;r<e.strings.length-1;r++)n.push(Mr(e.strings[r])),n.push(this._visit(e.expressions[r],il.Expression));return n.push(Mr(e.strings[e.strings.length-1])),this.interpolationFunction?this.interpolationFunction(n):e.expressions.length<=9?Sr(vi.inlineInterpolate).callFn(n):Sr(vi.interpolate).callFn([n[0],Tr(n.slice(1),void 0,this.convertSourceSpan(e.span))])},ml.prototype.visitKeyedRead=function(e,t){var n=this.leftMostSafeNode(e);return n?this.convertSafeAccess(e,n,t):cl(t,this._visit(e.obj,il.Expression).key(this._visit(e.key,il.Expression)))},ml.prototype.visitKeyedWrite=function(e,t){var n=this._visit(e.obj,il.Expression),r=this._visit(e.key,il.Expression),e=this._visit(e.value,il.Expression);return cl(t,n.key(r).set(e))},ml.prototype.visitLiteralArray=function(e,t){throw new Error("Illegal State: literal arrays should have been converted into functions")},ml.prototype.visitLiteralMap=function(e,t){throw new Error("Illegal State: literal maps should have been converted into functions")},ml.prototype.visitLiteralPrimitive=function(e,t){var n=null===e.value||void 0===e.value||!0===e.value||!0===e.value?Pe:void 0;return cl(t,Mr(e.value,n,this.convertSourceSpan(e.span)))},ml.prototype._getLocal=function(e){return this._localResolver.getLocal(e)},ml.prototype.visitMethodCall=function(e,t){if(e.receiver instanceof ep&&"$any"==e.name){if(1!=(r=this.visitAll(e.args,il.Expression)).length)throw new Error("Invalid call to $any, expected 1 argument but received "+(r.length||"none"));return r[0].cast(Te,this.convertSourceSpan(e.span))}var n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);var r=this.visitAll(e.args,il.Expression),i=this.usesImplicitReceiver,s=null,o=this._visit(e.receiver,il.Expression);return o===this._implicitReceiver&&((n=this._getLocal(e.name))&&(this.usesImplicitReceiver=i,s=n.callFn(r)),this.addImplicitReceiverAccess(e.name)),cl(t,s=null==s?o.callMethod(e.name,r,this.convertSourceSpan(e.span)):s)},ml.prototype.visitPrefixNot=function(e,t){return cl(t,(e=this._visit(e.expression,il.Expression),new Ut(e,void 0)))},ml.prototype.visitNonNullAssert=function(e,t){return cl(t,(e=this._visit(e.expression,il.Expression),new Ht(e,void 0)))},ml.prototype.visitPropertyRead=function(e,t){var n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);var r=null,i=this.usesImplicitReceiver,n=this._visit(e.receiver,il.Expression);return n===this._implicitReceiver&&((r=this._getLocal(e.name))&&(this.usesImplicitReceiver=i),this.addImplicitReceiverAccess(e.name)),cl(t,r=null==r?n.prop(e.name):r)},ml.prototype.visitPropertyWrite=function(e,t){var n=this._visit(e.receiver,il.Expression),r=this.usesImplicitReceiver,i=null;if(n===this._implicitReceiver){var s=this._getLocal(e.name);if(s){if(!(s instanceof Qt)){var o=e.name,a=e.value instanceof rp?e.value.name:void 0;throw new Error('Cannot assign value "'+a+'" to template variable "'+o+'". Template variables are read-only.')}i=s,this.usesImplicitReceiver=r,this.addImplicitReceiverAccess(e.name)}}return cl(t,(i=null===i?n.prop(e.name):i).set(this._visit(e.value,il.Expression)))},ml.prototype.visitSafePropertyRead=function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)},ml.prototype.visitSafeMethodCall=function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)},ml.prototype.visitAll=function(e,t){var n=this;return e.map(function(e){return n._visit(e,t)})},ml.prototype.visitQuote=function(e,t){throw new Error("Quotes are not supported for evaluation!\n        Statement: "+e.uninterpretedExpression+" located at "+e.location)},ml.prototype._visit=function(e,t){return this._resultMap.get(e)||(this._nodeMap.get(e)||e).visit(this,t)},ml.prototype.convertSafeAccess=function(e,t,n){var r=this._visit(t.receiver,il.Expression),i=void 0;this.needsTemporary(t.receiver)&&(r=(i=this.allocateTemporary()).set(r),this._resultMap.set(t.receiver,i));r=r.isBlank();t instanceof yp?this._nodeMap.set(t,new vp(t.span,t.sourceSpan,t.receiver,t.name,t.args)):this._nodeMap.set(t,new rp(t.span,t.sourceSpan,t.receiver,t.name));e=this._visit(e,il.Expression);return this._nodeMap.delete(t),i&&this.releaseTemporary(i),cl(n,r.conditional(Mr(null),e))},ml.prototype.leftMostSafeNode=function(e){function t(e,t){return(n._nodeMap.get(t)||t).visit(e)}var n=this;return e.visit({visitBinary:function(e){return null},visitChain:function(e){return null},visitConditional:function(e){return null},visitFunctionCall:function(e){return null},visitImplicitReceiver:function(e){return null},visitInterpolation:function(e){return null},visitKeyedRead:function(e){return t(this,e.obj)},visitKeyedWrite:function(e){return null},visitLiteralArray:function(e){return null},visitLiteralMap:function(e){return null},visitLiteralPrimitive:function(e){return null},visitMethodCall:function(e){return t(this,e.receiver)},visitPipe:function(e){return null},visitPrefixNot:function(e){return null},visitNonNullAssert:function(e){return null},visitPropertyRead:function(e){return t(this,e.receiver)},visitPropertyWrite:function(e){return null},visitQuote:function(e){return null},visitSafeMethodCall:function(e){return t(this,e.receiver)||e},visitSafePropertyRead:function(e){return t(this,e.receiver)||e}})},ml.prototype.needsTemporary=function(e){function n(e,t){return t&&(r._nodeMap.get(t)||t).visit(e)}var r=this;return e.visit({visitBinary:function(e){return n(this,e.left)||n(this,e.right)},visitChain:function(e){return!1},visitConditional:function(e){return n(this,e.condition)||n(this,e.trueExp)||n(this,e.falseExp)},visitFunctionCall:function(e){return!0},visitImplicitReceiver:function(e){return!1},visitInterpolation:function(e){return t=this,e.expressions.some(function(e){return n(t,e)});var t},visitKeyedRead:function(e){return!1},visitKeyedWrite:function(e){return!1},visitLiteralArray:function(e){return!0},visitLiteralMap:function(e){return!0},visitLiteralPrimitive:function(e){return!1},visitMethodCall:function(e){return!0},visitPipe:function(e){return!0},visitPrefixNot:function(e){return n(this,e.expression)},visitNonNullAssert:function(e){return n(this,e.expression)},visitPropertyRead:function(e){return!1},visitPropertyWrite:function(e){return!1},visitQuote:function(e){return!1},visitSafeMethodCall:function(e){return!0},visitSafePropertyRead:function(e){return!1}})},ml.prototype.allocateTemporary=function(){var e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new Ge(ul(this.bindingId,e))},ml.prototype.releaseTemporary=function(e){if(this._currentTemporary--,e.name!=ul(this.bindingId,this._currentTemporary))throw new Error("Temporary "+e.name+" released out of order")},ml.prototype.convertSourceSpan=function(e){if(this.baseSourceSpan){var t=this.baseSourceSpan.start.moveBy(e.start),e=this.baseSourceSpan.start.moveBy(e.end);return new ms(t,e)}return null},ml.prototype.addImplicitReceiverAccess=function(e){this.implicitReceiverAccesses&&this.implicitReceiverAccesses.add(e)},ml);function ml(e,t,n,r,i,s){this._localResolver=e,this._implicitReceiver=t,this.bindingId=n,this.interpolationFunction=r,this.baseSourceSpan=i,this.implicitReceiverAccesses=s,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}function vl(e){var t=hl.call(this)||this;return t._converterFactory=e,t}var yl=(gl.prototype.notifyImplicitReceiverUse=function(){},gl.prototype.getLocal=function(e){return e===Jp.event.name?Jp.event:null},gl);function gl(){}var _l,El=(h(Ul,_l=gp),Ul),xl=(jl.prototype.shimCssText=function(e,t,n){void 0===n&&(n="");var r=e.match(Wl)||[];return e=e.replace(Bl,""),e=this._insertDirectives(e),B([this._scopeCssText(e,t,n)],r).join("\n")},jl.prototype._insertDirectives=function(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)},jl.prototype._insertPolyfillDirectivesInCssText=function(e){return e.replace(wl,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e[2]+"{"})},jl.prototype._insertPolyfillRulesInCssText=function(e){return e.replace(Cl,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0].replace(e[1],"").replace(e[2],"");return e[4]+n})},jl.prototype._scopeCssText=function(e,t,n){var r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),(e=(e=t?this._scopeSelectors(e,t,n):e)+"\n"+r).trim()},jl.prototype._extractUnscopedRulesFromCssText=function(e){var t,n="";for(bl.lastIndex=0;null!==(t=bl.exec(e));)n+=t[0].replace(t[2],"").replace(t[1],t[4])+"\n\n";return n},jl.prototype._convertColonHost=function(e){return this._convertColonRule(e,Nl,this._colonHostPartReplacer)},jl.prototype._convertColonHostContext=function(e){return this._convertColonRule(e,Al,this._colonHostContextPartReplacer)},jl.prototype._convertColonRule=function(e,t,o){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e[2]){for(var n=e[2].split(","),r=[],i=0;i<n.length;i++){var s=n[i].trim();if(!s)break;r.push(o(Ml,s,e[3]))}return r.join(",")}return Ml+e[3]})},jl.prototype._colonHostContextPartReplacer=function(e,t,n){return-1<t.indexOf(Tl)?this._colonHostPartReplacer(e,t,n):e+t+n+", "+t+" "+e+n},jl.prototype._colonHostPartReplacer=function(e,t,n){return e+t.replace(Tl,"")+n},jl.prototype._convertShadowDOMSelectors=function(e){return kl.reduce(function(e,t){return e.replace(t," ")},e)},jl.prototype._scopeSelectors=function(a,r,i){var s=this,o=function(e){var t=e.selector,n=e.content;return"@"!=e.selector[0]?t=s._scopeSelector(e.selector,r,i,s.strictStyling):(e.selector.startsWith("@media")||e.selector.startsWith("@supports")||e.selector.startsWith("@page")||e.selector.startsWith("@document"))&&(n=s._scopeSelectors(e.content,r,i)),new Ql(t,n)},u=function(){for(var e=a.split(Kl),t=[],n=[],r=0,i=[],s=0;s<e.length;s++){var o=e[s];"}"==o&&r--,0<r?i.push(o):(0<i.length&&(n.push(i.join("")),t.push("%BLOCK%"),i=[]),t.push(o)),"{"==o&&r++}return 0<i.length&&(n.push(i.join("")),t.push("%BLOCK%")),new Gl(t.join(""),n)}(),p=0;return u.escapedString.replace(zl,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[2],r="",i=e[4],s="";i&&i.startsWith("{%BLOCK%")&&(r=u.blocks[p++],i=i.substring("%BLOCK%".length+1),s="{");r=o(new Ql(n,r));return""+e[1]+r.selector+e[3]+s+r.content+i})},jl.prototype._scopeSelector=function(e,n,r,i){var s=this;return e.split(",").map(function(e){return e.trim().split(Rl)}).map(function(e){var t=T(e),e=t[0],t=t.slice(1);return B([(e=e,s._selectorNeedsScoping(e,n)?i?s._applyStrictSelectorScope(e,n,r):s._applySelectorScope(e,n,r):e)],t).join(" ")}).join(", ")},jl.prototype._selectorNeedsScoping=function(e,t){return!this._makeScopeMatcher(t).test(e)},jl.prototype._makeScopeMatcher=function(e){return e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+e+")"+Ol,"m")},jl.prototype._applySelectorScope=function(e,t,n){return this._applySimpleSelectorScope(e,t,n)},jl.prototype._applySimpleSelectorScope=function(e,t,n){if(Fl.lastIndex=0,Fl.test(e)){var i=this.strictStyling?"["+n+"]":t;return e.replace(Il,function(e,t){return t.replace(/([^:]*)(:*)(.*)/,function(e,t,n,r){return t+i+n+r})}).replace(Fl,i+" ")}return t+" "+e},jl.prototype._applyStrictSelectorScope=function(e,n,r){for(var i=this,s="["+(n=n.replace(/\[is=([^\]]*)\]/g,function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t[0]}))+"]",t=function(e){var t=e.trim();return t?(-1<e.indexOf(Ml)?t=i._applySimpleSelectorScope(e,n,r):0<(e=e.replace(Fl,"")).length&&((e=e.match(/([^:]*)(:*)(.*)/))&&(t=e[1]+s+e[2]+e[3])),t):""},o=new Sl(e),a="",u=0,p=/( |>|\+|~(?!=))\s*/g,l=!(-1<(e=o.content()).indexOf(Ml));null!==(h=p.exec(e));){var c=h[1],h=e.slice(u,h.index).trim();a+=((l=l||-1<h.indexOf(Ml))?t(h):h)+" "+c+" ",u=p.lastIndex}var d=e.substring(u);return a+=(l=l||-1<d.indexOf(Ml))?t(d):d,o.restore(a)},jl.prototype._insertPolyfillHostInCssText=function(e){return e.replace(Dl,Pl).replace(Ll,Tl)},jl),Sl=(Vl.prototype.restore=function(e){var n=this;return e.replace(/__ph-(\d+)__/g,function(e,t){return n.placeholders[+t]})},Vl.prototype.content=function(){return this._content},Vl),wl=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,Cl=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,bl=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Tl="-shadowcsshost",Pl="-shadowcsscontext",ei=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",Nl=new RegExp("("+Tl+ei,"gim"),Al=new RegExp("("+Pl+ei,"gim"),Ml=Tl+"-no-combinator",Il=/-shadowcsshost-no-combinator([^\s]*)/,kl=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Rl=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,Ol="([>\\s~+[.,{:][\\s\\S]*)?$",Fl=/-shadowcsshost/gim,Ll=/:host/gim,Dl=/:host-context/gim,Bl=/\/\*\s*[\s\S]*?\*\//g;function Vl(e){var i=this;this.placeholders=[],this.index=0,e=e.replace(/(\[[^\]]*\])/g,function(e,t){var n="__ph-"+i.index+"__";return i.placeholders.push(t),i.index++,n}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,function(e,t,n){var r="__ph-"+i.index+"__";return i.placeholders.push(n),i.index++,t+r})}function jl(){this.strictStyling=!0}function Ul(e,t,n,r){t=_l.call(this,e,t,null,n)||this;return t.args=n,t.converter=r,t}function Hl(e,t,n){this.name=e,this.moduleUrl=t,this.setValue=n}function ql(e,t,n,r,i){this.outputCtx=e,this.stylesVar=t,this.dependencies=n,this.isShimmed=r,this.meta=i}var Wl=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g,zl=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,Kl=/([{}])/g,Ql=function(e,t){this.selector=e,this.content=t},Gl=function(e,t){this.escapedString=e,this.blocks=t},Xl=($l.prototype.compileComponent=function(e,t){var n=t.template;return this._compileStyles(e,t,new Li({styles:n.styles,styleUrls:n.styleUrls,moduleUrl:Ai(t.type)}),this.needsStyleShim(t),!0)},$l.prototype.compileStyles=function(e,t,n,r){return void 0===r&&(r=this.needsStyleShim(t)),this._compileStyles(e,t,n,r,!1)},$l.prototype.needsStyleShim=function(e){return e.template.encapsulation===S.Emulated},$l.prototype._compileStyles=function(n,e,t,r,i){var s=this,o=t.styles.map(function(e){return Mr(s._shimIfNeeded(e,r))}),a=[];t.styleUrls.forEach(function(e){var t=o.length;o.push(null),a.push(new Hl(Yl(null),e,function(e){return o[t]=n.importExpr(e)}))});e=Yl(i?e:null),i=xr(e).set(Tr(o,new Ce(Te,[he.Const]))).toDeclStmt(null,i?[Tt.Final]:[Tt.Final,Tt.Exported]);return n.statements.push(i),new ql(n,e,a,r,t)},$l.prototype._shimIfNeeded=function(e,t){return t?this._shadowCss.shimCssText(e,"_ngcontent-%COMP%","_nghost-%COMP%"):e},$l);function $l(e){this._urlResolver=e,this._shadowCss=new xl}function Yl(e){var t="styles";return e&&(t+="_"+Ni(e.type)),t}function Jl(e,t){this.sourceSpan=e,this.i18n=t}var Zl,ec,tc,nc,rc=(Object.defineProperty(vc.prototype,"empty",{get:function(){return!this.path||!this.path.length},enumerable:!0,configurable:!0}),Object.defineProperty(vc.prototype,"head",{get:function(){return this.path[0]},enumerable:!0,configurable:!0}),Object.defineProperty(vc.prototype,"tail",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),vc.prototype.parentOf=function(e){return e&&this.path[this.path.indexOf(e)-1]},vc.prototype.childOf=function(e){return this.path[this.path.indexOf(e)+1]},vc.prototype.first=function(e){for(var t=this.path.length-1;0<=t;t--){var n=this.path[t];if(n instanceof e)return n}},vc.prototype.push=function(e){this.path.push(e)},vc.prototype.pop=function(){return this.path.pop()},vc),ic=(h(mc,nc=Jl),mc.prototype.visit=function(e,t){return e.visitText(this,t)},mc),sc=(h(fc,tc=Jl),fc.prototype.visit=function(e,t){return e.visitExpansion(this,t)},fc),oc=(dc.prototype.visit=function(e,t){return e.visitExpansionCase(this,t)},dc),ac=(h(hc,ec=Jl),hc.prototype.visit=function(e,t){return e.visitAttribute(this,t)},hc),uc=(h(cc,Zl=Jl),cc.prototype.visit=function(e,t){return e.visitElement(this,t)},cc),pc=(lc.prototype.visit=function(e,t){return e.visitComment(this,t)},lc);function lc(e,t){this.value=e,this.sourceSpan=t}function cc(e,t,n,r,i,s,o){void 0===i&&(i=null),void 0===s&&(s=null);o=Zl.call(this,r,o)||this;return o.name=e,o.attrs=t,o.children=n,o.startSourceSpan=i,o.endSourceSpan=s,o}function hc(e,t,n,r,i){i=ec.call(this,n,i)||this;return i.name=e,i.value=t,i.valueSpan=r,i}function dc(e,t,n,r,i){this.value=e,this.expression=t,this.sourceSpan=n,this.valueSourceSpan=r,this.expSourceSpan=i}function fc(e,t,n,r,i,s){s=tc.call(this,r,s)||this;return s.switchValue=e,s.type=t,s.cases=n,s.switchValueSourceSpan=i,s}function mc(e,t,n){n=nc.call(this,t,n)||this;return n.value=e,n}function vc(e,t){void 0===t&&(t=-1),this.path=e,this.position=t}function yc(t,e,n){void 0===n&&(n=null);var r=[],i=t.visit?function(e){return t.visit(e,n)||e.visit(t,n)}:function(e){return e.visit(t,n)};return e.forEach(function(e){e=i(e);e&&r.push(e)}),r}var gc,_c=(Ec.prototype.visitElement=function(t,e){this.visitChildren(e,function(e){e(t.attrs),e(t.children)})},Ec.prototype.visitAttribute=function(e,t){},Ec.prototype.visitText=function(e,t){},Ec.prototype.visitComment=function(e,t){},Ec.prototype.visitExpansion=function(t,e){return this.visitChildren(e,function(e){e(t.cases)})},Ec.prototype.visitExpansionCase=function(e,t){},Ec.prototype.visitChildren=function(t,e){var n=[],r=this;return e(function(e){e&&n.push(yc(r,e,t))}),Array.prototype.concat.apply([],n)},Ec);function Ec(){}(ti=gc=gc||{})[ti.TAG_OPEN_START=0]="TAG_OPEN_START",ti[ti.TAG_OPEN_END=1]="TAG_OPEN_END",ti[ti.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",ti[ti.TAG_CLOSE=3]="TAG_CLOSE",ti[ti.TEXT=4]="TEXT",ti[ti.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",ti[ti.RAW_TEXT=6]="RAW_TEXT",ti[ti.COMMENT_START=7]="COMMENT_START",ti[ti.COMMENT_END=8]="COMMENT_END",ti[ti.CDATA_START=9]="CDATA_START",ti[ti.CDATA_END=10]="CDATA_END",ti[ti.ATTR_NAME=11]="ATTR_NAME",ti[ti.ATTR_QUOTE=12]="ATTR_QUOTE",ti[ti.ATTR_VALUE=13]="ATTR_VALUE",ti[ti.DOC_TYPE=14]="DOC_TYPE",ti[ti.EXPANSION_FORM_START=15]="EXPANSION_FORM_START",ti[ti.EXPANSION_CASE_VALUE=16]="EXPANSION_CASE_VALUE",ti[ti.EXPANSION_CASE_EXP_START=17]="EXPANSION_CASE_EXP_START",ti[ti.EXPANSION_CASE_EXP_END=18]="EXPANSION_CASE_EXP_END",ti[ti.EXPANSION_FORM_END=19]="EXPANSION_FORM_END",ti[ti.EOF=20]="EOF";function xc(e,t,n){this.type=e,this.parts=t,this.sourceSpan=n}function Sc(e,t){this.tokens=e,this.errors=t}var wc,Cc=(h(bc,wc=Es),bc);function bc(e,t,n){e=wc.call(this,n,e)||this;return e.tokenType=t,e}var Tc=/\r\n?/g;function Pc(e){return'Unexpected character "'+(0===e?"EOF":String.fromCharCode(e))+'"'}function Nc(e){return'Unknown entity "'+e+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}function Ac(e){this.error=e}var Mc=(Ic.prototype._processCarriageReturns=function(e){return this._preserveLineEndings?e:e.replace(Tc,"\n")},Ic.prototype.tokenize=function(){for(;0!==this._cursor.peek();){var e=this._cursor.clone();try{this._attemptCharCode(60)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(e):this._attemptCharCode(45)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(47)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(e){this.handleError(e)}}return this._beginToken(gc.EOF),this._endToken([]),new Sc(function(e){for(var t=[],n=void 0,r=0;r<e.length;r++){var i=e[r];n&&n.type==gc.TEXT&&i.type==gc.TEXT?(n.parts[0]+=i.parts[0],n.sourceSpan.end=i.sourceSpan.end):t.push(n=i)}return t}(this.tokens),this.errors)},Ic.prototype._tokenizeExpansionForm=function(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if((61===(e=this._cursor.peek())||ps(e)||us(e))&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;var e;if(125===this._cursor.peek()){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1},Ic.prototype._beginToken=function(e,t){void 0===t&&(t=this._cursor.clone()),this._currentTokenStart=t,this._currentTokenType=e},Ic.prototype._endToken=function(e,t){if(null===this._currentTokenStart)throw new Cc("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(t));if(null===this._currentTokenType)throw new Cc("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));e=new xc(this._currentTokenType,e,this._cursor.getSpan(this._currentTokenStart,this._leadingTriviaCodePoints));return this.tokens.push(e),this._currentTokenStart=null,this._currentTokenType=null,e},Ic.prototype._createError=function(e,t){this._isInExpansionForm()&&(e+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');t=new Cc(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new Ac(t)},Ic.prototype.handleError=function(e){if(!((e=e instanceof Hc?this._createError(e.msg,this._cursor.getSpan(e.cursor)):e)instanceof Ac))throw e;this.errors.push(e.error)},Ic.prototype._attemptCharCode=function(e){return this._cursor.peek()===e&&(this._cursor.advance(),!0)},Ic.prototype._attemptCharCodeCaseInsensitive=function(e){return Lc(this._cursor.peek())==Lc(e)&&(this._cursor.advance(),!0)},Ic.prototype._requireCharCode=function(e){var t=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(Pc(this._cursor.peek()),this._cursor.getSpan(t))},Ic.prototype._attemptStr=function(e){var t=e.length;if(this._cursor.charsLeft()<t)return!1;for(var n=this._cursor.clone(),r=0;r<t;r++)if(!this._attemptCharCode(e.charCodeAt(r)))return this._cursor=n,!1;return!0},Ic.prototype._attemptStrCaseInsensitive=function(e){for(var t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0},Ic.prototype._requireStr=function(e){var t=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(Pc(this._cursor.peek()),this._cursor.getSpan(t))},Ic.prototype._attemptCharCodeUntilFn=function(e){for(;!e(this._cursor.peek());)this._cursor.advance()},Ic.prototype._requireCharCodeUntilFn=function(e,t){var n=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(n)<t)throw this._createError(Pc(this._cursor.peek()),this._cursor.getSpan(n))},Ic.prototype._attemptUntilChar=function(e){for(;this._cursor.peek()!==e;)this._cursor.advance()},Ic.prototype._readChar=function(e){if(e&&38===this._cursor.peek())return this._decodeEntity();e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e},Ic.prototype._decodeEntity=function(){var e=this._cursor.clone();if(this._cursor.advance(),!this._attemptCharCode(35)){var t=this._cursor.clone();if(this._attemptCharCodeUntilFn(Fc),59!=this._cursor.peek())return this._cursor=t,"&";var n=this._cursor.getChars(t);this._cursor.advance();var r=g[n];if(!r)throw this._createError(Nc(n),this._cursor.getSpan(e));return r}n=this._attemptCharCode(120)||this._attemptCharCode(88),r=this._cursor.clone();if(this._attemptCharCodeUntilFn(Oc),59!=this._cursor.peek())throw this._createError(Pc(this._cursor.peek()),this._cursor.getSpan());r=this._cursor.getChars(r);this._cursor.advance();try{var i=parseInt(r,n?16:10);return String.fromCharCode(i)}catch(t){throw this._createError(Nc(this._cursor.getChars(e)),this._cursor.getSpan())}},Ic.prototype._consumeRawText=function(e,t){this._beginToken(e?gc.ESCAPABLE_RAW_TEXT:gc.RAW_TEXT);for(var n=[];;){var r=this._cursor.clone(),i=t();if(this._cursor=r,i)break;n.push(this._readChar(e))}return this._endToken([this._processCarriageReturns(n.join(""))])},Ic.prototype._consumeComment=function(e){var t=this;this._beginToken(gc.COMMENT_START,e),this._requireCharCode(45),this._endToken([]),this._consumeRawText(!1,function(){return t._attemptStr("--\x3e")}),this._beginToken(gc.COMMENT_END),this._requireStr("--\x3e"),this._endToken([])},Ic.prototype._consumeCdata=function(e){var t=this;this._beginToken(gc.CDATA_START,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,function(){return t._attemptStr("]]>")}),this._beginToken(gc.CDATA_END),this._requireStr("]]>"),this._endToken([])},Ic.prototype._consumeDocType=function(e){this._beginToken(gc.DOC_TYPE,e);e=this._cursor.clone();this._attemptUntilChar(62);e=this._cursor.getChars(e);this._cursor.advance(),this._endToken([e])},Ic.prototype._consumePrefixAndName=function(){for(var e,t=this._cursor.clone(),n="";58!==this._cursor.peek()&&!(((e=this._cursor.peek())<97||122<e)&&(e<65||90<e)&&(e<48||57<e));)this._cursor.advance();return t=58===this._cursor.peek()?(n=this._cursor.getChars(t),this._cursor.advance(),this._cursor.clone()):t,this._requireCharCodeUntilFn(Rc,""===n?0:1),[n,this._cursor.getChars(t)]},Ic.prototype._consumeTagOpen=function(e){var t,n,r,i=this.tokens.length,s=this._cursor.clone();try{if(!ps(this._cursor.peek()))throw this._createError(Pc(this._cursor.peek()),this._cursor.getSpan(e));for(n=(r=this._consumeTagOpenStart(e)).parts[0],t=r.parts[1],this._attemptCharCodeUntilFn(kc);47!==this._cursor.peek()&&62!==this._cursor.peek();)this._consumeAttributeName(),this._attemptCharCodeUntilFn(kc),this._attemptCharCode(61)&&(this._attemptCharCodeUntilFn(kc),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(kc);this._consumeTagOpenEnd()}catch(t){if(t instanceof Ac)return this._cursor=s,r&&(this.tokens.length=i),this._beginToken(gc.TEXT,e),void this._endToken(["<"]);throw t}e=this._getTagDefinition(t).contentType;e===l.RAW_TEXT?this._consumeRawTextWithTagClose(n,t,!1):e===l.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(n,t,!0)},Ic.prototype._consumeRawTextWithTagClose=function(e,t,n){var r=this;this._consumeRawText(n,function(){return!!r._attemptCharCode(60)&&!!r._attemptCharCode(47)&&(r._attemptCharCodeUntilFn(kc),!!r._attemptStrCaseInsensitive(t)&&(r._attemptCharCodeUntilFn(kc),r._attemptCharCode(62)))}),this._beginToken(gc.TAG_CLOSE),this._requireCharCodeUntilFn(function(e){return 62===e},3),this._cursor.advance(),this._endToken([e,t])},Ic.prototype._consumeTagOpenStart=function(e){this._beginToken(gc.TAG_OPEN_START,e);e=this._consumePrefixAndName();return this._endToken(e)},Ic.prototype._consumeAttributeName=function(){var e=this._cursor.peek();if(39===e||34===e)throw this._createError(Pc(e),this._cursor.getSpan());this._beginToken(gc.ATTR_NAME);e=this._consumePrefixAndName();this._endToken(e)},Ic.prototype._consumeAttributeValue=function(){var e;if(39===this._cursor.peek()||34===this._cursor.peek()){this._beginToken(gc.ATTR_QUOTE);var t=this._cursor.peek();this._cursor.advance(),this._endToken([String.fromCodePoint(t)]),this._beginToken(gc.ATTR_VALUE);for(var n=[];this._cursor.peek()!==t;)n.push(this._readChar(!0));e=n.join(""),this._endToken([this._processCarriageReturns(e)]),this._beginToken(gc.ATTR_QUOTE),this._cursor.advance(),this._endToken([String.fromCodePoint(t)])}else{this._beginToken(gc.ATTR_VALUE);var r=this._cursor.clone();this._requireCharCodeUntilFn(Rc,1),e=this._cursor.getChars(r),this._endToken([this._processCarriageReturns(e)])}},Ic.prototype._consumeTagOpenEnd=function(){var e=this._attemptCharCode(47)?gc.TAG_OPEN_END_VOID:gc.TAG_OPEN_END;this._beginToken(e),this._requireCharCode(62),this._endToken([])},Ic.prototype._consumeTagClose=function(e){this._beginToken(gc.TAG_CLOSE,e),this._attemptCharCodeUntilFn(kc);e=this._consumePrefixAndName();this._attemptCharCodeUntilFn(kc),this._requireCharCode(62),this._endToken(e)},Ic.prototype._consumeExpansionFormStart=function(){this._beginToken(gc.EXPANSION_FORM_START),this._requireCharCode(123),this._endToken([]),this._expansionCaseStack.push(gc.EXPANSION_FORM_START),this._beginToken(gc.RAW_TEXT);var e=this._readUntil(44);this._endToken([e]),this._requireCharCode(44),this._attemptCharCodeUntilFn(kc),this._beginToken(gc.RAW_TEXT);e=this._readUntil(44);this._endToken([e]),this._requireCharCode(44),this._attemptCharCodeUntilFn(kc)},Ic.prototype._consumeExpansionCaseStart=function(){this._beginToken(gc.EXPANSION_CASE_VALUE);var e=this._readUntil(123).trim();this._endToken([e]),this._attemptCharCodeUntilFn(kc),this._beginToken(gc.EXPANSION_CASE_EXP_START),this._requireCharCode(123),this._endToken([]),this._attemptCharCodeUntilFn(kc),this._expansionCaseStack.push(gc.EXPANSION_CASE_EXP_START)},Ic.prototype._consumeExpansionCaseEnd=function(){this._beginToken(gc.EXPANSION_CASE_EXP_END),this._requireCharCode(125),this._endToken([]),this._attemptCharCodeUntilFn(kc),this._expansionCaseStack.pop()},Ic.prototype._consumeExpansionFormEnd=function(){this._beginToken(gc.EXPANSION_FORM_END),this._requireCharCode(125),this._endToken([]),this._expansionCaseStack.pop()},Ic.prototype._consumeText=function(){var e=this._cursor.clone();this._beginToken(gc.TEXT,e);for(var t=[];this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(t.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(t.push(this._interpolationConfig.end),this._inInterpolation=!1):t.push(this._readChar(!0)),!this._isTextEnd(););this._endToken([this._processCarriageReturns(t.join(""))])},Ic.prototype._isTextEnd=function(){if(60===this._cursor.peek()||0===this._cursor.peek())return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(this.isExpansionFormStart())return!0;if(125===this._cursor.peek()&&this._isInExpansionCase())return!0}return!1},Ic.prototype._readUntil=function(e){var t=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(t)},Ic.prototype._isInExpansionCase=function(){return 0<this._expansionCaseStack.length&&this._expansionCaseStack[this._expansionCaseStack.length-1]===gc.EXPANSION_CASE_EXP_START},Ic.prototype._isInExpansionForm=function(){return 0<this._expansionCaseStack.length&&this._expansionCaseStack[this._expansionCaseStack.length-1]===gc.EXPANSION_FORM_START},Ic.prototype.isExpansionFormStart=function(){if(123!==this._cursor.peek())return!1;if(this._interpolationConfig){var e=this._cursor.clone(),t=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!t}return!0},Ic);function Ic(e,t,n){this._getTagDefinition=t,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._tokenizeIcu=n.tokenizeExpansionForms||!1,this._interpolationConfig=n.interpolationConfig||Ka,this._leadingTriviaCodePoints=n.leadingTriviaChars&&n.leadingTriviaChars.map(function(e){return e.codePointAt(0)||0});t=n.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=new(n.escapedString?Uc:jc)(e,t),this._preserveLineEndings=n.preserveLineEndings||!1;try{this._cursor.init()}catch(e){this.handleError(e)}}function kc(e){return!as(e)||0===e}function Rc(e){return as(e)||62===e||47===e||39===e||34===e||61===e}function Oc(e){return 59==e||0==e||!(97<=e&&e<=102||65<=e&&e<=70||us(e))}function Fc(e){return 59==e||0==e||!ps(e)}function Lc(e){return 97<=e&&e<=122?e-97+65:e}function Dc(e,t){this.rootNodes=e,this.errors=t}var Bc,Vc,jc=(Xc.prototype.clone=function(){return new Xc(this)},Xc.prototype.peek=function(){return this.state.peek},Xc.prototype.charsLeft=function(){return this.end-this.state.offset},Xc.prototype.diff=function(e){return this.state.offset-e.state.offset},Xc.prototype.advance=function(){this.advanceState(this.state)},Xc.prototype.init=function(){this.updatePeek(this.state)},Xc.prototype.getSpan=function(e,t){e=e||this;var n=!1;if(t)for(;0<this.diff(e)&&-1!==t.indexOf(e.peek());)n||(e=e.clone(),n=!0),e.advance();return new ms(new fs(e.file,e.state.offset,e.state.line,e.state.column),new fs(this.file,this.state.offset,this.state.line,this.state.column))},Xc.prototype.getChars=function(e){return this.input.substring(e.state.offset,this.state.offset)},Xc.prototype.charAt=function(e){return this.input.charCodeAt(e)},Xc.prototype.advanceState=function(e){if(e.offset>=this.end)throw this.state=e,new Hc('Unexpected character "EOF"',this);var t=this.charAt(e.offset);10===t?(e.line++,e.column=0):ls(t)||e.column++,e.offset++,this.updatePeek(e)},Xc.prototype.updatePeek=function(e){e.peek=e.offset>=this.end?0:this.charAt(e.offset)},Xc),Uc=(h(Gc,Vc=jc),Gc.prototype.advance=function(){this.state=this.internalState,Vc.prototype.advance.call(this),this.processEscapeSequence()},Gc.prototype.init=function(){Vc.prototype.init.call(this),this.processEscapeSequence()},Gc.prototype.clone=function(){return new Gc(this)},Gc.prototype.getChars=function(e){for(var t=e.clone(),n="";t.internalState.offset<this.internalState.offset;)n+=String.fromCodePoint(t.peek()),t.advance();return n},Gc.prototype.processEscapeSequence=function(){function e(){return t.internalState.peek}var t=this;if(92===e())if(this.internalState=d({},this.state),this.advanceState(this.internalState),110===e())this.state.peek=10;else if(114===e())this.state.peek=13;else if(118===e())this.state.peek=11;else if(116===e())this.state.peek=9;else if(98===e())this.state.peek=8;else if(102===e())this.state.peek=12;else if(117===e())if(this.advanceState(this.internalState),123===e()){this.advanceState(this.internalState);for(var n=this.clone(),r=0;125!==e();)this.advanceState(this.internalState),r++;this.state.peek=this.decodeHexDigits(n,r)}else n=this.clone(),this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,4);else if(120===e())this.advanceState(this.internalState),n=this.clone(),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,2);else if(cs(e())){for(var i="",s=0,o=this.clone();cs(e())&&s<3;)o=this.clone(),i+=String.fromCodePoint(e()),this.advanceState(this.internalState),s++;this.state.peek=parseInt(i,8),this.internalState=o.internalState}else ls(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek},Gc.prototype.decodeHexDigits=function(e,t){t=this.input.substr(e.internalState.offset,t),t=parseInt(t,16);if(isNaN(t))throw e.state=e.internalState,new Hc("Invalid hexadecimal escape sequence",e);return t},Gc),Hc=function(e,t){this.msg=e,this.cursor=t},qc=(h(Qc,Bc=Es),Qc.create=function(e,t,n){return new Qc(e,t,n)},Qc),lu=(Kc.prototype.parse=function(e,t,n){var r,r=(r=this.getTagDefinition,n=void 0===n?{}:n,new Mc(new hs(e,t),r,n).tokenize()),n=new Wc(r.tokens,this.getTagDefinition).build();return new Dc(n.rootNodes,r.errors.concat(n.errors))},Kc),Wc=(zc.prototype.build=function(){for(;this._peek.type!==gc.EOF;)this._peek.type===gc.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===gc.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===gc.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===gc.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===gc.TEXT||this._peek.type===gc.RAW_TEXT||this._peek.type===gc.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===gc.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new Dc(this._rootNodes,this._errors)},zc.prototype._advance=function(){var e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e},zc.prototype._advanceIf=function(e){return this._peek.type===e?this._advance():null},zc.prototype._consumeCdata=function(e){this._consumeText(this._advance()),this._advanceIf(gc.CDATA_END)},zc.prototype._consumeComment=function(e){var t=this._advanceIf(gc.RAW_TEXT);this._advanceIf(gc.COMMENT_END);t=null!=t?t.parts[0].trim():null;this._addToParent(new pc(t,e.sourceSpan))},zc.prototype._consumeExpansion=function(e){for(var t=this._advance(),n=this._advance(),r=[];this._peek.type===gc.EXPANSION_CASE_VALUE;){var i=this._parseExpansionCase();if(!i)return;r.push(i)}this._peek.type===gc.EXPANSION_FORM_END?(e=new ms(e.sourceSpan.start,this._peek.sourceSpan.end),this._addToParent(new sc(t.parts[0],n.parts[0],r,e,t.sourceSpan)),this._advance()):this._errors.push(qc.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."))},zc.prototype._parseExpansionCase=function(){var e=this._advance();if(this._peek.type!==gc.EXPANSION_CASE_EXP_START)return this._errors.push(qc.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;var t=this._advance(),n=this._collectExpansionExpTokens(t);if(!n)return null;var r=this._advance();n.push(new xc(gc.EOF,[],r.sourceSpan));var i=new zc(n,this.getTagDefinition).build();if(0<i.errors.length)return this._errors=this._errors.concat(i.errors),null;n=new ms(e.sourceSpan.start,r.sourceSpan.end),r=new ms(t.sourceSpan.start,r.sourceSpan.end);return new oc(e.parts[0],i.rootNodes,n,e.sourceSpan,r)},zc.prototype._collectExpansionExpTokens=function(e){for(var t=[],n=[gc.EXPANSION_CASE_EXP_START];;){if(this._peek.type!==gc.EXPANSION_FORM_START&&this._peek.type!==gc.EXPANSION_CASE_EXP_START||n.push(this._peek.type),this._peek.type===gc.EXPANSION_CASE_EXP_END){if(!$c(n,gc.EXPANSION_CASE_EXP_START))return this._errors.push(qc.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(n.pop(),0==n.length)return t}if(this._peek.type===gc.EXPANSION_FORM_END){if(!$c(n,gc.EXPANSION_FORM_START))return this._errors.push(qc.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.pop()}if(this._peek.type===gc.EOF)return this._errors.push(qc.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}},zc.prototype._consumeText=function(e){var t,n=e.parts[0];0<n.length&&"\n"==n[0]&&(null!=(t=this._getParentElement())&&0==t.children.length&&this.getTagDefinition(t.name).ignoreFirstLf&&(n=n.substring(1))),0<n.length&&this._addToParent(new ic(n,e.sourceSpan))},zc.prototype._closeVoidElement=function(){var e=this._getParentElement();e&&this.getTagDefinition(e.name).isVoid&&this._elementStack.pop()},zc.prototype._consumeStartTag=function(e){for(var t=e.parts[0],n=e.parts[1],r=[];this._peek.type===gc.ATTR_NAME;)r.push(this._consumeAttr(this._advance()));t=this._getElementFullName(t,n,this._getParentElement()),n=!1;this._peek.type===gc.TAG_OPEN_END_VOID?(this._advance(),n=!0,(i=this.getTagDefinition(t)).canSelfClose||null!==f(t)||i.isVoid||this._errors.push(qc.create(t,e.sourceSpan,'Only void and foreign elements can be self closed "'+e.parts[1]+'"'))):this._peek.type===gc.TAG_OPEN_END&&(this._advance(),n=!1);var i=this._peek.sourceSpan.start,e=new ms(e.sourceSpan.start,i),i=new uc(t,r,[],e,e,void 0);this._pushElement(i),n&&(this._popElement(t),i.endSourceSpan=e)},zc.prototype._pushElement=function(e){var t=this._getParentElement();t&&this.getTagDefinition(t.name).isClosedByChild(e.name)&&this._elementStack.pop(),this._addToParent(e),this._elementStack.push(e)},zc.prototype._consumeEndTag=function(e){var t=this._getElementFullName(e.parts[0],e.parts[1],this._getParentElement());this._getParentElement()&&(this._getParentElement().endSourceSpan=e.sourceSpan),this.getTagDefinition(t).isVoid?this._errors.push(qc.create(t,e.sourceSpan,'Void elements do not have end tags "'+e.parts[1]+'"')):this._popElement(t)||this._errors.push(qc.create(t,e.sourceSpan,'Unexpected closing tag "'+t+'". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags'))},zc.prototype._popElement=function(e){for(var t=this._elementStack.length-1;0<=t;t--){var n=this._elementStack[t];if(n.name==e)return this._elementStack.splice(t,this._elementStack.length-t),!0;if(!this.getTagDefinition(n.name).closedByParent)return!1}return!1},zc.prototype._consumeAttr=function(e){var t,n=m(e.parts[0],e.parts[1]),r=e.sourceSpan.end,i="",s=void 0;return this._peek.type===gc.ATTR_QUOTE&&this._advance(),this._peek.type===gc.ATTR_VALUE&&(i=(t=this._advance()).parts[0],r=t.sourceSpan.end,s=t.sourceSpan),this._peek.type===gc.ATTR_QUOTE&&(r=this._advance().sourceSpan.end),new ac(n,i,new ms(e.sourceSpan.start,r),s)},zc.prototype._getParentElement=function(){return 0<this._elementStack.length?this._elementStack[this._elementStack.length-1]:null},zc.prototype._getParentElementSkippingContainers=function(){for(var e=null,t=this._elementStack.length-1;0<=t;t--){if(!N(this._elementStack[t].name))return{parent:this._elementStack[t],container:e};e=this._elementStack[t]}return{parent:null,container:e}},zc.prototype._addToParent=function(e){var t=this._getParentElement();(null!=t?t.children:this._rootNodes).push(e)},zc.prototype._insertBeforeContainer=function(e,t,n){var r;t?(e?(r=e.children.indexOf(t),e.children[r]=n):this._rootNodes.push(n),n.children.push(t),this._elementStack.splice(this._elementStack.indexOf(t),0,n)):(this._addToParent(n),this._elementStack.push(n))},zc.prototype._getElementFullName=function(e,t,n){return m(e=""===e&&""===(e=this.getTagDefinition(t).implicitNamespacePrefix||"")&&null!=n?f(n.name):e,t)},zc);function zc(e,t){this.tokens=e,this.getTagDefinition=t,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}function Kc(e){this.getTagDefinition=e}function Qc(e,t,n){n=Bc.call(this,t,n)||this;return n.elementName=e,n}function Gc(e,t){var n=this;return e instanceof Gc?(n=Vc.call(this,e)||this).internalState=d({},e.internalState):(n=Vc.call(this,e,t)||this).internalState=n.state,n}function Xc(e,t){if(e instanceof Xc){this.file=e.file,this.input=e.input,this.end=e.end;var n=e.state;this.state={peek:n.peek,offset:n.offset,line:n.line,column:n.column}}else{if(!t)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=t.endPos,this.state={peek:-1,offset:t.startPos,line:t.startLine,column:t.startCol}}}function $c(e,t){return 0<e.length&&e[e.length-1]===t}var Yc,Jc=(h(nh,Yc=lu),nh.prototype.parse=function(e,t,n){return Yc.prototype.parse.call(this,e,t,n)},nh),Zc=new Set(["pre","template","textarea","script","style"]),zn=" \f\n\r\t\v ᠎ - \u2028\u2029  　\ufeff",eh=new RegExp("[^"+zn+"]"),th=new RegExp("["+zn+"]{2,}","g");function nh(){return Yc.call(this,x)||this}function rh(e){return e.replace(new RegExp("","g")," ")}var ih=(sh.prototype.visitElement=function(e,t){return Zc.has(e.name)||e.attrs.some(function(e){return"ngPreserveWhitespaces"===e.name})?new uc(e.name,yc(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n):new uc(e.name,e.attrs,(n=this,r=e.children,i=[],r.forEach(function(e,t){t={prev:r[t-1],next:r[t+1]},t=e.visit(n,t);t&&i.push(t)}),i),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);var n,r,i},sh.prototype.visitAttribute=function(e,t){return"ngPreserveWhitespaces"!==e.name?e:null},sh.prototype.visitText=function(e,t){var n=e.value.match(eh),t=t&&(t.prev instanceof sc||t.next instanceof sc);return n||t?new ic(rh(e.value).replace(th," "),e.sourceSpan,e.i18n):null},sh.prototype.visitComment=function(e,t){return e},sh.prototype.visitExpansion=function(e,t){return e},sh.prototype.visitExpansionCase=function(e,t){return e},sh);function sh(){}function oh(e){return new Dc(yc(new ih,e.rootNodes),e.errors)}var ah=["zero","one","two","few","many","other"];function uh(e){var t=new hh;return new ph(yc(t,e),t.isExpanded,t.errors)}function ph(e,t,n){this.nodes=e,this.expanded=t,this.errors=n}var lh,ch=(h(fh,lh=Es),fh),hh=(dh.prototype.visitElement=function(e,t){return new uc(e.name,e.attrs,yc(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan)},dh.prototype.visitAttribute=function(e,t){return e},dh.prototype.visitText=function(e,t){return e},dh.prototype.visitComment=function(e,t){return e},dh.prototype.visitExpansion=function(e,t){return this.isExpanded=!0,"plural"==e.type?(r=e,i=this.errors,s=r.cases.map(function(e){-1!=ah.indexOf(e.value)||e.value.match(/^=\d+$/)||i.push(new ch(e.valueSourceSpan,'Plural cases should be "=<number>" or one of '+ah.join(", ")));var t=uh(e.expression);return i.push.apply(i,B(t.errors)),new uc("ng-template",[new ac("ngPluralCase",""+e.value,e.valueSourceSpan)],t.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),o=new ac("[ngPlural]",r.switchValue,r.switchValueSourceSpan),new uc("ng-container",[o],s,r.sourceSpan,r.sourceSpan,r.sourceSpan)):(s=e,n=this.errors,r=s.cases.map(function(e){var t=uh(e.expression);return n.push.apply(n,B(t.errors)),"other"===e.value?new uc("ng-template",[new ac("ngSwitchDefault","",e.valueSourceSpan)],t.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan):new uc("ng-template",[new ac("ngSwitchCase",""+e.value,e.valueSourceSpan)],t.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),e=new ac("[ngSwitch]",s.switchValue,s.switchValueSourceSpan),new uc("ng-container",[e],r,s.sourceSpan,s.sourceSpan,s.sourceSpan));var n,r,i,s,o},dh.prototype.visitExpansionCase=function(e,t){throw new Error("Should not be reached")},dh);function dh(){this.isExpanded=!1,this.errors=[]}function fh(e,t){return lh.call(this,e,t)||this}var mh,vh=(jh.prototype.visit=function(e,t){return e.visitText(this,t)},jh),yh=(Vh.prototype.visit=function(e,t){return e.visitBoundText(this,t)},Vh),gh=(Bh.prototype.visit=function(e,t){return e.visitAttr(this,t)},Bh),_h=((ro={})[4]=4,ro[1]=1,ro[2]=2,ro[0]=0,ro[3]=3,ro),Eh=(Dh.fromBoundProperty=function(e){var t=_h[e.type];return new Dh(e.name,t,e.securityContext,e.value,e.unit,e.sourceSpan)},Dh.prototype.visit=function(e,t){return e.visitElementProperty(this,t)},Dh),xh=(Lh.calcFullName=function(e,t,n){return t?t+":"+e:n?"@"+e+"."+n:e},Lh.fromParsedEvent=function(e){var t=0===e.type?e.targetOrPhase:null,n=1===e.type?e.targetOrPhase:null;return new Lh(e.name,t,n,e.handler,e.sourceSpan,e.handlerSpan)},Lh.prototype.visit=function(e,t){return e.visitEvent(this,t)},Lh),Sh=(Fh.prototype.visit=function(e,t){return e.visitReference(this,t)},Fh),wh=(Oh.fromParsedVariable=function(e){return new Oh(e.name,e.value,e.sourceSpan)},Oh.prototype.visit=function(e,t){return e.visitVariable(this,t)},Oh),Ch=(Rh.prototype.visit=function(e,t){return e.visitElement(this,t)},Rh),bh=(kh.prototype.visit=function(e,t){return e.visitEmbeddedTemplate(this,t)},kh),Th=(Ih.prototype.visit=function(e,t){return e.visitDirectiveProperty(this,t)},Ih),Ph=(Mh.prototype.visit=function(e,t){return e.visitDirective(this,t)},Mh),Nh=(Ah.prototype.visit=function(e,t){return null},Ah);function Ah(e,t,n,r,i,s,o,a){this.token=e,this.multiProvider=t,this.eager=n,this.providers=r,this.providerType=i,this.lifecycleHooks=s,this.sourceSpan=o,this.isModule=a}function Mh(e,t,n,r,i,s){this.directive=e,this.inputs=t,this.hostProperties=n,this.hostEvents=r,this.contentQueryStartId=i,this.sourceSpan=s}function Ih(e,t,n,r){this.directiveName=e,this.templateName=t,this.value=n,this.sourceSpan=r}function kh(e,t,n,r,i,s,o,a,u,p,l){this.attrs=e,this.outputs=t,this.references=n,this.variables=r,this.directives=i,this.providers=s,this.hasViewContainer=o,this.queryMatches=a,this.children=u,this.ngContentIndex=p,this.sourceSpan=l}function Rh(e,t,n,r,i,s,o,a,u,p,l,c,h){this.name=e,this.attrs=t,this.inputs=n,this.outputs=r,this.references=i,this.directives=s,this.providers=o,this.hasViewContainer=a,this.queryMatches=u,this.children=p,this.ngContentIndex=l,this.sourceSpan=c,this.endSourceSpan=h}function Oh(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}function Fh(e,t,n,r){this.name=e,this.value=t,this.originalValue=n,this.sourceSpan=r}function Lh(e,t,n,r,i,s){this.name=e,this.target=t,this.phase=n,this.handler=r,this.sourceSpan=i,this.handlerSpan=s,this.fullName=Lh.calcFullName(this.name,this.target,this.phase),this.isAnimation=!!this.phase}function Dh(e,t,n,r,i,s){this.name=e,this.type=t,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=s,this.isAnimation=4===this.type}function Bh(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}function Vh(e,t,n){this.value=e,this.ngContentIndex=t,this.sourceSpan=n}function jh(e,t,n){this.value=e,this.ngContentIndex=t,this.sourceSpan=n}(s=mh=mh||{})[s.PublicService=0]="PublicService",s[s.PrivateService=1]="PrivateService",s[s.Component=2]="Component",s[s.Directive=3]="Directive",s[s.Builtin=4]="Builtin";var Uh,Hh=(zh.prototype.visit=function(e,t){return e.visitNgContent(this,t)},zh),ei=(Wh.prototype.visitNgContent=function(e,t){},Wh.prototype.visitEmbeddedTemplate=function(e,t){},Wh.prototype.visitElement=function(e,t){},Wh.prototype.visitReference=function(e,t){},Wh.prototype.visitVariable=function(e,t){},Wh.prototype.visitEvent=function(e,t){},Wh.prototype.visitElementProperty=function(e,t){},Wh.prototype.visitAttr=function(e,t){},Wh.prototype.visitBoundText=function(e,t){},Wh.prototype.visitText=function(e,t){},Wh.prototype.visitDirective=function(e,t){},Wh.prototype.visitDirectiveProperty=function(e,t){},Wh),ti=(h(qh,Uh=ei),qh.prototype.visitEmbeddedTemplate=function(t,e){return this.visitChildren(e,function(e){e(t.attrs),e(t.references),e(t.variables),e(t.directives),e(t.providers),e(t.children)})},qh.prototype.visitElement=function(t,e){return this.visitChildren(e,function(e){e(t.attrs),e(t.inputs),e(t.outputs),e(t.references),e(t.directives),e(t.providers),e(t.children)})},qh.prototype.visitDirective=function(t,e){return this.visitChildren(e,function(e){e(t.inputs),e(t.hostProperties),e(t.hostEvents)})},qh.prototype.visitChildren=function(t,e){var n=[],r=this;return e(function(e){e&&e.length&&n.push(Kh(r,e,t))}),Array.prototype.concat.apply([],n)},qh);function qh(){return Uh.call(this)||this}function Wh(){}function zh(e,t,n){this.index=e,this.ngContentIndex=t,this.sourceSpan=n}function Kh(t,e,n){void 0===n&&(n=null);var r=[],i=t.visit?function(e){return t.visit(e,n)||e.visit(t,n)}:function(e){return e.visit(t,n)};return e.forEach(function(e){e=i(e);e&&r.push(e)}),r}function Qh(e,t){var n,r,i=this;this.reflector=e,this.component=t,this.errors=[],this.viewQueries=(e=t,n=1,r=new Map,e.viewQueries&&e.viewQueries.forEach(function(e){return id(r,{meta:e,queryId:n++})}),r),this.viewProviders=new Map,t.viewProviders.forEach(function(e){null==i.viewProviders.get(Fi(e.token))&&i.viewProviders.set(Fi(e.token),!0)})}var Gh,Xh=(h(ed,Gh=Es),ed),$h=(Zh.prototype.afterElement=function(){var t=this;Array.from(this._allProviders.values()).forEach(function(e){t._getOrCreateLocalProvider(e.providerType,e.token,!1)})},Object.defineProperty(Zh.prototype,"transformProviders",{get:function(){var t=[],n=[];return this._transformedProviders.forEach(function(e){(e.eager?n:t).push(e)}),t.concat(n)},enumerable:!0,configurable:!0}),Object.defineProperty(Zh.prototype,"transformedDirectiveAsts",{get:function(){var n=this.transformProviders.map(function(e){return e.token.identifier}),e=this._directiveAsts.slice();return e.sort(function(e,t){return n.indexOf(e.directive.type)-n.indexOf(t.directive.type)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(Zh.prototype,"queryMatches",{get:function(){var t=[];return this._queriedTokens.forEach(function(e){t.push.apply(t,B(e))}),t},enumerable:!0,configurable:!0}),Zh.prototype._addQueryReadsTo=function(e,i,s){this._getQueriesFor(e).forEach(function(e){var t=e.meta.read||i,n=Fi(t),r=s.get(n);r||s.set(n,r=[]),r.push({queryId:e.queryId,value:t})})},Zh.prototype._getQueriesFor=function(e){for(var t,n=[],r=this,i=0;null!==r;)(t=r._contentQueries.get(Fi(e)))&&n.push.apply(n,B(t.filter(function(e){return e.meta.descendants||i<=1}))),0<r._directiveAsts.length&&i++,r=r._parent;return(t=this.viewContext.viewQueries.get(Fi(e)))&&n.push.apply(n,B(t)),n},Zh.prototype._getOrCreateLocalProvider=function(e,t,s){var o=this,a=this._allProviders.get(Fi(t));if(!a||(e===mh.Directive||e===mh.PublicService)&&a.providerType===mh.PrivateService||(e===mh.PrivateService||e===mh.PublicService)&&a.providerType===mh.Builtin)return null;if(n=this._transformedProviders.get(Fi(t)))return n;if(null!=this._seenProviders.get(Fi(t)))return this.viewContext.errors.push(new Xh("Cannot instantiate cyclic dependency! "+Oi(t),this._sourceSpan)),null;this._seenProviders.set(Fi(t),!0);var e=a.providers.map(function(e){var t,n=e.useValue,r=e.useExisting,i=void 0;return null!=e.useExisting?null!=(t=o._getDependency(a.providerType,{token:e.useExisting},s)).token?r=t.token:(r=null,n=t.value):e.useFactory?i=(e.deps||e.useFactory.diDeps).map(function(e){return o._getDependency(a.providerType,e,s)}):e.useClass&&(i=(e.deps||e.useClass.diDeps).map(function(e){return o._getDependency(a.providerType,e,s)})),td(e,{useExisting:r,useValue:n,deps:i})}),n=nd(a,{eager:s,providers:e});return this._transformedProviders.set(Fi(t),n),n},Zh.prototype._getLocalDependency=function(e,t,n){if(void 0===n&&(n=!1),t.isAttribute){var r=this._attrs[t.token.value];return{isValue:!0,value:null==r?null:r}}if(null!=t.token){if(e===mh.Directive||e===mh.Component){if(Fi(t.token)===this.viewContext.reflector.resolveExternalReference(vi.Renderer)||Fi(t.token)===this.viewContext.reflector.resolveExternalReference(vi.ElementRef)||Fi(t.token)===this.viewContext.reflector.resolveExternalReference(vi.ChangeDetectorRef)||Fi(t.token)===this.viewContext.reflector.resolveExternalReference(vi.TemplateRef))return t;Fi(t.token)===this.viewContext.reflector.resolveExternalReference(vi.ViewContainerRef)&&(this.transformedHasViewContainer=!0)}if(Fi(t.token)===this.viewContext.reflector.resolveExternalReference(vi.Injector))return t;if(null!=this._getOrCreateLocalProvider(e,t.token,n))return t}return null},Zh.prototype._getDependency=function(e,t,n){var r=this,i=n=void 0===n?!1:n,s=null;if(t.isSkipSelf||(s=this._getLocalDependency(e,t,n)),t.isSelf)!s&&t.isOptional&&(s={isValue:!0,value:null});else{for(;!s&&r._parent;){var o=r,r=r._parent;o._isViewRoot&&(i=!1),s=r._getLocalDependency(mh.PublicService,t,i)}s=s||(!t.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===Fi(t.token)||null!=this.viewContext.viewProviders.get(Fi(t.token))?t:t.isOptional?{isValue:!0,value:null}:null)}return s||this.viewContext.errors.push(new Xh("No provider for "+Oi(t.token),this._sourceSpan)),s},Zh),Yh=(Jh.prototype.parse=function(){var t=this;if(Array.from(this._allProviders.values()).forEach(function(e){t._getOrCreateLocalProvider(e.token,e.eager)}),0<this._errors.length){var e=this._errors.join("\n");throw new Error("Provider parse errors:\n"+e)}var n=[],r=[];return this._transformedProviders.forEach(function(e){(e.eager?r:n).push(e)}),n.concat(r)},Jh.prototype._getOrCreateLocalProvider=function(e,s){var o=this,a=this._allProviders.get(Fi(e));if(!a)return null;if(n=this._transformedProviders.get(Fi(e)))return n;if(null!=this._seenProviders.get(Fi(e)))return this._errors.push(new Xh("Cannot instantiate cyclic dependency! "+Oi(e),a.sourceSpan)),null;this._seenProviders.set(Fi(e),!0);var t=a.providers.map(function(e){var t,n=e.useValue,r=e.useExisting,i=void 0;return null!=e.useExisting?null!=(t=o._getDependency({token:e.useExisting},s,a.sourceSpan)).token?r=t.token:(r=null,n=t.value):e.useFactory?i=(e.deps||e.useFactory.diDeps).map(function(e){return o._getDependency(e,s,a.sourceSpan)}):e.useClass&&(i=(e.deps||e.useClass.diDeps).map(function(e){return o._getDependency(e,s,a.sourceSpan)})),td(e,{useExisting:r,useValue:n,deps:i})}),n=nd(a,{eager:s,providers:t});return this._transformedProviders.set(Fi(e),n),n},Jh.prototype._getDependency=function(e,t,n){return void 0===t&&(t=!1),e.isSkipSelf||null==e.token||Fi(e.token)===this.reflector.resolveExternalReference(vi.Injector)||Fi(e.token)===this.reflector.resolveExternalReference(vi.ComponentFactoryResolver)||this._getOrCreateLocalProvider(e.token,t),e},Jh);function Jh(e,t,n,r){var i=this;this.reflector=e,this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,t.transitiveModule.modules.forEach(function(e){rd([{token:{identifier:e},useClass:e}],mh.PublicService,!0,r,i._errors,i._allProviders,!0)}),rd(t.transitiveModule.providers.map(function(e){return e.provider}).concat(n),mh.PublicService,!1,r,this._errors,this._allProviders,!1)}function Zh(e,t,n,r,i,s,o,a,u){var p=this;this.viewContext=e,this._parent=t,this._isViewRoot=n,this._directiveAsts=r,this._sourceSpan=u,this._transformedProviders=new Map,this._seenProviders=new Map,this._queriedTokens=new Map,this.transformedHasViewContainer=!1,this._attrs={},i.forEach(function(e){return p._attrs[e.name]=e.value});var l,c,h,d,f,i=r.map(function(e){return e.directive});this._allProviders=(r=i,l=u,c=e.errors,h=new Map,r.forEach(function(e){rd([{token:{identifier:e.type},useClass:e.type}],e.isComponent?mh.Component:mh.Directive,!0,l,c,h,!1)}),r.filter(function(e){return e.isComponent}).concat(r.filter(function(e){return!e.isComponent})).forEach(function(e){rd(e.providers,mh.PublicService,!1,l,c,h,!1),rd(e.viewProviders,mh.PrivateService,!1,l,c,h,!1)}),h),this._contentQueries=(i=i,d=a,f=new Map,i.forEach(function(e,t){e.queries&&e.queries.forEach(function(e){return id(f,{meta:e,queryId:d++})})}),f),Array.from(this._allProviders.values()).forEach(function(e){p._addQueryReadsTo(e.token,e.token,p._queriedTokens)}),o&&(o=_i(this.viewContext.reflector,vi.TemplateRef),this._addQueryReadsTo(o,o,this._queriedTokens)),s.forEach(function(e){var t=e.value||_i(p.viewContext.reflector,vi.ElementRef);p._addQueryReadsTo({value:e.name},t,p._queriedTokens)}),this._queriedTokens.get(this.viewContext.reflector.resolveExternalReference(vi.ViewContainerRef))&&(this.transformedHasViewContainer=!0),Array.from(this._allProviders.values()).forEach(function(e){(e.eager||p._queriedTokens.get(Fi(e.token)))&&p._getOrCreateLocalProvider(e.providerType,e.token,!0)})}function ed(e,t){return Gh.call(this,t,e)||this}function td(e,t){var n=t.useExisting,r=t.useValue,t=t.deps;return{token:e.token,useClass:e.useClass,useExisting:n,useFactory:e.useFactory,useValue:r,deps:t,multi:e.multi}}function nd(e,t){var n=t.eager,t=t.providers;return new Nh(e.token,e.multiProvider,e.eager||n,t,e.providerType,e.lifecycleHooks,e.sourceSpan,e.isModule)}function rd(e,i,s,o,a,u,p){e.forEach(function(e){var t,n,r=u.get(Fi(e.token));null!=r&&!!r.multiProvider!=!!e.multi&&a.push(new Xh("Mixing multi and non multi provider is not possible for token "+Oi(r.token),o)),r?(e.multi||(r.providers.length=0),r.providers.push(e)):(t=e.token.identifier&&e.token.identifier.lifecycleHooks?e.token.identifier.lifecycleHooks:[],n=!(e.useClass||e.useExisting||e.useFactory),r=new Nh(e.token,!!e.multi,s||n,[e],i,t,o,p),u.set(Fi(e.token),r))})}function id(n,r){r.meta.selectors.forEach(function(e){var t=n.get(Fi(e));t||n.set(Fi(e),t=[]),t.push(r)})}function sd(e,t){this.style=e,this.styleUrls=t}function od(e){if(null==e||0===e.length||"/"==e[0])return!1;e=e.match(cd);return null===e||"package"==e[1]||"asset"==e[1]}var ad,ud,pd=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,ld=/\/\*(?!#\s*(?:sourceURL|sourceMappingURL)=)[\s\S]+?\*\//g,cd=/^([^:/?#]+):/,hd=(Object.defineProperty(md.prototype,"interpolationConfig",{get:function(){return this._interpolationConfig},enumerable:!0,configurable:!0}),md.prototype.getUsedPipes=function(){return Array.from(this._usedPipes.values())},md.prototype.createBoundHostProperties=function(n,r){var i=this;if(n.hostProperties){var s=[];return Object.keys(n.hostProperties).forEach(function(e){var t=n.hostProperties[e];"string"==typeof t?i.parsePropertyBinding(e,t,!0,r,r.start.offset,void 0,[],s):i._reportError('Value of the host property binding "'+e+'" needs to be a string representing an expression but got "'+t+'" ('+typeof t+")",r)}),s}return null},md.prototype.createDirectiveHostPropertyAsts=function(e,t,n){var r=this,n=this.createBoundHostProperties(e,n);return n&&n.map(function(e){return r.createBoundElementProperty(t,e)})},md.prototype.createDirectiveHostEventAsts=function(n,r){var i=this;if(n.hostListeners){var s=[];return Object.keys(n.hostListeners).forEach(function(e){var t=n.hostListeners[e];"string"==typeof t?i.parseEvent(e,t,r,r,[],s):i._reportError('Value of the host listener "'+e+'" needs to be a string representing an expression but got "'+t+'" ('+typeof t+")",r)}),s}return null},md.prototype.parseInterpolation=function(e,t){var n=t.start.toString();try{var r=this._exprParser.parseInterpolation(e,n,t.start.offset,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,t),this._checkPipes(r,t),r}catch(e){return this._reportError(""+e,t),this._exprParser.wrapLiteralPrimitive("ERROR",n,t.start.offset)}},md.prototype.parseInlineTemplateBinding=function(e,t,n,r,i,s,o){for(var a=this._parseTemplateBindings(e,t,n,r),u=0;u<a.length;u++){var p=a[u];p.keyIsVar?o.push(new $p(p.key,p.name,n)):p.expression?this._parsePropertyAst(p.key,p.expression,n,void 0,i,s):(i.push([p.key,""]),this.parseLiteralAttr(p.key,null,n,r,void 0,i,s))}},md.prototype._parseTemplateBindings=function(e,t,n,r){var i=this,s=n.start.toString();try{var o=this._exprParser.parseTemplateBindings(e,t,s,r);return this._reportExpressionParserErrors(o.errors,n),o.templateBindings.forEach(function(e){e.expression&&i._checkPipes(e.expression,n)}),o.warnings.forEach(function(e){i._reportError(e,n,ds.WARNING)}),o.templateBindings}catch(e){return this._reportError(""+e,n),[]}},md.prototype.parseLiteralAttr=function(e,t,n,r,i,s,o){vd(e)?(e=e.substring(1),t&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',n,ds.ERROR),this._parseAnimation(e,t,n,r,i,s,o)):o.push(new Tu(e,this._exprParser.wrapLiteralPrimitive(t,"",r),Pu.LITERAL_ATTR,n,i))},md.prototype.parsePropertyBinding=function(e,t,n,r,i,s,o,a){0===e.length&&this._reportError("Property name is missing in binding",r);var u=!1;e.startsWith("animate-")?(u=!0,e=e.substring("animate-".length)):vd(e)&&(u=!0,e=e.substring(1)),u?this._parseAnimation(e,t,r,i,s,o,a):this._parsePropertyAst(e,this._parseBinding(t,n,s||r,i),r,s,o,a)},md.prototype.parsePropertyInterpolation=function(e,t,n,r,i,s){t=this.parseInterpolation(t,r||n);return!!t&&(this._parsePropertyAst(e,t,n,r,i,s),!0)},md.prototype._parsePropertyAst=function(e,t,n,r,i,s){i.push([e,t.source]),s.push(new Tu(e,t,Pu.DEFAULT,n,r))},md.prototype._parseAnimation=function(e,t,n,r,i,s,o){0===e.length&&this._reportError("Animation trigger is missing",n);r=this._parseBinding(t||"undefined",!1,i||n,r);s.push([e,r.source]),o.push(new Tu(e,r,Pu.ANIMATION,n,i))},md.prototype._parseBinding=function(e,t,n,r){var i=(n&&n.start||"(unknown)").toString();try{var s=t?this._exprParser.parseSimpleBinding(e,i,r,this._interpolationConfig):this._exprParser.parseBinding(e,i,r,this._interpolationConfig);return s&&this._reportExpressionParserErrors(s.errors,n),this._checkPipes(s,n),s}catch(e){return this._reportError(""+e,n),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)}},md.prototype.createBoundElementProperty=function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),t.isAnimation)return new Yp(t.name,4,K.NONE,t.expression,null,t.sourceSpan,t.valueSpan);var i,s=null,o=void 0,a=null,u=t.name.split("."),p=void 0;return 1<u.length&&("attr"==u[0]?(a=u.slice(1).join("."),n||this._validatePropertyOrAttributeName(a,t.sourceSpan,!0),p=yd(this._schemaRegistry,e,a,!0),-1<(i=a.indexOf(":"))&&(a=m(a.substring(0,i),a.substring(i+1))),o=1):"class"==u[0]?(a=u[1],o=2,p=[K.NONE]):"style"==u[0]&&(s=2<u.length?u[2]:null,a=u[1],o=3,p=[K.STYLE])),null===a&&(u=this._schemaRegistry.getMappedPropName(t.name),a=r?u:t.name,p=yd(this._schemaRegistry,e,u,!1),o=0,n||this._validatePropertyOrAttributeName(u,t.sourceSpan,!1)),new Yp(a,o,p[0],t.expression,s,t.sourceSpan,t.valueSpan)},md.prototype.parseEvent=function(e,t,n,r,i,s){0===e.length&&this._reportError("Event name is missing in binding",n),vd(e)?(e=e.substr(1),this._parseAnimationEvent(e,t,n,r,s)):this._parseRegularEvent(e,t,n,r,i,s)},md.prototype.calcPossibleSecurityContexts=function(e,t,n){t=this._schemaRegistry.getMappedPropName(t);return yd(this._schemaRegistry,e,t,n)},md.prototype._parseAnimationEvent=function(e,t,n,r,i){var e=Or(e,".",[e,""]),s=e[0],o=e[1].toLowerCase();if(o)switch(o){case"start":case"done":var a=this._parseAction(t,r);i.push(new Xp(s,o,1,a,n,r));break;default:this._reportError('The provided animation output phase value "'+o+'" for "@'+s+'" is not supported (use start or done)',n)}else this._reportError("The animation trigger output event (@"+s+") is missing its phase value name (start or done are currently supported)",n)},md.prototype._parseRegularEvent=function(e,t,n,r,i,s){var o=T(Rr(e,[null,e]),2),a=o[0],o=o[1],t=this._parseAction(t,r);i.push([e,t.source]),s.push(new Xp(o,a,0,t,n,r))},md.prototype._parseAction=function(e,t){var n=(t&&t.start||"(unknown").toString(),r=t&&t.start?t.start.offset:0;try{var i=this._exprParser.parseAction(e,n,r,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,t),!i||i.ast instanceof Zu?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)):(this._checkPipes(i,t),i)}catch(e){return this._reportError(""+e,t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}},md.prototype._reportError=function(e,t,n){void 0===n&&(n=ds.ERROR),this.errors.push(new Es(t,e,n))},md.prototype._reportExpressionParserErrors=function(e,t){var n,r;try{for(var i=D(e),s=i.next();!s.done;s=i.next()){var o=s.value;this._reportError(o.message,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},md.prototype._checkPipes=function(e,r){var t,i=this;e&&this.pipesByName&&(t=new dd,e.visit(t),t.pipes.forEach(function(e,t){var n=i.pipesByName.get(t);n?i._usedPipes.set(t,n):i._reportError("The pipe '"+t+"' could not be found",new ms(r.start.moveBy(e.span.start),r.start.moveBy(e.span.end)))}))},md.prototype._validatePropertyOrAttributeName=function(e,t,n){e=n?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);e.error&&this._reportError(e.msg,t,ds.ERROR)},md),dd=(h(fd,ad=es),fd.prototype.visitPipe=function(e,t){return this.pipes.set(e.name,e),e.exp.visit(this),this.visitAll(e.args,t),null},fd);function fd(){var e=null!==ad&&ad.apply(this,arguments)||this;return e.pipes=new Map,e}function md(e,t,n,r,i){var s;this._exprParser=e,this._interpolationConfig=t,this._schemaRegistry=n,this.errors=i,this.pipesByName=null,this._usedPipes=new Map,r&&(s=new Map,r.forEach(function(e){return s.set(e.name,e)}),this.pipesByName=s)}function vd(e){return"@"==e[0]}function yd(r,e,i,s){var o=[];return b.parse(e).forEach(function(e){var t=e.element?[e.element]:r.allKnownElementNames(),n=new Set(e.notSelectors.filter(function(e){return e.isElementSelector()}).map(function(e){return e.element})),t=t.filter(function(e){return!n.has(e)});o.push.apply(o,B(t.map(function(e){return r.securityContext(e,i,s)})))}),0===o.length?[K.NONE]:Array.from(new Set(o)).sort()}function gd(e){var n=null,r=null,i=null,s=!1,o="";e.attrs.forEach(function(e){var t=e.name.toLowerCase();"select"==t?n=e.value:"href"==t?r=e.value:"rel"==t?i=e.value:"ngNonBindable"==e.name?s=!0:"ngProjectAs"==e.name&&0<e.value.length&&(o=e.value)});var n=null===(t=n)||0===t.length?"*":t,t=e.name.toLowerCase(),e=ud.OTHER;return c(t)?e=ud.NG_CONTENT:"style"==t?e=ud.STYLE:"script"==t?e=ud.SCRIPT:"link"==t&&"stylesheet"==i&&(e=ud.STYLESHEET),new _d(e,n,r,s,o)}(zn=ud=ud||{})[zn.NG_CONTENT=0]="NG_CONTENT",zn[zn.STYLE=1]="STYLE",zn[zn.STYLESHEET=2]="STYLESHEET",zn[zn.SCRIPT=3]="SCRIPT",zn[zn.OTHER=4]="OTHER";function _d(e,t,n,r,i){this.type=e,this.selectAttr=t,this.hrefAttr=n,this.nonBindable=r,this.projectAs=i}var Ed,xd=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/;function Sd(){return Ed=Ed||b.parse("*")[0]}function wd(e,t,n){this.templateAst=e,this.usedPipes=t,this.errors=n}var Cd,bd=(h(Rd,Cd=Es),Rd),Td=(Object.defineProperty(kd.prototype,"expressionParser",{get:function(){return this._exprParser},enumerable:!0,configurable:!0}),kd.prototype.parse=function(e,t,n,r,i,s,o){i=this.tryParse(e,t,n,r,i,s,o),s=i.errors.filter(function(e){return e.level===ds.WARNING}),o=i.errors.filter(function(e){return e.level===ds.ERROR});if(0<s.length&&this._console.warn("Template parse warnings:\n"+s.join("\n")),0<o.length)throw Wr("Template parse errors:\n"+o.join("\n"),o);return{template:i.templateAst,pipes:i.usedPipes}},kd.prototype.tryParse=function(e,t,n,r,i,s,o){t="string"==typeof t?this._htmlParser.parse(t,s,{tokenizeExpansionForms:!0,interpolationConfig:this.getInterpolationConfig(e)}):t;return o||(t=oh(t)),this.tryParseHtml(this.expandHtml(t),e,n,r,i)},kd.prototype.tryParseHtml=function(e,t,n,r,i){var s,o,a,u=e.errors,p=[];return 0<e.rootNodes.length?(s=Ud(n),o=Ud(r),n=new Qh(this._reflector,t),r=void 0,t.template&&t.template.interpolation&&(r={start:t.template.interpolation[0],end:t.template.interpolation[1]}),o=new hd(this._exprParser,r,this._schemaRegistry,o,u),a=yc(new Pd(this._reflector,this._config,n,s,o,this._schemaRegistry,i,u),e.rootNodes,Bd),u.push.apply(u,B(n.errors)),p.push.apply(p,B(o.getUsedPipes()))):a=[],this._assertNoReferenceDuplicationOnTemplate(a,u),0<u.length||this.transforms&&this.transforms.forEach(function(e){a=Kh(e,a)}),new wd(a,p,u)},kd.prototype.expandHtml=function(e,t){void 0===t&&(t=!1);var n=e.errors;return 0!=n.length&&!t||(t=uh(e.rootNodes),n.push.apply(n,B(t.errors)),e=new Dc(t.nodes,n)),e},kd.prototype.getInterpolationConfig=function(e){if(e.template)return za.fromArray(e.template.interpolation)},kd.prototype._assertNoReferenceDuplicationOnTemplate=function(e,n){var r=[];e.filter(function(e){return!!e.references}).forEach(function(e){return e.references.forEach(function(e){var t=e.name;r.indexOf(t)<0?r.push(t):(e=new bd('Reference "#'+t+'" is defined several times',e.sourceSpan,ds.ERROR),n.push(e))})})},kd),Pd=(Id.prototype.visitExpansion=function(e,t){return null},Id.prototype.visitExpansionCase=function(e,t){return null},Id.prototype.visitText=function(e,t){var n=t.findNgContentIndex(Sd()),r=rh(e.value),t=this._bindingParser.parseInterpolation(r,e.sourceSpan);return t?new yh(t,n,e.sourceSpan):new vh(r,n,e.sourceSpan)},Id.prototype.visitAttribute=function(e,t){return new gh(e.name,e.value,e.sourceSpan)},Id.prototype.visitComment=function(e,t){return null},Id.prototype.visitElement=function(e,t){var o=this,n=this.contentQueryStartId,r=e.name,i=gd(e);if(i.type===ud.SCRIPT||i.type===ud.STYLE)return null;if(i.type===ud.STYLESHEET&&od(i.hrefAttr))return null;var a=[],u=[],p=[],l=[],c=[],h=[],d=[],f=[],m=!1,v=[],y=M(e.name);e.attrs.forEach(function(e){var t,n,r=o._parseAttr(y,e,a,u,c,p,l);l.push.apply(l,B([].map(function(e){return wh.fromParsedVariable(e)})));var i=o._normalizeAttributeName(e.name);i.startsWith("*")&&(t=e.value,n=i.substring("*".length));var s=null!=t;s&&(m&&o._reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",e.sourceSpan),m=!0,i=(e.valueSpan||e.sourceSpan).start.offset,o._bindingParser.parseInlineTemplateBinding(n,t,e.sourceSpan,i,d,h,i=[]),f.push.apply(f,B(i.map(function(e){return wh.fromParsedVariable(e)})))),r||s||(v.push(o.visitAttribute(e,null)),a.push([e.name,e.value]))});var s=Dd(r,a),g=this._parseDirectives(this.selectorMatcher,s),_=g.directives,E=g.matchElement,x=[],S=new Set,w=this._createDirectiveAsts(y,e.name,_,u,p,e.sourceSpan,x,S),g=this._createElementPropertyAsts(e.name,u,S),_=t.isTemplateElement||m,S=new $h(this.providerViewContext,t.providerContext,_,w,v,x,y,n,e.sourceSpan),_=yc(i.nonBindable?Vd:this,e.children,Fd.create(y,w,y?t.providerContext:S));S.afterElement();var C,n=""!=i.projectAs?b.parse(i.projectAs)[0]:s,s=t.findNgContentIndex(n);return x=i.type===ud.NG_CONTENT?(e.children&&!e.children.every(jd)&&this._reportError("<ng-content> element cannot have content.",e.sourceSpan),new Hh(this.ngContentCount++,m?null:s,e.sourceSpan)):y?(this._assertAllEventsPublishedByDirectives(w,c),this._assertNoComponentsNorElementBindingsOnTemplate(w,g,e.sourceSpan),new bh(v,c,x,l,S.transformedDirectiveAsts,S.transformProviders,S.transformedHasViewContainer,S.queryMatches,_,m?null:s,e.sourceSpan)):(this._assertElementExists(E,e),this._assertOnlyOneComponent(w,e.sourceSpan),C=m?null:t.findNgContentIndex(n),new Ch(r,v,g,c,x,S.transformedDirectiveAsts,S.transformProviders,S.transformedHasViewContainer,S.queryMatches,_,m?null:C,e.sourceSpan,e.endSourceSpan||null)),m&&(S=this.contentQueryStartId,_=Dd("ng-template",d),C=this._parseDirectives(this.selectorMatcher,_).directives,_=new Set,C=this._createDirectiveAsts(!0,r,C,h,[],e.sourceSpan,[],_),_=this._createElementPropertyAsts(r,h,_),this._assertNoComponentsNorElementBindingsOnTemplate(C,_,e.sourceSpan),(S=new $h(this.providerViewContext,t.providerContext,t.isTemplateElement,C,[],[],!0,S,e.sourceSpan)).afterElement(),x=new bh([],[],[],f,S.transformedDirectiveAsts,S.transformProviders,S.transformedHasViewContainer,S.queryMatches,[x],s,e.sourceSpan)),x},Id.prototype._parseAttr=function(e,t,n,r,i,s,o){var a,u=this._normalizeAttributeName(t.name),p=t.value,l=t.sourceSpan,c=(t.valueSpan||l).start.offset,h=[],d=u.match(xd),f=!1;return null!==d?(f=!0,null!=d[1]?this._bindingParser.parsePropertyBinding(d[7],p,!1,l,c,t.valueSpan,n,r):d[2]?e?(a=d[7],this._parseVariable(a,p,l,o)):this._reportError('"let-" is only supported on ng-template elements.',l):d[3]?(a=d[7],this._parseReference(a,p,l,s)):d[4]?this._bindingParser.parseEvent(d[7],p,l,t.valueSpan||l,n,h):d[5]?(this._bindingParser.parsePropertyBinding(d[7],p,!1,l,c,t.valueSpan,n,r),this._parseAssignmentEvent(d[7],p,l,t.valueSpan||l,n,h)):d[6]?this._bindingParser.parseLiteralAttr(u,p,l,c,t.valueSpan,n,r):d[8]?(this._bindingParser.parsePropertyBinding(d[8],p,!1,l,c,t.valueSpan,n,r),this._parseAssignmentEvent(d[8],p,l,t.valueSpan||l,n,h)):d[9]?this._bindingParser.parsePropertyBinding(d[9],p,!1,l,c,t.valueSpan,n,r):d[10]&&this._bindingParser.parseEvent(d[10],p,l,t.valueSpan||l,n,h)):f=this._bindingParser.parsePropertyInterpolation(u,p,l,t.valueSpan,n,r),f||this._bindingParser.parseLiteralAttr(u,p,l,c,t.valueSpan,n,r),i.push.apply(i,B(h.map(function(e){return xh.fromParsedEvent(e)}))),f},Id.prototype._normalizeAttributeName=function(e){return/^data-/i.test(e)?e.substring(5):e},Id.prototype._parseVariable=function(e,t,n,r){-1<e.indexOf("-")?this._reportError('"-" is not allowed in variable names',n):0===e.length&&this._reportError("Variable does not have a name",n),r.push(new wh(e,t,n))},Id.prototype._parseReference=function(e,t,n,r){-1<e.indexOf("-")?this._reportError('"-" is not allowed in reference names',n):0===e.length&&this._reportError("Reference does not have a name",n),r.push(new Nd(e,t,n))},Id.prototype._parseAssignmentEvent=function(e,t,n,r,i,s){this._bindingParser.parseEvent(e+"Change",t+"=$event",n,r,i,s)},Id.prototype._parseDirectives=function(e,t){var n=this,r=ri(this.directivesIndex.size),i=!1;return e.match(t,function(e,t){r[n.directivesIndex.get(t)]=t,i=i||e.hasElementSelector()}),{directives:r.filter(function(e){return!!e}),matchElement:i}},Id.prototype._createDirectiveAsts=function(n,o,e,a,u,p,l,c){var h=this,d=new Set,f=null,e=e.map(function(t){var e=new ms(p.start,p.end,"Directive "+Ni(t.type));t.isComponent&&(f=t);var n=[],r=h._bindingParser.createDirectiveHostPropertyAsts(t,o,e).map(function(e){return Eh.fromBoundProperty(e)}),r=h._checkPropertiesInSchema(o,r),i=h._bindingParser.createDirectiveHostEventAsts(t,e);h._createDirectivePropertyAsts(t.inputs,a,n,c),u.forEach(function(e){(0===e.value.length&&t.isComponent||e.isReferenceToDirective(t))&&(l.push(new Sh(e.name,gi(t.type.reference),e.value,e.sourceSpan)),d.add(e.name))});var s=i.map(function(e){return xh.fromParsedEvent(e)}),i=h.contentQueryStartId;return h.contentQueryStartId+=t.queries.length,new Ph(t,n,r,s,i,e)});return u.forEach(function(e){var t;0<e.value.length?d.has(e.name)||h._reportError('There is no directive with "exportAs" set to "'+e.value+'"',e.sourceSpan):f||(t=null,n&&(t=_i(h.reflector,vi.TemplateRef)),l.push(new Sh(e.name,t,e.value,e.sourceSpan)))}),e},Id.prototype._createDirectivePropertyAsts=function(n,e,r,i){var s;n&&(s=new Map,e.forEach(function(e){var t=s.get(e.name);t&&!t.isLiteral||s.set(e.name,e)}),Object.keys(n).forEach(function(e){var t=n[e],t=s.get(t);t&&(i.add(t.name),Hd(t.expression)||r.push(new Th(e,t.name,t.expression,t.sourceSpan)))}))},Id.prototype._createElementPropertyAsts=function(t,e,n){var r=this,i=[];return e.forEach(function(e){e.isLiteral||n.has(e.name)||(e=r._bindingParser.createBoundElementProperty(t,e),i.push(Eh.fromBoundProperty(e)))}),this._checkPropertiesInSchema(t,i)},Id.prototype._findComponentDirectives=function(e){return e.filter(function(e){return e.directive.isComponent})},Id.prototype._findComponentDirectiveNames=function(e){return this._findComponentDirectives(e).map(function(e){return Ni(e.directive.type)})},Id.prototype._assertOnlyOneComponent=function(e,t){e=this._findComponentDirectiveNames(e);1<e.length&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\nConflicting components: "+e.join(","),t)},Id.prototype._assertElementExists=function(e,t){var n=t.name.replace(/^:xhtml:/,"");e||this._schemaRegistry.hasElement(n,this._schemas)||(e="'"+n+"' is not a known element:\n",e+="1. If '"+n+"' is an Angular component, then verify that it is part of this module.\n",-1<n.indexOf("-")?e+="2. If '"+n+"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.":e+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",this._reportError(e,t.sourceSpan))},Id.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(e,t,n){var r=this,e=this._findComponentDirectiveNames(e);0<e.length&&this._reportError("Components on an embedded template: "+e.join(","),n),t.forEach(function(e){r._reportError("Property binding "+e.name+' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".',n)})},Id.prototype._assertAllEventsPublishedByDirectives=function(e,t){var n=this,r=new Set;e.forEach(function(t){Object.keys(t.directive.outputs).forEach(function(e){e=t.directive.outputs[e];r.add(e)})}),t.forEach(function(e){null==e.target&&r.has(e.name)||n._reportError("Event binding "+e.fullName+' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".',e.sourceSpan)})},Id.prototype._checkPropertiesInSchema=function(n,e){var r=this;return e.filter(function(e){var t;return 0!==e.type||r._schemaRegistry.hasProperty(n,e.name,r._schemas)||(t="Can't bind to '"+e.name+"' since it isn't a known property of '"+n+"'.",n.startsWith("ng-")?t+="\n1. If '"+e.name+"' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.":-1<n.indexOf("-")&&(t+="\n1. If '"+n+"' is an Angular component and it has '"+e.name+"' input, then verify that it is part of this module.\n2. If '"+n+"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component."),r._reportError(t,e.sourceSpan)),!Hd(e.value)})},Id.prototype._reportError=function(e,t,n){void 0===n&&(n=ds.ERROR),this._targetErrors.push(new Es(t,e,n))},Id),ro=(Md.prototype.visitElement=function(e,t){var n=gd(e);if(n.type===ud.SCRIPT||n.type===ud.STYLE||n.type===ud.STYLESHEET)return null;n=e.attrs.map(function(e){return[e.name,e.value]}),n=Dd(e.name,n),t=t.findNgContentIndex(n),n=yc(this,e.children,Bd);return new Ch(e.name,yc(this,e.attrs),[],[],[],[],[],!1,[],n,t,e.sourceSpan,e.endSourceSpan)},Md.prototype.visitComment=function(e,t){return null},Md.prototype.visitAttribute=function(e,t){return new gh(e.name,e.value,e.sourceSpan)},Md.prototype.visitText=function(e,t){t=t.findNgContentIndex(Sd());return new vh(e.value,t,e.sourceSpan)},Md.prototype.visitExpansion=function(e,t){return e},Md.prototype.visitExpansionCase=function(e,t){return e},Md),Nd=(Ad.prototype.isReferenceToDirective=function(e){return-1!==((e=e.exportAs)?e.split(",").map(function(e){return e.trim()}):[]).indexOf(this.value)},Ad);function Ad(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}function Md(){}function Id(e,t,n,r,i,s,o,a){var u=this;this.reflector=e,this.config=t,this.providerViewContext=n,this._bindingParser=i,this._schemaRegistry=s,this._schemas=o,this._targetErrors=a,this.selectorMatcher=new A,this.directivesIndex=new Map,this.ngContentCount=0,this.contentQueryStartId=n.component.viewQueries.length+1,r.forEach(function(e,t){var n=b.parse(e.selector);u.selectorMatcher.addSelectables(n,e),u.directivesIndex.set(e,t)})}function kd(e,t,n,r,i,s,o){this._config=e,this._reflector=t,this._exprParser=n,this._schemaRegistry=r,this._htmlParser=i,this._console=s,this.transforms=o}function Rd(e,t,n){return Cd.call(this,t,e,n)||this}function Od(e){return e.trim().split(/\s+/g)}var Fd=(Ld.create=function(e,t,n){var r=new A,i=null,t=t.find(function(e){return e.directive.isComponent});if(t)for(var s=t.directive.template.ngContentSelectors,o=0;o<s.length;o++)"*"===s[o]?i=o:r.addSelectables(b.parse(s[o]),o);return new Ld(e,r,i,n)},Ld.prototype.findNgContentIndex=function(e){var n=[];return this._ngContentIndexMatcher.match(e,function(e,t){n.push(t)}),n.sort(),null!=this._wildcardNgContentIndex&&n.push(this._wildcardNgContentIndex),0<n.length?n[0]:null},Ld);function Ld(e,t,n,r){this.isTemplateElement=e,this._ngContentIndexMatcher=t,this._wildcardNgContentIndex=n,this.providerContext=r}function Dd(e,t){var n=new b,e=P(e)[1];n.setElement(e);for(var r=0;r<t.length;r++){var i=t[r][0],s=P(i)[1],o=t[r][1];n.addAttribute(s,o),"class"==i.toLowerCase()&&Od(o).forEach(function(e){return n.addClassName(e)})}return n}var Bd=new Fd(!0,new A,null,null),Vd=new ro;function jd(e){return e instanceof ic&&0==e.value.trim().length}function Ud(e){var t=new Map;return e.forEach(function(e){t.get(e.type.reference)||t.set(e.type.reference,e)}),Array.from(t.values())}function Hd(e){return(e=e instanceof Ep?e.ast:e)instanceof Zu}function qd(e){var t=e.charCodeAt(0);return t!=e.charCodeAt(e.length-1)||39!=t&&34!=t||-1==(t=e.substring(1,e.length-1)).indexOf("'")&&-1==t.indexOf('"')&&(e=t),e}function Wd(e){return e.replace(/[a-z][A-Z]/g,function(e){return e.charAt(0)+"-"+e.charAt(1)}).toLowerCase()}var zd,Kd=(Qd.prototype.registerBoundInput=function(e){var t=null,n=e.name;switch(e.type){case 0:t=this.registerInputBasedOnName(n,e.value,e.sourceSpan);break;case 3:t=this.registerStyleInput(n,!1,e.value,e.sourceSpan,e.unit);break;case 2:t=this.registerClassInput(n,!1,e.value,e.sourceSpan)}return!!t},Qd.prototype.registerInputBasedOnName=function(e,t,n){var r=null,i=e.substring(0,6),s="style"===e||"style."===i||"style!"===i;return!s&&(s||"class"!==e&&"class."!==i&&"class!"!==i)||(i="."!==e.charAt(5),e=e.substr(i?5:6),r=s?this.registerStyleInput(e,i,t,n):this.registerClassInput(e,i,t,n)),r},Qd.prototype.registerStyleInput=function(e,t,n,r,i){if(Hd(n))return null;var s=Xd(e=Wd(e)),o=s.property,a=s.hasOverrideFlag,e=s.unit,a={name:o,sanitize:!o||("background-image"===(s=o)||"backgroundImage"===s||"background"===s||"border-image"===s||"borderImage"===s||"border-image-source"===s||"borderImageSource"===s||"filter"===s||"list-style"===s||"listStyle"===s||"list-style-image"===s||"listStyleImage"===s||"clip-path"===s||"clipPath"===s),unit:i||e,value:n,sourceSpan:r,hasOverrideFlag:a};return t?this._styleMapInput=a:((this._singleStyleInputs=this._singleStyleInputs||[]).push(a),Gd(this._stylesIndex,o)),this._lastStylingInput=a,this._firstStylingInput=this._firstStylingInput||a,this._checkForPipes(n),this.hasBindings=!0,a},Qd.prototype.registerClassInput=function(e,t,n,r){if(Hd(n))return null;var i=Xd(e),e=i.property,i={name:e,value:n,sourceSpan:r,sanitize:!1,hasOverrideFlag:i.hasOverrideFlag,unit:null};if(t){if(this._classMapInput)throw new Error("[class] and [className] bindings cannot be used on the same element simultaneously");this._classMapInput=i}else(this._singleClassInputs=this._singleClassInputs||[]).push(i),Gd(this._classesIndex,e);return this._lastStylingInput=i,this._firstStylingInput=this._firstStylingInput||i,this._checkForPipes(n),this.hasBindings=!0,i},Qd.prototype._checkForPipes=function(e){e instanceof Ep&&e.ast instanceof up&&(this.hasBindingsWithPipes=!0)},Qd.prototype.registerStyleAttr=function(e){this._initialStyleValues=function(e){for(var t,n=[],r=0,i=0,s=0,o=0,a=0,u=null,p=!1;r<e.length;)switch(e.charCodeAt(r++)){case 40:i++;break;case 41:i--;break;case 39:p=p||0<o,0===s?s=39:39===s&&92!==e.charCodeAt(r-1)&&(s=0);break;case 34:p=p||0<o,0===s?s=34:34===s&&92!==e.charCodeAt(r-1)&&(s=0);break;case 58:u||0!==i||0!==s||(u=Wd(e.substring(a,r-1).trim()),o=r);break;case 59:u&&0<o&&0===i&&0===s&&(t=e.substring(o,r-1).trim(),n.push(u,p?qd(t):t),a=r,o=0,u=null,p=!1)}return u&&o&&(t=e.substr(o).trim(),n.push(u,p?qd(t):t)),n}(e),this._hasInitialValues=!0},Qd.prototype.registerClassAttr=function(e){this._initialClassValues=e.trim().split(/\s+/g),this._hasInitialValues=!0},Qd.prototype.populateInitialStylingAttrs=function(e){if(this._initialClassValues.length){e.push(Mr(1));for(var t=0;t<this._initialClassValues.length;t++)e.push(Mr(this._initialClassValues[t]))}if(this._initialStyleValues.length)for(e.push(Mr(2)),t=0;t<this._initialStyleValues.length;t+=2)e.push(Mr(this._initialStyleValues[t]),Mr(this._initialStyleValues[t+1]))},Qd.prototype.assignHostAttrs=function(e,t){this._directiveExpr&&(e.length||this._hasInitialValues)&&(this.populateInitialStylingAttrs(e),t.set("hostAttrs",Tr(e)))},Qd.prototype.buildClassMapInstruction=function(e){return this._classMapInput?this._buildMapBasedInstruction(e,!0,this._classMapInput):null},Qd.prototype.buildStyleMapInstruction=function(e){return this._styleMapInput?this._buildMapBasedInstruction(e,!1,this._styleMapInput):null},Qd.prototype._buildMapBasedInstruction=function(e,t,n){var r=2,i=n.value.visit(e),t=i instanceof hp?(r+=i.expressions.length,(t?function(){switch(La(i)){case 1:return ts.classMap;case 3:return ts.classMapInterpolate1;case 5:return ts.classMapInterpolate2;case 7:return ts.classMapInterpolate3;case 9:return ts.classMapInterpolate4;case 11:return ts.classMapInterpolate5;case 13:return ts.classMapInterpolate6;case 15:return ts.classMapInterpolate7;case 17:return ts.classMapInterpolate8;default:return ts.classMapInterpolateV}}:function(){switch(La(i)){case 1:return ts.styleMap;case 3:return ts.styleMapInterpolate1;case 5:return ts.styleMapInterpolate2;case 7:return ts.styleMapInterpolate3;case 9:return ts.styleMapInterpolate4;case 11:return ts.styleMapInterpolate5;case 13:return ts.styleMapInterpolate6;case 15:return ts.styleMapInterpolate7;case 17:return ts.styleMapInterpolate8;default:return ts.styleMapInterpolateV}})()):t?ts.classMap:ts.styleMap;return{reference:t,calls:[{supportsInterpolation:!0,sourceSpan:n.sourceSpan,allocateBindingSlots:r,params:function(e){e=e(i);return Array.isArray(e)?e:[e]}}]}},Qd.prototype._buildSingleInputs=function(s,e,o,a,u){var p=[];return e.forEach(function(n){var e=p[p.length-1],r=n.value.visit(o),t=s,i=2;r instanceof hp&&(i+=r.expressions.length,a&&(t=a(r)));i={sourceSpan:n.sourceSpan,allocateBindingSlots:i,supportsInterpolation:!!a,params:function(e){var t=[];t.push(Mr(n.name));e=e(r);return Array.isArray(e)?t.push.apply(t,B(e)):t.push(e),u||(n.unit?t.push(Mr(n.unit)):n.sanitize&&t.push(Sr(ts.defaultStyleSanitizer))),t}};e&&e.reference===t?e.calls.push(i):p.push({reference:t,calls:[i]})}),p},Qd.prototype._buildClassInputs=function(e){return this._singleClassInputs?this._buildSingleInputs(ts.classProp,this._singleClassInputs,e,null,!0):[]},Qd.prototype._buildStyleInputs=function(e){return this._singleStyleInputs?this._buildSingleInputs(ts.styleProp,this._singleStyleInputs,e,$d,!1):[]},Qd.prototype.buildUpdateLevelInstructions=function(e){var t,n=[];return this.hasBindings&&((t=this.buildStyleMapInstruction(e))&&n.push(t),(t=this.buildClassMapInstruction(e))&&n.push(t),n.push.apply(n,B(this._buildStyleInputs(e))),n.push.apply(n,B(this._buildClassInputs(e)))),n},Qd);function Qd(e){this._directiveExpr=e,this._hasInitialValues=!1,this.hasBindings=!1,this.hasBindingsWithPipes=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._firstStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues=[],this._initialClassValues=[]}function Gd(e,t){e.has(t)||e.set(t,e.size)}function Xd(e){var t=!1,n=e.indexOf("!important");-1!==n&&(e=0<n?e.substring(0,n):"",t=!0);var r="",i=e,n=e.lastIndexOf(".");return 0<n&&(r=e.substr(n+1),i=e.substring(0,n)),{property:i,unit:r,hasOverrideFlag:t}}function $d(e){switch(La(e)){case 1:return ts.styleProp;case 3:return ts.stylePropInterpolate1;case 5:return ts.stylePropInterpolate2;case 7:return ts.stylePropInterpolate3;case 9:return ts.stylePropInterpolate4;case 11:return ts.stylePropInterpolate5;case 13:return ts.stylePropInterpolate6;case 15:return ts.stylePropInterpolate7;case 17:return ts.stylePropInterpolate8;default:return ts.stylePropInterpolateV}}(s=zd=zd||{})[s.Character=0]="Character",s[s.Identifier=1]="Identifier",s[s.Keyword=2]="Keyword",s[s.String=3]="String",s[s.Operator=4]="Operator",s[s.Number=5]="Number",s[s.Error=6]="Error";var Yd=["var","let","as","null","undefined","true","false","if","else","this"],Jd=(tf.prototype.tokenize=function(e){for(var t=new of(e),n=[],r=t.scanToken();null!=r;)n.push(r),r=t.scanToken();return n},tf),Zd=(ef.prototype.isCharacter=function(e){return this.type==zd.Character&&this.numValue==e},ef.prototype.isNumber=function(){return this.type==zd.Number},ef.prototype.isString=function(){return this.type==zd.String},ef.prototype.isOperator=function(e){return this.type==zd.Operator&&this.strValue==e},ef.prototype.isIdentifier=function(){return this.type==zd.Identifier},ef.prototype.isKeyword=function(){return this.type==zd.Keyword},ef.prototype.isKeywordLet=function(){return this.type==zd.Keyword&&"let"==this.strValue},ef.prototype.isKeywordAs=function(){return this.type==zd.Keyword&&"as"==this.strValue},ef.prototype.isKeywordNull=function(){return this.type==zd.Keyword&&"null"==this.strValue},ef.prototype.isKeywordUndefined=function(){return this.type==zd.Keyword&&"undefined"==this.strValue},ef.prototype.isKeywordTrue=function(){return this.type==zd.Keyword&&"true"==this.strValue},ef.prototype.isKeywordFalse=function(){return this.type==zd.Keyword&&"false"==this.strValue},ef.prototype.isKeywordThis=function(){return this.type==zd.Keyword&&"this"==this.strValue},ef.prototype.isError=function(){return this.type==zd.Error},ef.prototype.toNumber=function(){return this.type==zd.Number?this.numValue:-1},ef.prototype.toString=function(){switch(this.type){case zd.Character:case zd.Identifier:case zd.Keyword:case zd.Operator:case zd.String:case zd.Error:return this.strValue;case zd.Number:return this.numValue.toString();default:return null}},ef);function ef(e,t,n,r,i){this.index=e,this.end=t,this.type=n,this.numValue=r,this.strValue=i}function tf(){}function nf(e,t,n){return new Zd(e,t,zd.Character,n,String.fromCharCode(n))}function rf(e,t,n){return new Zd(e,t,zd.Operator,0,n)}var sf=new Zd(-1,-1,zd.Character,0,""),of=(af.prototype.advance=function(){this.peek=++this.index>=this.length?0:this.input.charCodeAt(this.index)},af.prototype.scanToken=function(){for(var e=this.input,t=this.length,n=this.peek,r=this.index;n<=32;){if(++r>=t){n=0;break}n=e.charCodeAt(r)}if(this.peek=n,t<=(this.index=r))return null;if(uf(n))return this.scanIdentifier();if(us(n))return this.scanNumber(r);var i=r;switch(n){case 46:return this.advance(),us(this.peek)?this.scanNumber(i):nf(i,this.index,46);case 40:case 41:case 123:case 125:case 91:case 93:case 44:case 58:case 59:return this.scanCharacter(i,n);case 39:case 34:return this.scanString();case 35:case 43:case 45:case 42:case 47:case 37:case 94:return this.scanOperator(i,String.fromCharCode(n));case 63:return this.scanComplexOperator(i,"?",46,".");case 60:case 62:return this.scanComplexOperator(i,String.fromCharCode(n),61,"=");case 33:case 61:return this.scanComplexOperator(i,String.fromCharCode(n),61,"=",61,"=");case 38:return this.scanComplexOperator(i,"&",38,"&");case 124:return this.scanComplexOperator(i,"|",124,"|");case 160:for(;as(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character ["+String.fromCharCode(n)+"]",0)},af.prototype.scanCharacter=function(e,t){return this.advance(),nf(e,this.index,t)},af.prototype.scanOperator=function(e,t){return this.advance(),rf(e,this.index,t)},af.prototype.scanComplexOperator=function(e,t,n,r,i,s){this.advance();return this.peek==n&&(this.advance(),t+=r),null!=i&&this.peek==i&&(this.advance(),t+=s),rf(e,this.index,t)},af.prototype.scanIdentifier=function(){var e=this.index;for(this.advance();lf(this.peek);)this.advance();var t,n=this.input.substring(e,this.index);return-1<Yd.indexOf(n)?(t=this.index,new Zd(e,t,zd.Keyword,0,n)):(t=this.index,new Zd(e,t,zd.Identifier,0,n))},af.prototype.scanNumber=function(e){var t,n=this.index===e;for(this.advance();;){if(!us(this.peek))if(46==this.peek)n=!1;else{if(101!=(t=this.peek)&&69!=t)break;if(this.advance(),45!=(t=this.peek)&&43!=t||this.advance(),!us(this.peek))return this.error("Invalid exponent",-1);n=!1}this.advance()}var r=this.input.substring(e,this.index),i=(n?function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}:parseFloat)(r),r=this.index;return new Zd(e,r,zd.Number,i,"")},af.prototype.scanString=function(){var e=this.index,t=this.peek;this.advance();for(var n="",r=this.index,i=this.input;this.peek!=t;)if(92==this.peek){n+=i.substring(r,this.index),this.advance();var s=void 0;if(this.peek=this.peek,117==this.peek){var o=i.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(o))return this.error("Invalid unicode escape [\\u"+o+"]",0);for(var s=parseInt(o,16),a=0;a<5;a++)this.advance()}else s=function(e){switch(e){case 110:return 10;case 102:return 12;case 114:return 13;case 116:return 9;case 118:return 11;default:return e}}(this.peek),this.advance();n+=String.fromCharCode(s),r=this.index}else{if(0==this.peek)return this.error("Unterminated quote",0);this.advance()}var u,p=i.substring(r,this.index);return this.advance(),u=this.index,new Zd(e,u,zd.String,0,n+p)},af.prototype.error=function(e,t){var n=this.index+t;return t=this.index,e="Lexer Error: "+e+" at column "+n+" in expression ["+this.input+"]",new Zd(n,t,zd.Error,0,e)},af);function af(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}function uf(e){return 97<=e&&e<=122||65<=e&&e<=90||95==e||36==e}function pf(e){if(0==e.length)return!1;var t=new of(e);if(!uf(t.peek))return!1;for(t.advance();0!==t.peek;){if(!lf(t.peek))return!1;t.advance()}return!0}function lf(e){return ps(e)||us(e)||95==e||36==e}function cf(e){return 39===e||34===e||96===e}function hf(e,t,n){this.strings=e,this.expressions=t,this.offsets=n}function df(e,t,n){this.templateBindings=e,this.warnings=t,this.errors=n}var ff=vf(Ka);function mf(e){return e===Ka?ff:vf(e)}function vf(e){e=Qr(e.start)+"([\\s\\S]*?)"+Qr(e.end);return new RegExp(e,"g")}var yf,gf,_f,Ef=(Af.prototype.parseAction=function(e,t,n,r){this._checkNoInterpolation(e,t,r=void 0===r?Ka:r);var i=this._stripComments(e),r=this._lexer.tokenize(this._stripComments(e)),i=new Sf(e,t,n,r,i.length,!0,this.errors,e.length-i.length).parseChain();return new Ep(i,e,t,n,this.errors)},Af.prototype.parseBinding=function(e,t,n,r){r=this._parseBindingAst(e,t,n,r=void 0===r?Ka:r);return new Ep(r,e,t,n,this.errors)},Af.prototype.checkSimpleExpression=function(e){var t=new this.simpleExpressionChecker;return e.visit(t),t.errors},Af.prototype.parseSimpleBinding=function(e,t,n,r){var i=this._parseBindingAst(e,t,n,r=void 0===r?Ka:r),r=this.checkSimpleExpression(i);return 0<r.length&&this._reportError("Host binding expression cannot contain "+r.join(" "),e,t),new Ep(i,e,t,n,this.errors)},Af.prototype._reportError=function(e,t,n,r){this.errors.push(new Cu(e,t,n,r))},Af.prototype._parseBindingAst=function(e,t,n,r){var i=this._parseQuote(e,t,n);if(null!=i)return i;this._checkNoInterpolation(e,t,r);i=this._stripComments(e),r=this._lexer.tokenize(i);return new Sf(e,t,n,r,i.length,!1,this.errors,e.length-i.length).parseChain()},Af.prototype._parseQuote=function(e,t,n){if(null==e)return null;var r=e.indexOf(":");if(-1==r)return null;var i=e.substring(0,r).trim();if(!pf(i))return null;r=e.substring(r+1),e=new $u(0,e.length);return new Ju(e,e.toAbsolute(n),i,r,t)},Af.prototype.parseTemplateBindings=function(e,t,n,r){var i=this._lexer.tokenize(t);return new Sf(t,n,r,i,t.length,!1,this.errors,0).parseTemplateBindings(e)},Af.prototype.parseInterpolation=function(e,t,n,r){var i=this.splitInterpolation(e,t,r=void 0===r?Ka:r);if(null==i)return null;for(var s=[],o=0;o<i.expressions.length;++o){var a=i.expressions[o],u=this._stripComments(a),p=this._lexer.tokenize(u),u=new Sf(e,t,n,p,u.length,!1,this.errors,i.offsets[o]+(a.length-u.length)).parseChain();s.push(u)}r=new $u(0,null==e?0:e.length);return new Ep(new hp(r,r.toAbsolute(n),i.strings,s),e,t,n,this.errors)},Af.prototype.splitInterpolation=function(e,t,n){var r=mf(n=void 0===n?Ka:n),i=e.split(r);if(i.length<=1)return null;for(var s=[],o=[],a=[],u=0,p=0;p<i.length;p++){var l=i[p];p%2==0?(s.push(l),u+=l.length):0<l.trim().length?(u+=n.start.length,o.push(l),a.push(u),u+=l.length+n.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",e,"at column "+this._findInterpolationErrorColumn(i,p,n)+" in",t),o.push("$implicit"),a.push(u))}return new hf(s,o,a)},Af.prototype.wrapLiteralPrimitive=function(e,t,n){var r=new $u(0,null==e?0:e.length);return new Ep(new pp(r,r.toAbsolute(n),e),e,t,n,this.errors)},Af.prototype._stripComments=function(e){var t=this._commentStart(e);return null!=t?e.substring(0,t).trim():e},Af.prototype._commentStart=function(e){for(var t=null,n=0;n<e.length-1;n++){var r=e.charCodeAt(n),i=e.charCodeAt(n+1);if(47===r&&47==i&&null==t)return n;t===r?t=null:null==t&&cf(r)&&(t=r)}return null},Af.prototype._checkNoInterpolation=function(e,t,n){var r=mf(n),r=e.split(r);1<r.length&&this._reportError("Got interpolation ("+n.start+n.end+") where expression was expected",e,"at column "+this._findInterpolationErrorColumn(r,1,n)+" in",t)},Af.prototype._findInterpolationErrorColumn=function(e,t,n){for(var r="",i=0;i<t;i++)r+=i%2==0?e[i]:""+n.start+e[i]+n.end;return r.length},Af),xf=(h(Nf,_f=Ef),Nf),Sf=(Pf.prototype.peek=function(e){e=this.index+e;return e<this.tokens.length?this.tokens[e]:sf},Object.defineProperty(Pf.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(Pf.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset},enumerable:!0,configurable:!0}),Pf.prototype.span=function(e){return new $u(e,this.inputIndex)},Pf.prototype.sourceSpan=function(e){var t=e+"@"+this.inputIndex;return this.sourceSpanCache.has(t)||this.sourceSpanCache.set(t,this.span(e).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(t)},Pf.prototype.advance=function(){this.index++},Pf.prototype.optionalCharacter=function(e){return!!this.next.isCharacter(e)&&(this.advance(),!0)},Pf.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},Pf.prototype.peekKeywordAs=function(){return this.next.isKeywordAs()},Pf.prototype.expectCharacter=function(e){this.optionalCharacter(e)||this.error("Missing expected "+String.fromCharCode(e))},Pf.prototype.optionalOperator=function(e){return!!this.next.isOperator(e)&&(this.advance(),!0)},Pf.prototype.expectOperator=function(e){this.optionalOperator(e)||this.error("Missing expected operator "+e)},Pf.prototype.expectIdentifierOrKeyword=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()?(this.advance(),e.toString()):(this.error("Unexpected token "+e+", expected identifier or keyword"),"")},Pf.prototype.expectIdentifierOrKeywordOrString=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()?(this.advance(),e.toString()):(this.error("Unexpected token "+e+", expected identifier, keyword, or string"),"")},Pf.prototype.parseChain=function(){for(var e=[],t=this.inputIndex;this.index<this.tokens.length;){var n=this.parsePipe();if(e.push(n),this.optionalCharacter(59))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(59););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==e.length?new Zu(this.span(t),this.sourceSpan(t)):1==e.length?e[0]:new tp(this.span(t),this.sourceSpan(t),e)},Pf.prototype.parsePipe=function(){var e=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var t=this.inputIndex,n=this.expectIdentifierOrKeyword(),r=this.sourceSpan(t),i=[];this.optionalCharacter(58);)i.push(this.parseExpression());t=e.span.start,e=new up(this.span(t),this.sourceSpan(t),e,n,i,r)}while(this.optionalOperator("|"))}return e},Pf.prototype.parseExpression=function(){return this.parseConditional()},Pf.prototype.parseConditional=function(){var e=this.inputIndex,t=this.parseLogicalOr();if(this.optionalOperator("?")){var n,r=this.parsePipe(),i=void 0,i=this.optionalCharacter(58)?this.parsePipe():(n=this.inputIndex,n=this.input.substring(e,n),this.error("Conditional expression "+n+" requires all 3 expressions"),new Zu(this.span(e),this.sourceSpan(e)));return new np(this.span(e),this.sourceSpan(e),t,r,i)}return t},Pf.prototype.parseLogicalOr=function(){for(var e=this.parseLogicalAnd();this.optionalOperator("||");)var t=this.parseLogicalAnd(),n=e.span.start,e=new dp(this.span(n),this.sourceSpan(n),"||",e,t);return e},Pf.prototype.parseLogicalAnd=function(){for(var e=this.parseEquality();this.optionalOperator("&&");)var t=this.parseEquality(),n=e.span.start,e=new dp(this.span(n),this.sourceSpan(n),"&&",e,t);return e},Pf.prototype.parseEquality=function(){for(var e=this.parseRelational();this.next.type==zd.Operator;){var t=this.next.strValue;switch(t){case"==":case"===":case"!=":case"!==":this.advance();var n=this.parseRelational(),r=e.span.start,e=new dp(this.span(r),this.sourceSpan(r),t,e,n);continue}break}return e},Pf.prototype.parseRelational=function(){for(var e=this.parseAdditive();this.next.type==zd.Operator;){var t=this.next.strValue;switch(t){case"<":case">":case"<=":case">=":this.advance();var n=this.parseAdditive(),r=e.span.start,e=new dp(this.span(r),this.sourceSpan(r),t,e,n);continue}break}return e},Pf.prototype.parseAdditive=function(){for(var e=this.parseMultiplicative();this.next.type==zd.Operator;){var t=this.next.strValue;switch(t){case"+":case"-":this.advance();var n=this.parseMultiplicative(),r=e.span.start,e=new dp(this.span(r),this.sourceSpan(r),t,e,n);continue}break}return e},Pf.prototype.parseMultiplicative=function(){for(var e=this.parsePrefix();this.next.type==zd.Operator;){var t=this.next.strValue;switch(t){case"*":case"%":case"/":this.advance();var n=this.parsePrefix(),r=e.span.start,e=new dp(this.span(r),this.sourceSpan(r),t,e,n);continue}break}return e},Pf.prototype.parsePrefix=function(){if(this.next.type==zd.Operator){var e=this.inputIndex,t=this.next.strValue,n=new $u(e,e),r=n.toAbsolute(this.absoluteOffset),i=void 0;switch(t){case"+":return this.advance(),i=this.parsePrefix(),new dp(this.span(e),this.sourceSpan(e),"-",i,new pp(n,r,0));case"-":return this.advance(),i=this.parsePrefix(),new dp(this.span(e),this.sourceSpan(e),t,new pp(n,r,0),i);case"!":return this.advance(),i=this.parsePrefix(),new fp(this.span(e),this.sourceSpan(e),i)}}return this.parseCallChain()},Pf.prototype.parseCallChain=function(){for(var e=(n=this.parsePrimary()).span.start;;)if(this.optionalCharacter(46))n=this.parseAccessMemberOrMethodCall(n,!1);else if(this.optionalOperator("?."))n=this.parseAccessMemberOrMethodCall(n,!0);else if(this.optionalCharacter(91)){this.rbracketsExpected++;var t,n,r=this.parsePipe();this.rbracketsExpected--,this.expectCharacter(93),n=this.optionalOperator("=")?(t=this.parseConditional(),new ap(this.span(e),this.sourceSpan(e),n,r,t)):new op(this.span(e),this.sourceSpan(e),n,r)}else if(this.optionalCharacter(40)){this.rparensExpected++;r=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(41),n=new gp(this.span(e),this.sourceSpan(e),n,r)}else{if(!this.optionalOperator("!"))return n;n=new mp(this.span(e),this.sourceSpan(e),n)}},Pf.prototype.parsePrimary=function(){var e=this.inputIndex;if(this.optionalCharacter(40)){this.rparensExpected++;var t=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),t}if(this.next.isKeywordNull())return this.advance(),new pp(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new pp(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new pp(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new pp(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordThis())return this.advance(),new ep(this.span(e),this.sourceSpan(e));if(this.optionalCharacter(91)){this.rbracketsExpected++;t=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new lp(this.span(e),this.sourceSpan(e),t)}if(this.next.isCharacter(123))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new ep(this.span(e),this.sourceSpan(e)),!1);if(this.next.isNumber()){var n=this.next.toNumber();return this.advance(),new pp(this.span(e),this.sourceSpan(e),n)}if(this.next.isString()){n=this.next.toString();return this.advance(),new pp(this.span(e),this.sourceSpan(e),n)}return this.index>=this.tokens.length?this.error("Unexpected end of expression: "+this.input):this.error("Unexpected token "+this.next),new Zu(this.span(e),this.sourceSpan(e))},Pf.prototype.parseExpressionList=function(e){var t=[];if(!this.next.isCharacter(e))for(;t.push(this.parsePipe()),this.optionalCharacter(44););return t},Pf.prototype.parseLiteralMap=function(){var e=[],t=[],n=this.inputIndex;if(this.expectCharacter(123),!this.optionalCharacter(125)){this.rbracesExpected++;do{var r=this.next.isString(),i=this.expectIdentifierOrKeywordOrString()}while(e.push({key:i,quoted:r}),this.expectCharacter(58),t.push(this.parsePipe()),this.optionalCharacter(44));this.rbracesExpected--,this.expectCharacter(125)}return new cp(this.span(n),this.sourceSpan(n),e,t)},Pf.prototype.parseAccessMemberOrMethodCall=function(e,t){void 0===t&&(t=!1);var n=e.span.start,r=this.expectIdentifierOrKeyword();if(this.optionalCharacter(40)){this.rparensExpected++;var i=this.parseCallArguments();this.expectCharacter(41),this.rparensExpected--;var s=this.span(n),o=this.sourceSpan(n);return new(t?yp:vp)(s,o,e,r,i)}if(t)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new Zu(this.span(n),this.sourceSpan(n))):new sp(this.span(n),this.sourceSpan(n),e,r);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new Zu(this.span(n),this.sourceSpan(n));t=this.parseConditional();return new ip(this.span(n),this.sourceSpan(n),e,r,t)}return s=this.span(n),new rp(this.span(n),this.sourceSpan(n),e,r)},Pf.prototype.parseCallArguments=function(){if(this.next.isCharacter(41))return[];for(var e=[];e.push(this.parsePipe()),this.optionalCharacter(44););return e},Pf.prototype.expectTemplateBindingKey=function(){for(var e,t="";t+=this.expectIdentifierOrKeywordOrString(),(e=this.optionalOperator("-"))&&(t+="-"),e;);return t.toString()},Pf.prototype.parseTemplateBindings=function(e){var t=!0,n=[];do{var r=this.inputIndex,i=void 0,s=void 0,o=!1;t?(i=s=e,t=!1):((o=this.peekKeywordLet())&&this.advance(),i=this.expectTemplateBindingKey(),s=o?i:e+i[0].toUpperCase()+i.substring(1),this.optionalCharacter(58));var a,u,p=null,l=null}while(o?p=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit":this.peekKeywordAs()?(this.advance(),p=i,s=this.expectTemplateBindingKey(),o=!0):this.next===sf||this.peekKeywordLet()||(a=this.inputIndex,u=this.parsePipe(),i=this.input.substring(a-this.offset,this.inputIndex-this.offset),l=new Ep(u,i,this.location,this.absoluteOffset+a,this.errors)),n.push(new bu(this.span(r),this.sourceSpan(r),s,o,p,l)),this.peekKeywordAs()&&!o&&(l=this.inputIndex,this.advance(),o=this.expectTemplateBindingKey(),n.push(new bu(this.span(l),this.sourceSpan(l),o,!0,s,null))),this.optionalCharacter(59)||this.optionalCharacter(44),this.index<this.tokens.length);return new df(n,[],this.errors)},Pf.prototype.error=function(e,t){this.errors.push(new Cu(e,this.input,this.locationText(t=void 0===t?null:t),this.location)),this.skip()},Pf.prototype.locationText=function(e){return(e=null==(e=void 0===e?null:e)?this.index:e)<this.tokens.length?"at column "+(this.tokens[e].index+1)+" in":"at the end of the expression"},Pf.prototype.skip=function(){for(var e=this.next;this.index<this.tokens.length&&!e.isCharacter(59)&&(this.rparensExpected<=0||!e.isCharacter(41))&&(this.rbracesExpected<=0||!e.isCharacter(125))&&(this.rbracketsExpected<=0||!e.isCharacter(93));)this.next.isError()&&this.errors.push(new Cu(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next},Pf),wf=(Tf.prototype.visitImplicitReceiver=function(e,t){},Tf.prototype.visitInterpolation=function(e,t){},Tf.prototype.visitLiteralPrimitive=function(e,t){},Tf.prototype.visitPropertyRead=function(e,t){},Tf.prototype.visitPropertyWrite=function(e,t){},Tf.prototype.visitSafePropertyRead=function(e,t){},Tf.prototype.visitMethodCall=function(e,t){},Tf.prototype.visitSafeMethodCall=function(e,t){},Tf.prototype.visitFunctionCall=function(e,t){},Tf.prototype.visitLiteralArray=function(e,t){this.visitAll(e.expressions)},Tf.prototype.visitLiteralMap=function(e,t){this.visitAll(e.values)},Tf.prototype.visitBinary=function(e,t){},Tf.prototype.visitPrefixNot=function(e,t){},Tf.prototype.visitNonNullAssert=function(e,t){},Tf.prototype.visitConditional=function(e,t){},Tf.prototype.visitPipe=function(e,t){this.errors.push("pipes")},Tf.prototype.visitKeyedRead=function(e,t){},Tf.prototype.visitKeyedWrite=function(e,t){},Tf.prototype.visitAll=function(e){var t=this;return e.map(function(e){return e.visit(t)})},Tf.prototype.visitChain=function(e,t){},Tf.prototype.visitQuote=function(e,t){},Tf),Cf=(h(bf,gf=wf),bf.prototype.visitBinary=function(e,t){e.left.visit(this),e.right.visit(this)},bf.prototype.visitPrefixNot=function(e,t){e.expression.visit(this)},bf);function bf(){return null!==gf&&gf.apply(this,arguments)||this}function Tf(){this.errors=[]}function Pf(e,t,n,r,i,s,o,a){this.input=e,this.location=t,this.absoluteOffset=n,this.tokens=r,this.inputLength=i,this.parseAction=s,this.errors=o,this.offset=a,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.sourceSpanCache=new Map,this.index=0}function Nf(){var e=null!==_f&&_f.apply(this,arguments)||this;return e.simpleExpressionChecker=Cf,e}function Af(e){this._lexer=e,this.errors=[],this.simpleExpressionChecker=wf}function Mf(){return yf||(yf={},If(K.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),If(K.STYLE,["*|style"]),If(K.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),If(K.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),yf}function If(e,t){var n,r;try{for(var i=D(t),s=i.next();!s.done;s=i.next()){var o=s.value;yf[o.toLowerCase()]=e}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}var kf,zn=function(){},Rf=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],Of={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Ff=(h(Lf,kf=zn),Lf.prototype.hasProperty=function(e,t,n){if(n.some(function(e){return e.name===re.name}))return!0;if(-1<e.indexOf("-")){if(N(e)||c(e))return!1;if(n.some(function(e){return e.name===ne.name}))return!0}return!!(this._schema[e.toLowerCase()]||this._schema.unknown)[t]},Lf.prototype.hasElement=function(e,t){if(t.some(function(e){return e.name===re.name}))return!0;if(-1<e.indexOf("-")){if(N(e)||c(e))return!0;if(t.some(function(e){return e.name===ne.name}))return!0}return!!this._schema[e.toLowerCase()]},Lf.prototype.securityContext=function(e,t,n){return n&&(t=this.getMappedPropName(t)),e=e.toLowerCase(),t=t.toLowerCase(),Mf()[e+"|"+t]||Mf()["*|"+t]||K.NONE},Lf.prototype.getMappedPropName=function(e){return Of[e]||e},Lf.prototype.getDefaultComponentElementName=function(){return"ng-component"},Lf.prototype.validateProperty=function(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:"Binding to event property '"+e+"' is disallowed for security reasons, please use ("+e.slice(2)+")=...\nIf '"+e+"' is a directive input, make sure the directive is imported by the current module."}:{error:!1}},Lf.prototype.validateAttribute=function(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:"Binding to event attribute '"+e+"' is disallowed for security reasons, please use ("+e.slice(2)+")=..."}:{error:!1}},Lf.prototype.allKnownElementNames=function(){return Object.keys(this._schema)},Lf.prototype.normalizeAnimationStyleProperty=function(e){return e.replace(kr,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e[1].toUpperCase()})},Lf.prototype.normalizeAnimationStyleValue=function(e,t,n){var r,i="",s=n.toString().trim(),o=null;return function(){switch(e){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return 1;default:return}}()&&0!==n&&"0"!==n&&("number"==typeof n?i="px":(r=n.match(/^[+-]?[\d\.]+([a-z]*)$/))&&0==r[1].length&&(o="Please provide a CSS unit value for "+t+":"+n)),{error:o,value:s+i}},Lf);function Lf(){var s=kf.call(this)||this;return s._schema={},Rf.forEach(function(e){var t={},n=T(e.split("|"),2),r=n[0],e=n[1].split(","),n=T(r.split("^"),2),r=n[0],n=n[1];r.split(",").forEach(function(e){return s._schema[e.toLowerCase()]=t});var i=n&&s._schema[n.toLowerCase()];i&&Object.keys(i).forEach(function(e){t[e]=i[e]}),e.forEach(function(e){if(0<e.length)switch(e[0]){case"*":break;case"!":t[e.substring(1)]="boolean";break;case"#":t[e.substring(1)]="number";break;case"%":t[e.substring(1)]="object";break;default:t[e]="string"}})}),s}var Df=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/;function Bf(e,t){var n=new jf(t),r=yc(n,e),e=t.errors.concat(n.errors),t=e.filter(function(e){return e.level===ds.ERROR});if(0<t.length)throw Wr("Template parse errors:\n"+t.join("\n"),t);return{nodes:r,errors:e,styleUrls:n.styleUrls,styles:n.styles}}var Vf,jf=(qf.prototype.visitElement=function(e){var t,n=this,r=ha(e.i18n);r&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);var i=gd(e);if(i.type===ud.SCRIPT)return null;if(i.type===ud.STYLE){var s=1===e.children.length&&e.children[0]instanceof ic?e.children[0].value:null;return null!==s&&this.styles.push(s),null}if(i.type===ud.STYLESHEET&&od(i.hrefAttr))return this.styleUrls.push(i.hrefAttr),null;var o=M(e.name),a=[],u=[],p=[],l=[],c=[],h={},d=[],f=[],m=!1;try{for(var v=D(e.attrs),y=v.next();!y.done;y=v.next()){var g,_,E,x,S=y.value,w=!1,C=Wf(S.name),b=!1;S.i18n&&(h[S.name]=S.i18n),C.startsWith("*")?(m&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",S.sourceSpan),m=b=!0,g=S.value,_=C.substring("*".length),E=[],x=S.valueSpan?S.valueSpan.start.offset:S.sourceSpan.start.offset+S.name.length,this.bindingParser.parseInlineTemplateBinding(_,g,S.sourceSpan,x,[],d,E),f.push.apply(f,B(E.map(function(e){return new ks(e.name,e.value,e.sourceSpan)})))):w=this.parseAttribute(o,S,[],a,u,p,l),w||b||c.push(this.visitAttribute(S))}}catch(e){A={error:e}}finally{try{y&&!y.done&&(t=v.return)&&t.call(v)}finally{if(A)throw A.error}}var T,P,N,A=yc(i.nonBindable?Uf:this,e.children);return T=i.type===ud.NG_CONTENT?(e.children&&!e.children.every(function(e){return e instanceof ic&&0==e.value.trim().length||e instanceof pc})&&this.reportError("<ng-content> element cannot have content.",e.sourceSpan),T=i.selectAttr,N=e.attrs.map(function(e){return n.visitAttribute(e)}),new Is(T,N,e.sourceSpan,e.i18n)):o?(N=this.extractAttributes(e.name,a,h),new Ms(e.name,c,N.bound,u,[],A,l,p,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)):(N=this.extractAttributes(e.name,a,h),new As(e.name,c,N.bound,u,A,l,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)),m&&(N=this.extractAttributes("ng-template",d,h),P=[],N.literal.forEach(function(e){return P.push(e)}),N.bound.forEach(function(e){return P.push(e)}),A=T instanceof As?{attributes:T.attributes,inputs:T.inputs,outputs:T.outputs}:{attributes:[],inputs:[],outputs:[]},N=o&&r?void 0:e.i18n,T=new Ms(T.name,A.attributes,A.inputs,A.outputs,P,[T],[],f,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,N)),r&&(this.inI18nBlock=!1),T},qf.prototype.visitAttribute=function(e){return new Ts(e.name,e.value,e.sourceSpan,e.valueSpan,e.i18n)},qf.prototype.visitText=function(e){return this._visitTextWithInterpolation(e.value,e.sourceSpan,e.i18n)},qf.prototype.visitExpansion=function(r){var i=this;if(!r.i18n)return null;if(!ha(r.i18n))throw new Error('Invalid type "'+r.i18n.constructor+'" for "i18n" property of '+r.sourceSpan.toString()+'. Expected a "Message"');var s=r.i18n,o={},a={};return Object.keys(s.placeholders).forEach(function(e){var t,n=s.placeholders[e];e.startsWith("VAR_")?(t=""+(t=i.bindingParser.interpolationConfig).start+n+t.end,o[e]=i._visitTextWithInterpolation(t,r.sourceSpan)):a[e]=i._visitTextWithInterpolation(n,r.sourceSpan)}),new Os(o,a,r.sourceSpan,s)},qf.prototype.visitExpansionCase=function(e){return null},qf.prototype.visitComment=function(e){return null},qf.prototype.extractAttributes=function(n,e,r){var i=this,s=[],o=[];return e.forEach(function(e){var t=r[e.name];e.isLiteral?o.push(new Ts(e.name,e.expression.source||"",e.sourceSpan,void 0,t)):(e=i.bindingParser.createBoundElementProperty(n,e,!0,!1),s.push(Ps.fromBoundElementProperty(e,t)))}),{bound:s,literal:o}},qf.prototype.parseAttribute=function(e,t,n,r,i,s,o){var a,u,p=Wf(t.name),l=t.value,c=t.sourceSpan,h=(t.valueSpan||c).start.offset,d=p.match(Df),f=!1;return d?(f=!0,null!=d[1]?this.bindingParser.parsePropertyBinding(d[7],l,!1,c,h,t.valueSpan,n,r):d[2]?e?(a=d[7],this.parseVariable(a,l,c,t.valueSpan,s)):this.reportError('"let-" is only supported on ng-template elements.',c):d[3]?(a=d[7],this.parseReference(a,l,c,t.valueSpan,o)):d[4]?(this.bindingParser.parseEvent(d[7],l,c,t.valueSpan||c,n,u=[]),zf(u,i)):d[5]?(this.bindingParser.parsePropertyBinding(d[7],l,!1,c,h,t.valueSpan,n,r),this.parseAssignmentEvent(d[7],l,c,t.valueSpan,n,i)):d[6]?this.bindingParser.parseLiteralAttr(p,l,c,h,t.valueSpan,n,r):d[8]?(this.bindingParser.parsePropertyBinding(d[8],l,!1,c,h,t.valueSpan,n,r),this.parseAssignmentEvent(d[8],l,c,t.valueSpan,n,i)):d[9]?this.bindingParser.parsePropertyBinding(d[9],l,!1,c,h,t.valueSpan,n,r):d[10]&&(this.bindingParser.parseEvent(d[10],l,c,t.valueSpan||c,n,u=[]),zf(u,i))):f=this.bindingParser.parsePropertyInterpolation(p,l,c,t.valueSpan,n,r),f},qf.prototype._visitTextWithInterpolation=function(e,t,n){var r=rh(e),e=this.bindingParser.parseInterpolation(r,t);return e?new bs(e,t,n):new Cs(r,t)},qf.prototype.parseVariable=function(e,t,n,r,i){-1<e.indexOf("-")?this.reportError('"-" is not allowed in variable names',n):0===e.length&&this.reportError("Variable does not have a name",n),i.push(new ks(e,t,n,r))},qf.prototype.parseReference=function(e,t,n,r,i){-1<e.indexOf("-")?this.reportError('"-" is not allowed in reference names',n):0===e.length&&this.reportError("Reference does not have a name",n),i.push(new Rs(e,t,n,r))},qf.prototype.parseAssignmentEvent=function(e,t,n,r,i,s){var o=[];this.bindingParser.parseEvent(e+"Change",t+"=$event",n,r||n,i,o),zf(o,s)},qf.prototype.reportError=function(e,t,n){void 0===n&&(n=ds.ERROR),this.errors.push(new Es(t,e,n))},qf),Uf=(Hf.prototype.visitElement=function(e){var t=gd(e);if(t.type===ud.SCRIPT||t.type===ud.STYLE||t.type===ud.STYLESHEET)return null;t=yc(this,e.children,null);return new As(e.name,yc(this,e.attrs),[],[],t,[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan)},Hf.prototype.visitComment=function(e){return null},Hf.prototype.visitAttribute=function(e){return new Ts(e.name,e.value,e.sourceSpan,void 0,e.i18n)},Hf.prototype.visitText=function(e){return new Cs(e.value,e.sourceSpan)},Hf.prototype.visitExpansion=function(e){return null},Hf.prototype.visitExpansionCase=function(e){return null},new Hf);function Hf(){}function qf(e){this.bindingParser=e,this.errors=[],this.styles=[],this.styleUrls=[],this.inI18nBlock=!1}function Wf(e){return/^data-/i.test(e)?e.substring(5):e}function zf(e,t){t.push.apply(t,B(e.map(function(e){return Ns.fromParsedEvent(e)})))}(ro=Vf=Vf||{})[ro.ELEMENT=0]="ELEMENT",ro[ro.TEMPLATE=1]="TEMPLATE",ro[ro.PROJECTION=2]="PROJECTION";var Kf=(Qf.prototype.appendTag=function(e,t,n,r){var i;t.isVoid&&r||(i=t.isVoid||!r?t.startName:t.closeName,r={type:e,index:n,ctx:this.id,isVoid:t.isVoid,closed:r},ya(this.placeholders,i,r))},Object.defineProperty(Qf.prototype,"icus",{get:function(){return this._registry.icus},enumerable:!0,configurable:!0}),Object.defineProperty(Qf.prototype,"isRoot",{get:function(){return 0===this.level},enumerable:!0,configurable:!0}),Object.defineProperty(Qf.prototype,"isResolved",{get:function(){return 0===this._unresolvedCtxCount},enumerable:!0,configurable:!0}),Qf.prototype.getSerializedPlaceholders=function(){var n=new Map;return this.placeholders.forEach(function(e,t){return n.set(t,e.map(Yf))}),n},Qf.prototype.appendBinding=function(e){this.bindings.add(e)},Qf.prototype.appendIcu=function(e,t){ya(this._registry.icus,e,t)},Qf.prototype.appendBoundText=function(e){var n=this;ga(e,this.bindings.size,this.id).forEach(function(e,t){return ya.apply(void 0,B([n.placeholders,t],e))})},Qf.prototype.appendTemplate=function(e,t){this.appendTag(Vf.TEMPLATE,e,t,!1),this.appendTag(Vf.TEMPLATE,e,t,!0),this._unresolvedCtxCount++},Qf.prototype.appendElement=function(e,t,n){this.appendTag(Vf.ELEMENT,e,t,n)},Qf.prototype.appendProjection=function(e,t){this.appendTag(Vf.PROJECTION,e,t,!1),this.appendTag(Vf.PROJECTION,e,t,!0)},Qf.prototype.forkChildContext=function(e,t,n){return new Qf(e,this.ref,this.level+1,t,n,this._registry)},Qf.prototype.reconcileChildContext=function(s){var o=this;["start","close"].forEach(function(e){e=s.meta[e+"Name"],e=(o.placeholders.get(e)||[]).find($f(o.id,s.templateIndex));e&&(e.ctx=s.id)}),s.placeholders.forEach(function(e,t){var n,r,i=o.placeholders.get(t);i?(0<=(n=i.findIndex($f(s.id,s.templateIndex)))?(r=t.startsWith("CLOSE"),t.endsWith("NG-TEMPLATE")?i.splice.apply(i,B([n+(r?0:1),0],e)):(e[r?e.length-1:0].tmpl=i[n],i.splice.apply(i,B([n,1],e)))):i.push.apply(i,B(e)),o.placeholders.set(t,i)):o.placeholders.set(t,e)}),this._unresolvedCtxCount--},Qf);function Qf(e,t,n,r,i,s){var o,a;void 0===n&&(n=0),void 0===r&&(r=null),this.index=e,this.ref=t,this.level=n,this.templateIndex=r,this.meta=i,this.registry=s,this.bindings=new Set,this.placeholders=new Map,this.isEmitted=!1,this._unresolvedCtxCount=0,this._registry=s||{getUniqueId:(a=o=void 0===o?0:o,function(){return a++}),icus:new Map},this.id=this._registry.getUniqueId()}function Gf(e,t,n,r){return ma((r?"/":"")+e+t,n)}function Xf(e,t,n){var r=t.index,i=t.ctx;return t.isVoid?Gf(e,r,i)+Gf(e,r,i,!0):Gf(e,r,i,n)}function $f(t,n){return function(e){return"object"==typeof e&&e.type===Vf.TEMPLATE&&e.index===n&&e.ctx===t}}function Yf(e){function t(e,t){return Xf("#",e,t)}function n(e,t){return Xf("*",e,t)}switch(e.type){case Vf.ELEMENT:return e.closed?t(e,!0)+(e.tmpl?n(e.tmpl,!0):""):e.tmpl?n(e.tmpl)+t(e)+(e.isVoid?n(e.tmpl,!0):""):t(e);case Vf.TEMPLATE:return n(e,e.closed);case Vf.PROJECTION:return Xf("!",e,e.closed);default:return e}}var Jf=(Zf.prototype.visitText=function(e){return e.value},Zf.prototype.visitContainer=function(e){var t=this;return e.children.map(function(e){return e.visit(t)}).join("")},Zf.prototype.visitIcu=function(t){var n=this,e=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+t.expressionPlaceholder+", "+t.type+", "+e.join(" ")+"}"},Zf.prototype.visitTagPlaceholder=function(e){var t=this;return e.isVoid?this.formatPh(e.startName):""+this.formatPh(e.startName)+e.children.map(function(e){return e.visit(t)}).join("")+this.formatPh(e.closeName)},Zf.prototype.visitPlaceholder=function(e){return this.formatPh(e.name)},Zf.prototype.visitIcuPlaceholder=function(e,t){return this.formatPh(e.name)},Zf.prototype.formatPh=function(e){return"{"+Ea(e,!1)+"}"},new Zf);function Zf(){}function em(e){return e.visit(Jf)}var tm={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},nm=(im.prototype.getStartTagPlaceholderName=function(e,t,n){t=this._hashTag(e,t,n);if(this._signatureToName[t])return this._signatureToName[t];e=e.toUpperCase(),e=tm[e]||"TAG_"+e,e=this._generateUniqueName(n?e:"START_"+e);return this._signatureToName[t]=e},im.prototype.getCloseTagPlaceholderName=function(e){var t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];e=e.toUpperCase(),e=this._generateUniqueName("CLOSE_"+(tm[e]||"TAG_"+e));return this._signatureToName[t]=e},im.prototype.getPlaceholderName=function(e,t){e=e.toUpperCase(),t="PH: "+e+"="+t;if(this._signatureToName[t])return this._signatureToName[t];e=this._generateUniqueName(e);return this._signatureToName[t]=e},im.prototype.getUniquePlaceholder=function(e){return this._generateUniqueName(e.toUpperCase())},im.prototype._hashTag=function(e,t,n){return"<"+e+Object.keys(t).sort().map(function(e){return" "+e+"="+t[e]}).join("")+(n?"/>":"></"+e+">")},im.prototype._hashClosingTag=function(e){return this._hashTag("/"+e,{},!1)},im.prototype._generateUniqueName=function(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;var t=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=t+1,e+"_"+t},im),rm=new Ef(new Jd);function im(){this._placeHolderNameCounts={},this._signatureToName={}}function sm(e){var s=new am(rm,e);return function(e,t,n,r,i){return s.toI18nMessage(e,t,n,r,i)}}function om(e,t){return t}var am=(pm.prototype.toI18nMessage=function(e,t,n,r,i){void 0===t&&(t=""),void 0===n&&(n=""),void 0===r&&(r="");i={isIcu:1==e.length&&e[0]instanceof sc,icuDepth:0,placeholderRegistry:new nm,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:i||om},e=yc(this,e,i);return new Xs(e,i.placeholderToContent,i.placeholderToMessage,t,n,r)},pm.prototype.visitElement=function(e,t){var n=yc(this,e.children,t),r={};e.attrs.forEach(function(e){r[e.name]=e.value});var i=x(e.name).isVoid,s=t.placeholderRegistry.getStartTagPlaceholderName(e.name,r,i);t.placeholderToContent[s]=e.sourceSpan.toString();var o="";i||(o=t.placeholderRegistry.getCloseTagPlaceholderName(e.name),t.placeholderToContent[o]="</"+e.name+">");i=new Zs(e.name,r,s,o,n,i,e.sourceSpan);return t.visitNodeFn(e,i)},pm.prototype.visitAttribute=function(e,t){var n=this._visitTextWithInterpolation(e.value,e.sourceSpan,t);return t.visitNodeFn(e,n)},pm.prototype.visitText=function(e,t){var n=this._visitTextWithInterpolation(e.value,e.sourceSpan,t);return t.visitNodeFn(e,n)},pm.prototype.visitComment=function(e,t){return null},pm.prototype.visitExpansion=function(e,t){var n=this;t.icuDepth++;var r={},i=new Js(e.switchValue,e.type,r,e.sourceSpan);if(e.cases.forEach(function(e){r[e.value]=new Ys(e.expression.map(function(e){return e.visit(n,t)}),e.expSourceSpan)}),t.icuDepth--,t.isIcu||0<t.icuDepth){var s=t.placeholderRegistry.getUniquePlaceholder("VAR_"+e.type);return i.expressionPlaceholder=s,t.placeholderToContent[s]=e.switchValue,t.visitNodeFn(e,i)}s=t.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());t.placeholderToMessage[s]=this.toI18nMessage([e],"","","",void 0);s=new to(i,s,e.sourceSpan);return t.visitNodeFn(e,s)},pm.prototype.visitExpansionCase=function(e,t){throw new Error("Unreachable code")},pm.prototype._visitTextWithInterpolation=function(e,t,n){var r=this._expressionParser.splitInterpolation(e,t.start.toString(),this._interpolationConfig);if(!r)return new $s(e,t);for(var i=[],s=new Ys(i,t),e=this._interpolationConfig,o=e.start,a=e.end,u=0;u<r.strings.length-1;u++){var p=r.expressions[u],l=p.split(um)[2]||"INTERPOLATION",l=n.placeholderRegistry.getPlaceholderName(l,p);r.strings[u].length&&i.push(new $s(r.strings[u],t)),i.push(new eo(p,l,t)),n.placeholderToContent[l]=o+p+a}e=r.strings.length-1;return r.strings[e].length&&i.push(new $s(r.strings[e],t)),s},pm),um=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function pm(e,t){this._expressionParser=e,this._interpolationConfig=t}function lm(e,t){return e instanceof Jl&&(t instanceof to&&e.i18n instanceof Xs&&(t.previousMessage=e.i18n),e.i18n=t),t}var cm=(hm.prototype._generateI18nMessage=function(e,t,n){var r=this._parseMetadata(t=void 0===t?"":t),i=r.meaning,s=r.description,r=r.customId,n=this._createI18nMessage(e,i,s,r,n);return this._setMessageId(n,t),this._setLegacyIds(n,t),n},hm.prototype.visitElement=function(e){var t,n,r,i;if(e.attrs.some(function(e){return ca(e.name)})){this.hasI18nMeta=!0;var s=[],o={};try{for(var a,u,p=D(e.attrs),l=p.next();!l.done;l=p.next())"i18n"===(d=l.value).name?(a=e.i18n||d.value,(u=this._generateI18nMessage(e.children,a,lm)).nodes.length&&(e.i18n=u)):d.name.startsWith("i18n-")?o[d.name.slice("i18n-".length)]=d.value:s.push(d)}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}if(Object.keys(o).length)try{for(var c=D(s),h=c.next();!h.done;h=c.next()){var d,f=o[(d=h.value).name];void 0!==f&&d.value&&(d.i18n=this._generateI18nMessage([d],d.i18n||f))}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}this.keepI18nAttrs||(e.attrs=s)}return yc(this,e.children,e.i18n),e},hm.prototype.visitExpansion=function(e,t){var n,r,i=e.i18n;return this.hasI18nMeta=!0,i instanceof to?(r=i.name,fa(n=this._generateI18nMessage([e],i)).name=r):n=this._generateI18nMessage([e],t||i),e.i18n=n,e},hm.prototype.visitText=function(e){return e},hm.prototype.visitAttribute=function(e){return e},hm.prototype.visitComment=function(e){return e},hm.prototype.visitExpansionCase=function(e){return e},hm.prototype._parseMetadata=function(e){return"string"==typeof e?((t=(t=void 0===(t=e)?"":t).trim())&&(n=t.indexOf("@@"),i=t.indexOf("|"),r=void 0,r=(n=T(-1<n?[t.slice(0,n),t.slice(n+2)]:[t,""],2))[0],n=n[1],r=(i=T(-1<i?[r.slice(0,i),r.slice(i+1)]:["",r],2))[0],i=i[1]),{customId:n,meaning:r,description:i}):e instanceof Xs?e:{};var t,n,r,i},hm.prototype._setMessageId=function(e,t){e.id||(e.id=t instanceof Xs&&t.id||mo(e))},hm.prototype._setLegacyIds=function(e,t){this.enableI18nLegacyMessageIdFormat?e.legacyIds=[fo(e),vo(e)]:"string"!=typeof t&&(t=t instanceof Xs?t:t instanceof to?t.previousMessage:void 0,e.legacyIds=t?t.legacyIds:[])},hm);function hm(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this.interpolationConfig=e=void 0===e?Ka:e,this.keepI18nAttrs=t,this.enableI18nLegacyMessageIdFormat=n,this.hasI18nMeta=!1,this._createI18nMessage=sm(this.interpolationConfig)}var dm=(fm.prototype.formatPh=function(e){return"{$"+Ea(e)+"}"},fm.prototype.visitText=function(e){return e.value},fm.prototype.visitContainer=function(e){var t=this;return e.children.map(function(e){return e.visit(t)}).join("")},fm.prototype.visitIcu=em,fm.prototype.visitTagPlaceholder=function(e){var t=this;return e.isVoid?this.formatPh(e.startName):""+this.formatPh(e.startName)+e.children.map(function(e){return e.visit(t)}).join("")+this.formatPh(e.closeName)},fm.prototype.visitPlaceholder=function(e){return this.formatPh(e.name)},fm.prototype.visitIcuPlaceholder=function(e,t){return this.formatPh(e.name)},new fm);function fm(){}var mm,vm,s=function(e){this.text=e},ym=(h(Sm,vm=s),Sm),gm=(h(xm,mm=s),xm),_m=(Em.prototype.visitText=function(e,t){t[t.length-1]instanceof ym?t[t.length-1].text+=e.value:t.push(new ym(e.value))},Em.prototype.visitContainer=function(e,t){var n=this;e.children.forEach(function(e){return e.visit(n,t)})},Em.prototype.visitIcu=function(e,t){t.push(new ym(em(e)))},Em.prototype.visitTagPlaceholder=function(e,t){var n=this;t.push(new gm(e.startName)),e.isVoid||(e.children.forEach(function(e){return e.visit(n,t)}),t.push(new gm(e.closeName)))},Em.prototype.visitPlaceholder=function(e,t){t.push(new gm(e.name))},Em.prototype.visitIcuPlaceholder=function(e,t){t.push(new gm(e.name))},new Em);function Em(){}function xm(e){return mm.call(this,Ea(e,!1))||this}function Sm(){return null!==vm&&vm.apply(this,arguments)||this}var wm=new Map([["window",ts.resolveWindow],["document",ts.resolveDocument],["body",ts.resolveBody]]),Cm=[" ","\n","\r","\t"];function bm(e,t){return Ar(xr("rf").bitwiseAnd(Mr(e),null,!1),t)}function Tm(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=e.type,i=e.name,s=e.target,o=e.phase,a=e.handler;if(s&&!wm.has(s))throw new Error("Unexpected global target '"+s+"' defined for '"+i+"' event.\n        Supported list of global targets: "+Array.from(wm.keys())+".");var u=new Set,p=null===n||0===n.bindingLevel?xr("ctx"):n.getOrCreateSharedContextVar(0),a=tl(n,p,a,"b",function(){return qr("Unexpected interpolation")},e.handlerSpan,u),e=[];n&&(e.push.apply(e,B(n.restoreViewStatement())),e.push.apply(e,B(n.variableDeclarations()))),e.push.apply(e,B(a.render3Stmts));o=1===r?"@"+i+"."+o:i,i=t&&bi(t),t=[];u.has("$event")&&t.push(new Wt("$event",Te));i=Nr(t,e,Pe,null,i),i=[Mr(o),i];return s&&i.push(Mr(!1),Sr(wm.get(s))),i}var Pm,Nm=(km.prototype.buildTemplateFunction=function(e,t,n,r){var i=this;this._ngContentSelectorsOffset=n=void 0===n?0:n,this._namespace!==ts.namespaceHTML&&this.creationInstruction(null,this._namespace),t.forEach(function(e){return i.registerContextVariables(e)});n=this.i18nContext||ha(r)&&!da(r)&&!(1===e.length&&e[0]instanceof As&&e[0].i18n===r),t=Km(e);n&&this.i18nStart(null,r,t),Gs(this,e),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach(function(e){return e()}),0===this.level&&this._ngContentReservedSlots.length&&(o=[],(1<this._ngContentReservedSlots.length||"*"!==this._ngContentReservedSlots[0])&&(s=this._ngContentReservedSlots.map(function(e){return"*"!==e?ce(e):e}),o.push(this.constantPool.getConstLiteral(Ta(s),!0))),this.creationInstruction(null,ts.projectionDef,o,!0)),n&&this.i18nEnd(null,t);var s=this._creationCodeFns.map(function(e){return e()}),o=this._updateCodeFns.map(function(e){return e()}),n=this._bindingScope.viewSnapshotStatements(),t=this._bindingScope.variableDeclarations().concat(this._tempVariables),s=0<s.length?[bm(1,n.concat(s))]:[],o=0<o.length?[bm(2,t.concat(o))]:[];return Nr([new Wt("rf",Ae),new Wt("ctx",null)],B(this._prefixCode,s,o),Pe,null,this.templateName)},km.prototype.getLocal=function(e){return this._bindingScope.get(e)},km.prototype.notifyImplicitReceiverUse=function(){this._bindingScope.notifyImplicitReceiverUse()},km.prototype.i18nTranslate=function(e,t,n,r){void 0===t&&(t={});n=n||xr(this.constantPool.uniqueName("I18N_")),t=function(e,t,n,r,i){void 0===r&&(r={});var s,o,a,u,n=[new Mn(t.name,void 0,Pe,null,t.sourceSpan),Ar(br(xr("ngI18nClosureMode")).notIdentical(Mr("undefined",Me)).and(xr("ngI18nClosureMode")),function(e,t,n,r){var i=[Mr(t.nodes.map(function(e){return e.visit(dm,null)}).join(""))];Object.keys(r).length&&i.push(gu(r,!0));var s=[];return null!==(r=(r=[],(t=t).description&&r.push({tagName:"desc",text:t.description}),t.meaning&&r.push({tagName:"meaning",text:t.meaning}),0==r.length?null:new Un(r)))&&s.push(r),s.push(n.set(xr("goog.getMsg").callFn(i)).toConstDecl()),s.push(new kn(e.set(n))),s}(t,e,n,_a(r,!0)),(s=t,o=e,a=_a(r,!1),n=[],r=(e=(u=[],o.nodes.forEach(function(e){return e.visit(_m,u)}),function(e){var t=[],n=[];e[0]instanceof gm&&t.push("");for(var r=0;r<e.length;r++){var i=e[r];i instanceof ym?t.push(i.text):(n.push(i.text),e[r-1]instanceof gm&&t.push(""))}return e[e.length-1]instanceof gm&&t.push(""),{messageParts:t,placeHolders:n}}(u))).messageParts,e=e.placeHolders,n.push(new kn(s.set((s=o,o=r,e=(r=e).map(function(e){return a[e]}),new mt(s,o,r,e,void 0))))),n))];return i&&n.push(new kn(t.set(i(t)))),n}(e,n,this.i18nGenerateClosureVar(e.id),t,r);return(r=this.constantPool.statements).push.apply(r,B(t)),n},km.prototype.registerContextVariables=function(n){var e=this._bindingScope.freshReferenceName(),r=this.level,i=xr(n.name+e);this._bindingScope.set(r,n.name,i,1,function(e,t){return t=e.bindingLevel===r?xr("ctx"):e.getSharedContextName(r)||Fm(t),[i.set(t.prop(n.value||"$implicit")).toConstDecl()]})},km.prototype.i18nAppendBindings=function(e){var t=this;0<e.length&&e.forEach(function(e){return t.i18n.appendBinding(e)})},km.prototype.i18nBindProps=function(i){var s=this,a={};return Object.keys(i).forEach(function(e){var t,o,n,r=i[e];r instanceof Cs?a[e]=Mr(r.value):(n=r.value.visit(s._valueConverter),s.allocateBindingSlots(n),n instanceof hp&&(t=n.strings,r=n.expressions,n=s.i18n,o=n.id,n=function(e,t,n){if(void 0===t&&(t=0),void 0===o&&(n=0),!e.length)return"";for(var r="",i=e.length-1,s=0;s<i;s++)r+=""+e[s]+ma(t+s,n);return r+e[i]}(t,n.bindings.size,o),s.i18nAppendBindings(r),a[e]=Mr(n)))}),a},km.prototype.i18nGenerateClosureVar=function(e){var t,n,r=this.fileBasedI18nSuffix.toUpperCase();return xr(this.i18nUseExternalIds?(t=xa("EXTERNAL_"),n=this.constantPool.uniqueName(r),""+t+bi(e)+"$$"+n):(t=xa(r),this.constantPool.uniqueName(t)))},km.prototype.i18nUpdateRef=function(e){var r,i,t=e.icus,n=e.meta,s=e.isRoot,o=e.isResolved,a=e.isEmitted;s&&o&&!a&&!da(n)&&(e.isEmitted=!0,a=e.getSerializedPlaceholders(),r={},i=a.size?va(a):{},t.size&&t.forEach(function(e,t){var n;1===e.length?i[t]=e[0]:(n=ma("I18N_EXP_"+t),i[t]=Mr(n),r[t]=Tr(e))}),t=void 0,(Array.from(a.values()).some(function(e){return 1<e.length})||Object.keys(r).length)&&(t=function(e){e=[e];return Object.keys(r).length&&e.push(gu(r,!0)),Om(null,ts.i18nPostprocess,e)}),this.i18nTranslate(n,i,e.ref,t))},km.prototype.i18nStart=function(e,t,n){void 0===e&&(e=null);var r=this.allocateDataSlot();this.i18nContext?this.i18n=this.i18nContext.forkChildContext(r,this.templateIndex,t):(i=xr(this.constantPool.uniqueName("I18N_")),this.i18n=new Kf(r,i,0,this.templateIndex,t));var i=this.i18n,t=i.id,i=i.ref,i=[Mr(r),i];0<t&&i.push(Mr(t)),this.creationInstruction(e,n?ts.i18n:ts.i18nStart,i)},km.prototype.i18nEnd=function(t,e){var n=this;if(void 0===t&&(t=null),!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);var r,i=this.i18n,s=i.index,i=i.bindings;i.size&&(r=[],i.forEach(function(e){r.push({sourceSpan:t,value:function(){return n.convertPropertyBinding(e)}})}),this.updateInstructionChainWithAdvance(this.getConstCount()-1,ts.i18nExp,r),this.updateInstruction(t,ts.i18nApply,[Mr(s)])),e||this.creationInstruction(t,ts.i18nEnd),this.i18n=null},km.prototype.i18nAttributesInstruction=function(e,t,i){var s=this,o=!1,a=[],u=[];t.forEach(function(e){var t,n,r=e.i18n;e instanceof Ts?a.push(Mr(e.name),s.i18nTranslate(r)):(t=e.value.visit(s._valueConverter),s.allocateBindingSlots(t),t instanceof hp&&(n=va(ga(r)),a.push(Mr(e.name),s.i18nTranslate(r,n)),t.expressions.forEach(function(e){o=!0,u.push({sourceSpan:i,value:function(){return s.convertPropertyBinding(e)}})})))}),0<u.length&&this.updateInstructionChainWithAdvance(e,ts.i18nExp,u),0<a.length&&(t=Mr(this.allocateDataSlot()),e=this.constantPool.getConstLiteral(Tr(a),!0),this.creationInstruction(i,ts.i18nAttributes,[t,e]),o&&this.updateInstruction(i,ts.i18nApply,[t]))},km.prototype.getNamespaceInstruction=function(e){switch(e){case"math":return ts.namespaceMathML;case"svg":return ts.namespaceSVG;default:return ts.namespaceHTML}},km.prototype.addNamespaceInstruction=function(e,t){this._namespace=e,this.creationInstruction(t.sourceSpan,e)},km.prototype.interpolatedUpdateInstruction=function(e,t,n,r,i,s){var o=this;this.updateInstructionWithAdvance(t,r.sourceSpan,e,function(){return B([Mr(n)],o.getUpdateInstructionArguments(i),s)})},km.prototype.visitContent=function(e){var t=this.allocateDataSlot(),n=this._ngContentSelectorsOffset+this._ngContentReservedSlots.length,r=[Mr(t)];this._ngContentReservedSlots.push(e.selector);var i=e.attributes.filter(function(e){return"select"!==e.name.toLowerCase()}),i=this.getAttributeExpressions(i,[],[]);0<i.length?r.push(Mr(n),Tr(i)):0!==n&&r.push(Mr(n)),this.creationInstruction(e.sourceSpan,ts.projection,r),this.i18n&&this.i18n.appendProjection(e.i18n,t)},km.prototype.visitElement=function(t){var e,l=this,c=this.allocateDataSlot(),n=new Kd(null),r=!1,i=ha(t.i18n)&&!da(t.i18n),s=[],o=[],a=T(P(t.name),2),u=a[0],p=a[1],a=N(t.name);try{for(var h=D(t.attributes),d=h.next();!d.done;d=h.next()){var f=d.value,m=f.name,v=f.value;"ngNonBindable"===m?r=!0:"style"===m?n.registerStyleAttr(v):"class"===m?n.registerClassAttr(v):(f.i18n?s:o).push(f)}}catch(t){y={error:t}}finally{try{d&&!d.done&&(e=h.return)&&e.call(h)}finally{if(y)throw y.error}}this.matchDirectives(t.name,t);var y=[Mr(c)];a||y.push(Mr(p));var g=[];t.inputs.forEach(function(e){n.registerBoundInput(e)||(0===e.type&&e.i18n?s:g).push(e)});p=this.getAttributeExpressions(o,g,t.outputs,n,[],s);y.push(this.addAttrsToConsts(p));p=this.prepareRefsArray(t.references);y.push(this.addToConsts(p));p=this._namespace,u=this.getNamespaceInstruction(u);u!==p&&this.addNamespaceInstruction(u,t),this.i18n&&this.i18n.appendElement(t.i18n,c);p=!i&&this.i18n?!Km(t.children):0<t.children.length,u=!n.hasBindingsWithPipes&&0===t.outputs.length&&0===s.length&&!p,p=!u&&Km(t.children);u?this.creationInstruction(t.sourceSpan,a?ts.elementContainer:ts.element,Na(y)):(this.creationInstruction(t.sourceSpan,a?ts.elementContainerStart:ts.elementStart,Na(y)),r&&this.creationInstruction(t.sourceSpan,ts.disableBindings),0<s.length&&this.i18nAttributesInstruction(c,s,t.sourceSpan),0<t.outputs.length&&(y=t.outputs.map(function(e){return{sourceSpan:e.sourceSpan,params:l.prepareListenerParameter(t.name,e,c)}}),this.creationInstructionChain(ts.listener,y)),i&&this.i18nStart(t.sourceSpan,t.i18n,p));for(var _=n.buildUpdateLevelInstructions(this._valueConverter),E=_.length-1,x=0;x<=E;x++){var S=_[x];this._bindingSlots+=this.processStylingUpdateInstruction(c,S)}var w=Mr(void 0),C=[],b=[];g.forEach(function(e){var t,n,r,i,s,o,a,u,p=e.type;4===p?(t=e.value.visit(l._valueConverter),n=!(t instanceof pp&&!t.value),l.allocateBindingSlots(t),C.push({name:"@"+e.name,sourceSpan:e.sourceSpan,value:function(){return n?l.convertPropertyBinding(t):w}})):e.i18n||void 0!==(r=e.value.visit(l._valueConverter))&&(i=[],a=(o=T(P(e.name),2))[0],s=o[1],(o=Wm(e.securityContext,1===p))&&i.push(o),a&&(a=Mr(a),o?i.push(a):i.push(Mr(null),a)),l.allocateBindingSlots(r),0===p?r instanceof hp?l.interpolatedUpdateInstruction(function(){switch(La(r)){case 1:return ts.propertyInterpolate;case 3:return ts.propertyInterpolate1;case 5:return ts.propertyInterpolate2;case 7:return ts.propertyInterpolate3;case 9:return ts.propertyInterpolate4;case 11:return ts.propertyInterpolate5;case 13:return ts.propertyInterpolate6;case 15:return ts.propertyInterpolate7;case 17:return ts.propertyInterpolate8;default:return ts.propertyInterpolateV}}(),c,s,e,r,i):C.push({name:s,sourceSpan:e.sourceSpan,value:function(){return l.convertPropertyBinding(r)},params:i}):1===p?r instanceof hp&&1<La(r)?l.interpolatedUpdateInstruction(function(){switch(La(r)){case 3:return ts.attributeInterpolate1;case 5:return ts.attributeInterpolate2;case 7:return ts.attributeInterpolate3;case 9:return ts.attributeInterpolate4;case 11:return ts.attributeInterpolate5;case 13:return ts.attributeInterpolate6;case 15:return ts.attributeInterpolate7;case 17:return ts.attributeInterpolate8;default:return ts.attributeInterpolateV}}(),c,s,e,r,i):(u=r instanceof hp?r.expressions[0]:r,b.push({name:s,sourceSpan:e.sourceSpan,value:function(){return l.convertPropertyBinding(u)},params:i})):l.updateInstructionWithAdvance(c,e.sourceSpan,ts.classProp,function(){return B([Mr(c),Mr(s),l.convertPropertyBinding(r)],i)}))}),0<C.length&&this.updateInstructionChainWithAdvance(c,ts.property,C),0<b.length&&this.updateInstructionChainWithAdvance(c,ts.attribute,b),Gs(this,t.children),!i&&this.i18n&&this.i18n.appendElement(t.i18n,c,!0),u||(u=t.endSourceSpan||t.sourceSpan,i&&this.i18nEnd(u,p),r&&this.creationInstruction(u,ts.enableBindings),this.creationInstruction(u,a?ts.elementContainerEnd:ts.elementEnd))},km.prototype.visitTemplate=function(t){var n=this,r=this.allocateDataSlot();this.i18n&&this.i18n.appendTemplate(t.i18n,r);var e=bi(t.tagName||""),i=this.contextName+(e?"_"+e:"")+"_"+r,s=i+"_Template",o=[Mr(r),xr(s),Mr(t.tagName&&P(t.tagName)[1])];this.matchDirectives("ng-template",t);e=this.getAttributeExpressions(t.attributes,t.inputs,t.outputs,void 0,t.templateAttrs,void 0);o.push(this.addAttrsToConsts(e)),t.references&&t.references.length&&(e=this.prepareRefsArray(t.references),o.push(this.addToConsts(e)),o.push(Sr(ts.templateRefExtractor)));var a=new km(this.constantPool,this._bindingScope,this.level+1,i,this.i18n,r,s,this.directiveMatcher,this.directives,this.pipeTypeByName,this.pipes,this._namespace,this.fileBasedI18nSuffix,this.i18nUseExternalIds,this._constants);this._nestedTemplateFns.push(function(){var e=a.buildTemplateFunction(t.children,t.variables,n._ngContentReservedSlots.length+n._ngContentSelectorsOffset,t.i18n);n.constantPool.statements.push(e.toDeclStmt(s,null)),a._ngContentReservedSlots.length&&(e=n._ngContentReservedSlots).push.apply(e,B(a._ngContentReservedSlots))}),this.creationInstruction(t.sourceSpan,ts.templateCreate,function(){return o.splice(2,0,Mr(a.getConstCount()),Mr(a.getVarCount())),Na(o)}),this.templatePropertyBindings(r,t.templateAttrs),"ng-template"===t.tagName&&(0<(i=t.attributes.filter(function(e){return!!e.i18n})).length&&this.i18nAttributesInstruction(r,i,t.sourceSpan),this.templatePropertyBindings(r,t.inputs),0<t.outputs.length&&(i=t.outputs.map(function(e){return{sourceSpan:e.sourceSpan,params:n.prepareListenerParameter("ng_template",e,r)}}),this.creationInstructionChain(ts.listener,i)))},km.prototype.visitBoundText=function(e){var t=this;if(this.i18n){var n=e.value.visit(this._valueConverter);return this.allocateBindingSlots(n),void(n instanceof hp&&(this.i18n.appendBoundText(e.i18n),this.i18nAppendBindings(n.expressions)))}n=this.allocateDataSlot();this.creationInstruction(e.sourceSpan,ts.text,[Mr(n)]);var r=e.value.visit(this._valueConverter);this.allocateBindingSlots(r),r instanceof hp?this.updateInstructionWithAdvance(n,e.sourceSpan,function(){switch(La(r)){case 1:return ts.textInterpolate;case 3:return ts.textInterpolate1;case 5:return ts.textInterpolate2;case 7:return ts.textInterpolate3;case 9:return ts.textInterpolate4;case 11:return ts.textInterpolate5;case 13:return ts.textInterpolate6;case 15:return ts.textInterpolate7;case 17:return ts.textInterpolate8;default:return ts.textInterpolateV}}(),function(){return t.getUpdateInstructionArguments(r)}):qr("Text nodes should be interpolated and never bound directly.")},km.prototype.visitText=function(e){this.i18n||this.creationInstruction(e.sourceSpan,ts.text,[Mr(this.allocateDataSlot()),Mr(e.value)])},km.prototype.visitIcu=function(e){var t=!1;this.i18n||this.i18nStart(null,e.i18n,t=!0);var n=this.i18n,r=this.i18nBindProps(e.vars),i=this.i18nBindProps(e.placeholders),s=e.i18n,e=function(e){var t=_a(d(d({},r),i),!1);return Om(null,ts.i18nPostprocess,[e,gu(t,!0)])};return da(n.meta)?this.i18nTranslate(s,{},n.ref,e):(e=this.i18nTranslate(s,{},void 0,e),n.appendIcu(fa(s).name,e)),t&&this.i18nEnd(null,!0),null},km.prototype.allocateDataSlot=function(){return this._dataIndex++},km.prototype.getConstCount=function(){return this._dataIndex},km.prototype.getVarCount=function(){return this._pureFunctionSlots},km.prototype.getConsts=function(){return this._constants},km.prototype.getNgContentSelectors=function(){return this._ngContentReservedSlots.length?this.constantPool.getConstLiteral(Ta(this._ngContentReservedSlots),!0):null},km.prototype.bindingContext=function(){return""+this._bindingContext++},km.prototype.templatePropertyBindings=function(e,t){var n=this,r=[];t.forEach(function(e){var t;e instanceof Ps&&(void 0!==(t=e.value.visit(n._valueConverter))&&(n.allocateBindingSlots(t),r.push({name:e.name,sourceSpan:e.sourceSpan,value:function(){return n.convertPropertyBinding(t)}})))}),0<r.length&&this.updateInstructionChainWithAdvance(e,ts.property,r)},km.prototype.instructionFn=function(e,t,n,r,i){e[(i=void 0===i?!1:i)?"unshift":"push"](function(){var e=Array.isArray(r)?r:r();return Om(t,n,e).toStmt()})},km.prototype.processStylingUpdateInstruction=function(e,t){var n,r=this,i=0;return t&&(n=[],t.calls.forEach(function(t){i+=t.allocateBindingSlots,n.push({sourceSpan:t.sourceSpan,value:function(){return t.params(function(e){return t.supportsInterpolation&&e instanceof hp?r.getUpdateInstructionArguments(e):r.convertPropertyBinding(e)})}})}),this.updateInstructionChainWithAdvance(e,t.reference,n)),i},km.prototype.creationInstruction=function(e,t,n,r){this.instructionFn(this._creationCodeFns,e,t,n||[],r)},km.prototype.creationInstructionChain=function(e,t){var n=t.length?t[0].sourceSpan:null;this._creationCodeFns.push(function(){return Fa(e,t.map(function(e){return e.params()}),n).toStmt()})},km.prototype.updateInstructionWithAdvance=function(e,t,n,r){this.addAdvanceInstructionIfNecessary(e,t),this.updateInstruction(t,n,r)},km.prototype.updateInstruction=function(e,t,n){this.instructionFn(this._updateCodeFns,e,t,n||[])},km.prototype.updateInstructionChain=function(t,n){var r=n.length?n[0].sourceSpan:null;this._updateCodeFns.push(function(){var e=n.map(function(e){var t=e.value(),t=Array.isArray(t)?t:[t];return e.params&&t.push.apply(t,B(e.params)),e.name&&t.unshift(Mr(e.name)),t});return Fa(t,e,r).toStmt()})},km.prototype.updateInstructionChainWithAdvance=function(e,t,n){this.addAdvanceInstructionIfNecessary(e,n.length?n[0].sourceSpan:null),this.updateInstructionChain(t,n)},km.prototype.addAdvanceInstructionIfNecessary=function(e,t){if(e!==this._currentIndex){var n=e-this._currentIndex;if(n<1)throw new Error("advance instruction can only go forwards");this.instructionFn(this._updateCodeFns,t,ts.advance,[Mr(n)]),this._currentIndex=e}},km.prototype.allocatePureFunctionSlots=function(e){var t=this._pureFunctionSlots;return this._pureFunctionSlots+=e,t},km.prototype.allocateBindingSlots=function(e){this._bindingSlots+=e instanceof hp?e.expressions.length:1},km.prototype.getImplicitReceiverExpr=function(){return this._implicitReceiverExpr||(this._implicitReceiverExpr=0===this.level?xr("ctx"):this._bindingScope.getOrCreateSharedContextVar(0))},km.prototype.convertPropertyBinding=function(e){var t=ol(this,this.getImplicitReceiverExpr(),e,this.bindingContext(),rl.TrySimple,function(){return qr("Unexpected interpolation")}),n=t.currValExpr;return(e=this._tempVariables).push.apply(e,B(t.stmts)),n},km.prototype.getUpdateInstructionArguments=function(e){var t=function(e,t,n,r){var i=new fl(e,t,r,void 0),t=n.visit(i,il.Expression);i.usesImplicitReceiver&&e.notifyImplicitReceiverUse();r=al(i,r),t=t.args.slice(1);return n instanceof hp&&(n=n.strings,3===t.length&&""===n[0]&&""===n[1]?t=[t[1]]:19<=t.length&&(t=[Tr(t)])),{stmts:r,args:t}}(this,this.getImplicitReceiverExpr(),e,this.bindingContext()),n=t.args,e=t.stmts;return(t=this._tempVariables).push.apply(t,B(e)),n},km.prototype.matchDirectives=function(e,t){var n=this;this.directiveMatcher&&(t=jm(e,Oa(t)),this.directiveMatcher.match(t,function(e,t){n.directives.add(t)}))},km.prototype.getAttributeExpressions=function(e,t,n,r,i,s){void 0===i&&(i=[]),void 0===s&&(s=[]);var o,a=new Set,u=[];function p(e,t){"string"==typeof e?a.has(e)||(u.push.apply(u,B(Dm(e))),void 0!==t&&u.push(t),a.add(e)):u.push(Mr(e))}if(e.forEach(function(e){"ngProjectAs"===e.name&&(o=e),u.push.apply(u,B(Dm(e.name),[Ta(e.value)]))}),o&&u.push.apply(u,B((e=ce(o.value)[0],[Mr(5),Ta(e)]))),r&&r.populateInitialStylingAttrs(u),t.length||n.length){for(var r=u.length,l=0;l<t.length;l++){var c=t[l];4!==c.type&&1!==c.type&&p(c.name)}for(l=0;l<n.length;l++){var h=n[l];1!==h.type&&p(h.name)}u.length!==r&&u.splice(r,0,Mr(3))}return i.length&&(u.push(Mr(4)),i.forEach(function(e){return p(e.name)})),s.length&&(u.push(Mr(6)),s.forEach(function(e){return p(e.name)})),u},km.prototype.addToConsts=function(e){if(Ir(e))return en;for(var t=0;t<this._constants.length;t++)if(this._constants[t].isEquivalent(e))return Mr(t);return Mr(this._constants.push(e)-1)},km.prototype.addAttrsToConsts=function(e){return 0<e.length?this.addToConsts(Tr(e)):en},km.prototype.prepareRefsArray=function(e){var s=this;return e&&0!==e.length?Ta(Gi(e.map(function(e){var r=s.allocateDataSlot(),t=s._bindingScope.freshReferenceName(),n=s.level,i=xr(t);return s._bindingScope.set(n,e.name,i,0,function(e,t){var n=0<t?[Fm(t).toStmt()]:[],t=i.set(Sr(ts.reference).callFn([Mr(r)]));return n.concat(t.toConstDecl())},!0),[e.name,e.value]}))):en},km.prototype.prepareListenerParameter=function(n,r,i){var s=this;return function(){var e=r.name,t=1===r.type?os(e,r.phase):bi(e),e=s.templateName+"_"+n+"_"+t+"_"+i+"_listener",t=s._bindingScope.nestedScope(s._bindingScope.bindingLevel);return Tm(r,e,t)}},km),Am=(h(Im,Pm=On),Im.prototype.visitPipe=function(e,t){var n=this.allocateSlot(),r="PIPE:"+n,i=this.allocatePureFunctionSlots(2+e.args.length),s=new rp(e.span,e.sourceSpan,new ep(e.span,e.sourceSpan),r),o=function(e){e=Mm[e.length];return{identifier:e||ts.pipeBindV,isVarLength:!e}}(e.args),a=o.identifier,o=o.isVarLength;this.definePipe(e.name,r,n,Sr(a));a=B([e.exp],e.args),a=o?this.visitAll([new lp(e.span,e.sourceSpan,a)]):this.visitAll(a),a=new gp(e.span,e.sourceSpan,s,B([new pp(e.span,e.sourceSpan,n),new pp(e.span,e.sourceSpan,i)],a));return this._pipeBindExprs.push(a),a},Im.prototype.updatePipeSlotOffsets=function(t){this._pipeBindExprs.forEach(function(e){e.args[1].value+=t})},Im.prototype.visitLiteralArray=function(e,t){var n=this;return new El(e.span,e.sourceSpan,this.visitAll(e.expressions),function(e){e=Tr(e);return Lm(n.constantPool,e,n.allocatePureFunctionSlots)})},Im.prototype.visitLiteralMap=function(n,e){var t=this;return new El(n.span,n.sourceSpan,this.visitAll(n.values),function(e){e=Pr(e.map(function(e,t){return{key:n.keys[t].key,value:e,quoted:n.keys[t].quoted}}));return Lm(t.constantPool,e,t.allocatePureFunctionSlots)})},Im),Mm=[ts.pipeBind1,ts.pipeBind2,ts.pipeBind3,ts.pipeBind4];function Im(e,t,n,r){var i=Pm.call(this)||this;return i.constantPool=e,i.allocateSlot=t,i.allocatePureFunctionSlots=n,i.definePipe=r,i._pipeBindExprs=[],i}function km(e,t,n,r,i,s,o,a,u,p,l,c,h,d,f){var m=this;void 0===n&&(n=0),void 0===f&&(f=[]),this.constantPool=e,this.level=n,this.contextName=r,this.i18nContext=i,this.templateIndex=s,this.templateName=o,this.directiveMatcher=a,this.directives=u,this.pipeTypeByName=p,this.pipes=l,this._namespace=c,this.i18nUseExternalIds=d,this._constants=f,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._currentIndex=0,this._tempVariables=[],this._nestedTemplateFns=[],this._unsupported=Ca,this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this._ngContentReservedSlots=[],this._ngContentSelectorsOffset=0,this._implicitReceiverExpr=null,this.visitReference=ba,this.visitVariable=ba,this.visitTextAttribute=ba,this.visitBoundAttribute=ba,this.visitBoundEvent=ba,this._bindingScope=t.nestedScope(n),this.fileBasedI18nSuffix=h.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new Am(e,function(){return m.allocateDataSlot()},function(e){return m.allocatePureFunctionSlots(e)},function(e,t,n,r){var i=p.get(e);i&&m.pipes.add(i),m._bindingScope.set(m.level,t,r),m.creationInstruction(null,ts.pipe,[Mr(n),Mr(e)])})}var Rm=[ts.pureFunction0,ts.pureFunction1,ts.pureFunction2,ts.pureFunction3,ts.pureFunction4,ts.pureFunction5,ts.pureFunction6,ts.pureFunction7,ts.pureFunction8];function Om(e,t,n){return Sr(t,null,e).callFn(n,e)}function Fm(e){return Sr(ts.nextContext).callFn(1<e?[Mr(e)]:[])}function Lm(e,t,n){var r=e.getLiteralFactory(t),i=r.literalFactory,e=r.literalFactoryArguments,t=n(1+e.length),n={identifier:(r=Rm[e.length])||ts.pureFunctionV,isVarLength:!r},r=n.identifier,n=n.isVarLength,i=[Mr(t),i];return n?i.push(Tr(e)):i.push.apply(i,B(e)),Sr(r).callFn(i)}function Dm(e){var t=T(P(e),2),e=t[0],t=Mr(t[1]);return e?[Mr(0),Mr(e),t]:[t]}var Bm=(Object.defineProperty(Vm,"ROOT_SCOPE",{get:function(){return Vm._ROOT_SCOPE=!Vm._ROOT_SCOPE?(new Vm).set(0,"$event",xr("$event")):Vm._ROOT_SCOPE},enumerable:!0,configurable:!0}),Vm.prototype.get=function(e){for(var t=this;t;){var n=t.map.get(e);if(null!=n)return t!==this&&(n={retrievalLevel:n.retrievalLevel,lhs:n.lhs,declareLocalCallback:n.declareLocalCallback,declare:!1,priority:n.priority,localRef:n.localRef},this.map.set(e,n),this.maybeGenerateSharedContextVar(n),this.maybeRestoreView(n.retrievalLevel,n.localRef)),n.declareLocalCallback&&!n.declare&&(n.declare=!0),n.lhs;t=t.parent}return 0===this.bindingLevel?null:this.getComponentProperty(e)},Vm.prototype.set=function(e,t,n,r,i,s){if(void 0===r&&(r=0),this.map.has(t)){if(s)return this;qr("The name "+t+" is already defined in scope to be "+this.map.get(t))}return this.map.set(t,{retrievalLevel:e,lhs:n,declare:!1,declareLocalCallback:i,priority:r,localRef:s||!1}),this},Vm.prototype.getLocal=function(e){return this.get(e)},Vm.prototype.notifyImplicitReceiverUse=function(){0!==this.bindingLevel&&(this.map.get("$$shared_ctx$$0").declare=!0)},Vm.prototype.nestedScope=function(e){var t=new Vm(e,this);return 0<e&&t.generateSharedContextVar(0),t},Vm.prototype.getOrCreateSharedContextVar=function(e){var t="$$shared_ctx$$"+e;return this.map.has(t)||this.generateSharedContextVar(e),this.map.get(t).lhs},Vm.prototype.getSharedContextName=function(e){e=this.map.get("$$shared_ctx$$"+e);return e&&e.declare?e.lhs:null},Vm.prototype.maybeGenerateSharedContextVar=function(e){var t;1===e.priority&&e.retrievalLevel<this.bindingLevel&&((t=this.map.get("$$shared_ctx$$"+e.retrievalLevel))?t.declare=!0:this.generateSharedContextVar(e.retrievalLevel))},Vm.prototype.generateSharedContextVar=function(e){var n=xr("ctx"+this.freshReferenceName());this.map.set("$$shared_ctx$$"+e,{retrievalLevel:e,lhs:n,declareLocalCallback:function(e,t){return[n.set(Fm(t)).toConstDecl()]},declare:!1,priority:2,localRef:!1})},Vm.prototype.getComponentProperty=function(e){var t=this.map.get("$$shared_ctx$$0");return t.declare=!0,this.maybeRestoreView(0,!1),t.lhs.prop(e)},Vm.prototype.maybeRestoreView=function(e,t){this.isListenerScope()&&(e<this.bindingLevel||t)&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=xr(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)},Vm.prototype.restoreViewStatement=function(){return this.restoreViewVariable?[Om(null,ts.restoreView,[this.restoreViewVariable]).toStmt()]:[]},Vm.prototype.viewSnapshotStatements=function(){var e=Om(null,ts.getCurrentView,[]);return this.restoreViewVariable?[this.restoreViewVariable.set(e).toConstDecl()]:[]},Vm.prototype.isListenerScope=function(){return this.parent&&this.parent.bindingLevel===this.bindingLevel},Vm.prototype.variableDeclarations=function(){var r=this,i=0;return Array.from(this.map.values()).filter(function(e){return e.declare}).sort(function(e,t){return t.retrievalLevel-e.retrievalLevel||t.priority-e.priority}).reduce(function(e,t){var n=r.bindingLevel-t.retrievalLevel,t=t.declareLocalCallback(r,n-i);return i=n,e.concat(t)},[])},Vm.prototype.freshReferenceName=function(){for(var e=this;e.parent;)e=e.parent;return"_r"+e.referenceNameIndex++},Vm);function Vm(e,t){void 0===t&&(t=null),this.bindingLevel=e=void 0===e?0:e,this.parent=t,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null}function jm(e,r){var i=new b,e=P(e)[1];return i.setElement(e),Object.getOwnPropertyNames(r).forEach(function(e){var t=P(e)[1],n=r[e];i.addAttribute(t,n),"class"===e.toLowerCase()&&n.trim().split(/\s+/).forEach(function(e){return i.addClassName(e)})}),i}function Um(e,t,n){var r=(n=void 0===n?{}:n).interpolationConfig,i=n.preserveWhitespaces,s=n.enableI18nLegacyMessageIdFormat,o=qm(r),n=(new Jc).parse(e,t,d(d({leadingTriviaChars:Cm},n),{tokenizeExpansionForms:!0}));if(n.errors&&0<n.errors.length)return{errors:n.errors,nodes:[],styleUrls:[],styles:[]};n=n.rootNodes,s=new cm(r,!i,s),n=yc(s,n);i||(n=yc(new ih,n),s.hasI18nMeta&&(n=yc(new cm(r,!1),n)));s=Bf(n,o),r=s.nodes,n=s.errors,o=s.styleUrls,s=s.styles;return n&&0<n.length?{errors:n,nodes:[],styleUrls:[],styles:[]}:{nodes:r,styleUrls:o,styles:s}}var Hm=new Ff;function qm(e){return void 0===e&&(e=Ka),new hd(new xf(new Jd),e,Hm,null,[])}function Wm(e,t){switch(e){case K.HTML:return Sr(ts.sanitizeHtml);case K.SCRIPT:return Sr(ts.sanitizeScript);case K.STYLE:return t?Sr(ts.sanitizeStyle):null;case K.URL:return Sr(ts.sanitizeUrl);case K.RESOURCE_URL:return Sr(ts.sanitizeResourceUrl);default:return null}}function zm(e){return e instanceof Cs||e instanceof bs||e instanceof Os}function Km(e){return e.every(zm)}var Qm=[],Gm=/attr\.([^\]]+)/;function Xm(e,t,n){var r=new ka,i=ce(e.selector);return r.set("type",e.internalType),0<i.length&&r.set("selectors",Ta(i)),0<e.queries.length&&r.set("contentQueries",function(e,t,n){var r,i,s=[],o=[],a=wa(o,"_t");try{for(var u=D(e),p=u.next();!p.done;p=u.next()){var l=p.value,c=l.static?ts.staticContentQuery:ts.contentQuery;s.push(Sr(c).callFn(B([xr("dirIndex")],tv(l,t))).toStmt());var h=a(),d=Sr(ts.loadQuery).callFn([]),f=Sr(ts.queryRefresh).callFn([h.set(d)]),m=xr("ctx").prop(l.propertyName).set(l.first?h.prop("first"):h);o.push(f.and(m).toStmt())}}catch(e){r={error:e}}finally{try{p&&!p.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}n=n?n+"_ContentQueries":null;return Nr([new Wt("rf",Ae),new Wt("ctx",null),new Wt("dirIndex",null)],[bm(1,s),bm(2,o)],Pe,null,n)}(e.queries,t,e.name)),e.viewQueries.length&&r.set("viewQuery",function(e,r,t){var i=[],s=[],o=wa(s,"_t");e.forEach(function(e){var t=Sr(e.static?ts.staticViewQuery:ts.viewQuery).callFn(tv(e,r));i.push(t.toStmt());var n=o(),t=Sr(ts.loadQuery).callFn([]),t=Sr(ts.queryRefresh).callFn([n.set(t)]),n=xr("ctx").prop(e.propertyName).set(e.first?n.prop("first"):n);s.push(t.and(n).toStmt())});t=t?t+"_Query":null;return Nr([new Wt("rf",Ae),new Wt("ctx",null)],[bm(1,i),bm(2,s)],Pe,null,t)}(e.viewQueries,t,e.name)),r.set("hostBindings",function(e,t,o,n,a,r,i){var u=xr("ctx"),s=new Kd(u),p=e.specialAttributes,l=p.styleAttr,c=p.classAttr;void 0!==l&&s.registerStyleAttr(l),void 0!==c&&s.registerClassAttr(c);var h,d,f,m=[],v=[],p=t,l=ov(e),c=o.createDirectiveHostEventAsts(l,p);c&&c.length&&(h=r,d=[],f=[],t=[],c.forEach(function(e){var t=e.name&&bi(e.name),n=1===e.type?os(t,e.targetOrPhase):t,n=h&&t?h+"_"+n+"_HostBindingHandler":null,n=Tm(Ns.fromParsedEvent(e),n);(1==e.type?f:d).push(n)}),0<f.length&&t.push(Fa(ts.componentHostSyntheticListener,f).toStmt()),0<d.length&&t.push(Fa(ts.listener,d).toStmt()),m.push.apply(m,B(t)));var y,p=o.createBoundHostProperties(l,p),g=[],_=0;p&&p.forEach(function(e){var t=e.name;s.registerInputBasedOnName(t,e.expression,e.sourceSpan)?_+=2:(g.push(e),_++)});function E(){return y=y||new Am(n,function(){return qr("Unexpected node")},function(e){var t=_;return _+=e,t},function(){return qr("Unexpected pipe")})}var x=[],S=[],w=[];g.forEach(function(e){var t,n,r,i=e.expression.visit(E()),s=sv(u,i),i=(n=(t=e).name,r=n.match(Gm),t=r?(n=r[1],ts.attribute):t.isAnimation?(n="@"+n,ts.updateSyntheticHostBinding):ts.hostProperty,{bindingName:n,instruction:t,isAttribute:!!r}),e=i.bindingName,n=i.instruction,t=i.isAttribute,r=o.calcPossibleSecurityContexts(a,e,t).filter(function(e){return e!==K.NONE}),i=null;r.length&&(i=2===r.length&&-1<r.indexOf(K.URL)&&-1<r.indexOf(K.RESOURCE_URL)?Sr(ts.sanitizeUrlOrResourceUrl):Wm(r[0],t));e=[Mr(e),s.currValExpr];i&&e.push(i),v.push.apply(v,B(s.stmts)),n===ts.hostProperty?x.push(e):n===ts.attribute?S.push(e):n===ts.updateSyntheticHostBinding?w.push(e):v.push(Sr(n).callFn(e).toStmt())}),0<x.length&&v.push(Fa(ts.hostProperty,x).toStmt()),0<S.length&&v.push(Fa(ts.attribute,S).toStmt()),0<w.length&&v.push(Fa(ts.updateSyntheticHostBinding,w).toStmt());e=function(e){var t,n,r=[];try{for(var i=D(Object.getOwnPropertyNames(e)),s=i.next();!s.done;s=i.next()){var o=s.value,a=e[o];r.push(Mr(o),a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.attributes);if(s.assignHostAttrs(e,i),s.hasBindings&&s.buildUpdateLevelInstructions(E()).forEach(function(e){var r;0<e.calls.length&&(r=[],e.calls.forEach(function(e){var t,n;_+=Math.max(e.allocateBindingSlots-2,0),r.push((t=u,n=sv,e.params(function(e){return n(t,e).currValExpr})))}),v.push(Fa(e.reference,r).toStmt()))}),_&&i.set("hostVars",Mr(_)),0<m.length||0<v.length){i=r?r+"_HostBindings":null,r=[];return 0<m.length&&r.push(bm(1,m)),0<v.length&&r.push(bm(2,v)),Nr([new Wt("rf",Ae),new Wt("ctx",null)],r,Pe,null,i)}return null}(e.host,e.typeSourceSpan,n,t,e.selector||"",e.name,r)),r.set("inputs",Pa(e.inputs,!0)),r.set("outputs",Pa(e.outputs)),null!==e.exportAs&&r.set("exportAs",Tr(e.exportAs.map(function(e){return Mr(e)}))),r}function $m(e,t){var n=[],r=t.providers,i=t.viewProviders;(r||i)&&(r=[r||new Xt([])],i&&r.push(i),n.push(Sr(ts.ProvidersFeature).callFn(r))),t.usesInheritance&&n.push(Sr(ts.InheritDefinitionFeature)),t.fullInheritance&&n.push(Sr(ts.CopyDefinitionFeature)),t.lifecycle.usesOnChanges&&n.push(Sr(ts.NgOnChangesFeature).callFn(Qm)),n.length&&e.set("features",Tr(n))}function Ym(e,t,n){n=Xm(e,t,n);return $m(n,e),{expression:Sr(ts.defineDirective).callFn([n.toLiteralMap()]),type:iv(e,ts.DirectiveDefWithMeta)}}function Jm(e,t,n){var r=Xm(e,t,n);$m(r,e);var i=e.selector&&b.parse(e.selector),s=i&&i[0];!s||(d=s.getAttrs()).length&&r.set("attrs",t.getConstLiteral(Tr(d.map(function(e){return Mr(null!=e?e:void 0)})),!0));var o=null;if(0<e.directives.length){var a=new A;try{for(var u=D(e.directives),p=u.next();!p.done;p=u.next()){var l=p.value,c=l.selector,h=l.expression;a.addSelectables(b.parse(c),h)}}catch(e){m={error:e}}finally{try{p&&!p.done&&(f=u.return)&&f.call(u)}finally{if(m)throw m.error}}o=a}var n=e.name,i=n?n+"_Template":null,s=new Set,d=new Set,f=e.changeDetection,m=e.template,i=new Nm(t,Bm.ROOT_SCOPE,0,n,null,null,i,o,s,e.pipes,d,ts.namespaceHTML,e.relativeContextFilePath,e.i18nUseExternalIds),o=i.buildTemplateFunction(m.nodes,[]),m=i.getNgContentSelectors();m&&r.set("ngContentSelectors",m),r.set("decls",Mr(i.getConstCount())),r.set("vars",Mr(i.getVarCount()));var v,y,i=i.getConsts();return 0<i.length&&r.set("consts",Tr(i)),r.set("template",o),s.size&&(s=Tr(Array.from(s)),e.wrapDirectivesAndPipesInClosure&&(s=Nr([],[new Rn(s)])),r.set("directives",s)),d.size&&(d=Tr(Array.from(d)),e.wrapDirectivesAndPipesInClosure&&(d=Nr([],[new Rn(d)])),r.set("pipes",d)),null===e.encapsulation&&(e.encapsulation=S.Emulated),e.styles&&e.styles.length?(v=(e.encapsulation==S.Emulated?(v=e.styles,y=new xl,v.map(function(e){return y.shimCssText(e,"_ngcontent-%COMP%","_nghost-%COMP%")})):e.styles).map(function(e){return Mr(e)}),r.set("styles",Tr(v))):e.encapsulation===S.Emulated&&(e.encapsulation=S.None),e.encapsulation!==S.Emulated&&r.set("encapsulation",Mr(e.encapsulation)),null!==e.animations&&r.set("data",Pr([{key:"animation",value:e.animations,quoted:!1}])),null!=f&&f!==w.Default&&r.set("changeDetection",Mr(f)),{expression:Sr(ts.defineComponent).callFn([r.toLiteralMap()]),type:iv(e,ts.ComponentDefWithMeta)}}function Zm(){throw new Error("unsupported")}function ev(e,n){return e.map(function(e){var t=null;return e.read&&e.read.identifier&&(t=n.importExpr(e.read.identifier.reference)),{propertyName:e.propertyName,first:e.first,predicate:function(e,t){if(1<e.length||1==e.length&&e[0].value){var n=e.map(function(e){return e.value});return n.some(function(e){return!e})&&qr("Found a type among the string selectors expected"),t.constantPool.getConstLiteral(Tr(n.map(function(e){return Mr(e)})))}if(1==e.length){e=e[0];if(e.identifier)return t.importExpr(e.identifier.reference)}return qr("Unexpected query form"),Zt}(e.selectors,n),descendants:e.descendants,read:t,static:!!e.static}})}function tv(e,t){t=[function(e,t){if(Array.isArray(e.predicate)){var n=[];return e.predicate.forEach(function(e){e=e.split(",").map(function(e){return Mr(e.trim())});n.push.apply(n,B(e))}),t.getConstLiteral(Tr(n),!0)}return e.predicate}(e,t),Mr(e.descendants)];return e.read&&t.push(e.read),t}function nv(t){return Cr(Pr(Object.keys(t).map(function(e){return{key:e,value:Mr(Array.isArray(t[e])?t[e][0]:t[e]),quoted:!0}})))}function rv(e){return 0<e.length?Cr(Tr(e.map(function(e){return Mr(e)}))):Ie}function iv(e,t){var n=null!==e.selector?e.selector.replace(/\n/g,""):null;return Cr(Sr(t,[ss(e.type.type,e.typeArgumentCount),null!==n?Cr(Mr(n)):Ie,null!==e.exportAs?rv(e.exportAs):Ie,nv(e.inputs),nv(e.outputs),rv(e.queries.map(function(e){return e.propertyName}))]))}function sv(e,t){return ol(null,e,t,"b",rl.TrySimple,function(){return qr("Unexpected interpolation")})}function ov(e){return{hostAttributes:{},hostListeners:e.listeners,hostProperties:e.properties}}var av=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function uv(e){var t,n,r={},i={},s={},o={};try{for(var a=D(Object.keys(e)),u=a.next();!u.done;u=a.next()){var p=u.value,l=e[p],c=p.match(av);if(null===c)switch(p){case"class":if("string"!=typeof l)throw new Error("Class binding must be string");o.classAttr=l;break;case"style":if("string"!=typeof l)throw new Error("Style binding must be string");o.styleAttr=l;break;default:r[p]="string"==typeof l?Mr(l):l}else if(null!=c[1]){if("string"!=typeof l)throw new Error("Property binding must be string");s[c[1]]=l}else if(null!=c[2]){if("string"!=typeof l)throw new Error("Event binding must be string");i[c[2]]=l}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return{attributes:r,listeners:i,properties:s,specialAttributes:o}}function pv(e,t){var n=ov(e),e=qm();return e.createDirectiveHostEventAsts(n,t),e.createBoundHostProperties(n,t),e.errors}var lv=(gv.prototype.get=function(e){return""},gv),cv=(yv.prototype.compilePipe=function(e,t,n){n=wu({name:n.name,type:vv(n.type),internalType:new $e(n.type),typeArgumentCount:n.typeArgumentCount,deps:wv(n.deps),pipeName:n.pipeName,pure:n.pure});return this.jitExpression(n.expression,e,t,[])},yv.prototype.compileInjectable=function(e,t,n){var r,r=ja({name:n.name,type:vv(n.type),internalType:new $e(n.type),typeArgumentCount:n.typeArgumentCount,providedIn:new(null==(r=n.providedIn)||"string"==typeof r?ft:$e)(r),useClass:xv(n,hv),useFactory:xv(n,dv),useValue:xv(n,fv),useExisting:xv(n,mv),userDeps:wv(n.userDeps)||void 0}),n=r.expression,r=r.statements;return this.jitExpression(n,e,t,r)},yv.prototype.compileInjector=function(e,t,n){n=Eu({name:n.name,type:vv(n.type),internalType:new $e(n.type),deps:wv(n.deps),providers:new $e(n.providers),imports:n.imports.map(function(e){return new $e(e)})});return this.jitExpression(n.expression,e,t,n.statements)},yv.prototype.compileNgModule=function(e,t,n){n=_u({type:vv(n.type),internalType:new $e(n.type),adjacentType:new $e(n.type),bootstrap:n.bootstrap.map(vv),declarations:n.declarations.map(vv),imports:n.imports.map(vv),exports:n.exports.map(vv),emitInline:!0,containsForwardDecls:!1,schemas:n.schemas?n.schemas.map(vv):null,id:n.id?new $e(n.id):null});return this.jitExpression(n.expression,e,t,[])},yv.prototype.compileDirective=function(e,t,n){var r=new ui,i=qm(),i=Ym(Ev(n),r,i);return this.jitExpression(i.expression,e,t,r.statements)},yv.prototype.compileComponent=function(e,t,n){var r=new ui,i=n.interpolation?za.fromArray(n.interpolation):Ka,s=Um(n.template,t,{preserveWhitespaces:n.preserveWhitespaces,interpolationConfig:i});if(void 0!==s.errors){t=s.errors.map(function(e){return e.toString()}).join(", ");throw new Error("Errors during JIT compilation of template for "+n.name+": "+t)}i=Jm(d(d(d({},n),Ev(n)),{selector:n.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:s,wrapDirectivesAndPipesInClosure:!1,styles:B(n.styles,s.styles),encapsulation:n.encapsulation,interpolation:i,changeDetection:n.changeDetection,animations:null!=n.animations?new $e(n.animations):null,viewProviders:null!=n.viewProviders?new $e(n.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0}),r,qm(i)),n="ng:///"+n.name+".js";return this.jitExpression(i.expression,e,n,r.statements)},yv.prototype.compileFactory=function(e,t,n){n=Da({name:n.name,type:vv(n.type),internalType:new $e(n.type),typeArgumentCount:n.typeArgumentCount,deps:wv(n.deps),injectFn:"directiveInject"===n.injectFn?vi.directiveInject:vi.inject,target:n.target});return this.jitExpression(n.factory,e,t,n.statements)},yv.prototype.createParseSourceSpan=ws,yv.prototype.jitExpression=function(e,t,n,r){e=B(r,[new Mn("$def",e,void 0,[Tt.Exported])]);return this.jitEvaluator.evaluateStatements(n,e,new vu(t),!0).$def},yv),hv=Object.keys({useClass:null})[0],dv=Object.keys({useFactory:null})[0],fv=Object.keys({useValue:null})[0],mv=Object.keys({useExisting:null})[0],vv=function(e){e=new $e(e);return{value:e,type:e}};function yv(e){void 0===e&&(e=new cu),this.jitEvaluator=e,this.R3ResolvedDependencyType=Ia,this.R3FactoryTarget=Ma,this.ResourceLoader=lv,this.elementSchemaRegistry=new Ff}function gv(){}function _v(e){return d(d({},e),{predicate:Array.isArray(e.predicate)?e.predicate:new $e(e.predicate),read:e.read?new $e(e.read):null,static:e.static})}function Ev(e){var t,n=Cv(e.inputs||[]),r=Cv(e.outputs||[]),i=e.propMetadata,s={},o={};for(t in i)!function(t){i.hasOwnProperty(t)&&i[t].forEach(function(e){"Input"===e.ngMetadataName?s[t]=e.bindingPropertyName?[e.bindingPropertyName,t]:t:"Output"===e.ngMetadataName&&(o[t]=e.bindingPropertyName||t)})}(t);return d(d({},e),{typeSourceSpan:e.typeSourceSpan,type:vv(e.type),internalType:new $e(e.type),deps:wv(e.deps),host:function(e,t,n){var r=uv(n||{}),t=pv(r,t);if(t.length)throw new Error(t.map(function(e){return e.msg}).join("\n"));for(var i in e)!function(t){e.hasOwnProperty(t)&&e[t].forEach(function(e){"HostBinding"===e.ngMetadataName?r.properties[e.hostPropertyName||t]=t:"HostListener"===e.ngMetadataName&&(r.listeners[e.eventName||t]=t+"("+(e.args||[]).join(",")+")")})}(i);return r}(e.propMetadata,e.typeSourceSpan,e.host),inputs:d(d({},n),s),outputs:d(d({},r),o),queries:e.queries.map(_v),providers:null!=e.providers?new $e(e.providers):null,viewQueries:e.viewQueries.map(_v),fullInheritance:!1})}function xv(e,t){return e.hasOwnProperty(t)?new $e(e[t]):void 0}function Sv(e){return{token:null===e.token?new ft(null):new(e.resolved===Ia.Attribute?ft:$e)(e.token),resolved:e.resolved,host:e.host,optional:e.optional,self:e.self,skipSelf:e.skipSelf}}function wv(e){return null==e?null:e.map(Sv)}function Cv(e){return e.reduce(function(e,t){var n=T(t.split(",").map(function(e){return e.trim()}),2),t=n[0],n=n[1];return e[t]=n||t,e},{})}function bv(e){(e.ng||(e.ng={})).ɵcompilerFacade=new cv}function Tv(e){var t=void 0===(r=(s=void 0===e?{}:e).defaultEncapsulation)?S.Emulated:r,n=void 0===(i=s.useJit)||i,r=void 0!==(e=s.jitDevMode)&&e,e=void 0===(i=s.missingTranslation)?null:i,i=s.preserveWhitespaces,s=s.strictInjectionParameters;this.defaultEncapsulation=t,this.useJit=!!n,this.jitDevMode=!!r,this.missingTranslation=e,this.preserveWhitespaces=Pv(Dr(i)),this.strictInjectionParameters=!0===s}ro=new Zr("9.0.5");function Pv(e,t){return void 0===t&&(t=!1),null===e?t:e}var Nv=(Ov.prototype.clearCache=function(){this._resourceLoaderCache.clear()},Ov.prototype.clearCacheFor=function(e){var t=this;e.isComponent&&(e=e.template,this._resourceLoaderCache.delete(e.templateUrl),e.externalStylesheets.forEach(function(e){t._resourceLoaderCache.delete(e.moduleUrl)}))},Ov.prototype._fetch=function(e){var t=this._resourceLoaderCache.get(e);return t||(t=this._resourceLoader.get(e),this._resourceLoaderCache.set(e,t)),t},Ov.prototype.normalizeTemplate=function(t){var n=this;if(Lr(t.template)){if(Lr(t.templateUrl))throw Wr("'"+$r(t.componentType)+"' component cannot define both template and templateUrl");if("string"!=typeof t.template)throw Wr("The template specified for component "+$r(t.componentType)+" is not a string")}else{if(!Lr(t.templateUrl))throw Wr("No template specified for component "+$r(t.componentType));if("string"!=typeof t.templateUrl)throw Wr("The templateUrl specified for component "+$r(t.componentType)+" is not a string")}if(Lr(t.preserveWhitespaces)&&"boolean"!=typeof t.preserveWhitespaces)throw Wr("The preserveWhitespaces option for component "+$r(t.componentType)+" must be a boolean");return Vr(this._preParseTemplate(t),function(e){return n._normalizeTemplateMetadata(t,e)})},Ov.prototype._preParseTemplate=function(t){var e,n,r=this;return null!=t.template?(e=t.template,n=t.moduleUrl):(n=this._urlResolver.resolve(t.moduleUrl,t.templateUrl),e=this._fetch(n)),Vr(e,function(e){return r._preparseLoadedTemplate(t,e,n)})},Ov.prototype._preparseLoadedTemplate=function(e,t,n){var r=!!e.template,i=za.fromArray(e.interpolation),s=$i({reference:e.ngModuleType},{type:{reference:e.componentType}},{isInline:r,templateUrl:n}),o=this._htmlParser.parse(t,s,{tokenizeExpansionForms:!0,interpolationConfig:i});if(0<o.errors.length)throw Wr("Template parse errors:\n"+o.errors.join("\n"));var a=this._normalizeStylesheet(new Li({styles:e.styles,moduleUrl:e.moduleUrl})),s=new Av;yc(s,o.rootNodes);i=this._normalizeStylesheet(new Li({styles:s.styles,styleUrls:s.styleUrls,moduleUrl:n}));return{template:t,templateUrl:n,isInline:r,htmlAst:o,styles:a.styles.concat(i.styles),inlineStyleUrls:a.styleUrls.concat(i.styleUrls),styleUrls:this._normalizeStylesheet(new Li({styleUrls:e.styleUrls,moduleUrl:e.moduleUrl})).styleUrls,ngContentSelectors:s.ngContentSelectors}},Ov.prototype._normalizeTemplateMetadata=function(t,n){var r=this;return Vr(this._loadMissingExternalStylesheets(n.styleUrls.concat(n.inlineStyleUrls)),function(e){return r._normalizeLoadedTemplateMetadata(t,n,e)})},Ov.prototype._normalizeLoadedTemplateMetadata=function(e,t,r){var i=this,n=B(t.styles);this._inlineStyles(t.inlineStyleUrls,r,n);var s=t.styleUrls,o=s.map(function(e){var t=r.get(e),n=B(t.styles);return i._inlineStyles(t.styleUrls,r,n),new Li({moduleUrl:e,styles:n})}),a=e.encapsulation;return(a=null==a?this._config.defaultEncapsulation:a)===S.Emulated&&0===n.length&&0===s.length&&(a=S.None),new Di({encapsulation:a,template:t.template,templateUrl:t.templateUrl,htmlAst:t.htmlAst,styles:n,styleUrls:s,ngContentSelectors:t.ngContentSelectors,animations:e.animations,interpolation:e.interpolation,isInline:t.isInline,externalStylesheets:o,preserveWhitespaces:Pv(e.preserveWhitespaces,this._config.preserveWhitespaces)})},Ov.prototype._inlineStyles=function(e,t,n){var r=this;e.forEach(function(e){e=t.get(e);e.styles.forEach(function(e){return n.push(e)}),r._inlineStyles(e.styleUrls,t,n)})},Ov.prototype._loadMissingExternalStylesheets=function(e,n){var r=this;return void 0===n&&(n=new Map),Vr(jr(e.filter(function(e){return!n.has(e)}).map(function(t){return Vr(r._fetch(t),function(e){e=r._normalizeStylesheet(new Li({styles:[e],moduleUrl:t}));return n.set(t,e),r._loadMissingExternalStylesheets(e.styleUrls,n)})})),function(e){return n})},Ov.prototype._normalizeStylesheet=function(e){var t=this,n=e.moduleUrl,o=e.styleUrls.filter(od).map(function(e){return t._urlResolver.resolve(n,e)}),e=e.styles.map(function(e){var r,i,s,e=(r=t._urlResolver,i=n,s=[],e=e.replace(ld,"").replace(pd,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[1]||e[2];return od(n)?(s.push(r.resolve(i,n)),""):e[0]}),new sd(e,s));return o.push.apply(o,B(e.styleUrls)),e.style});return new Li({styles:e,styleUrls:o,moduleUrl:n})},Ov),Av=(Rv.prototype.visitElement=function(e,t){var n=gd(e);switch(n.type){case ud.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(n.selectAttr);break;case ud.STYLE:var r="";e.children.forEach(function(e){e instanceof ic&&(r+=e.value)}),this.styles.push(r);break;case ud.STYLESHEET:this.styleUrls.push(n.hrefAttr)}return n.nonBindable&&this.ngNonBindableStackCount++,yc(this,e.children),n.nonBindable&&this.ngNonBindableStackCount--,null},Rv.prototype.visitExpansion=function(e,t){yc(this,e.cases)},Rv.prototype.visitExpansionCase=function(e,t){yc(this,e.expression)},Rv.prototype.visitComment=function(e,t){return null},Rv.prototype.visitAttribute=function(e,t){return null},Rv.prototype.visitText=function(e,t){return null},Rv),Mv=[U,j,V,L],Iv=(kv.prototype.isDirective=function(e){e=this._reflector.annotations(Yr(e));return e&&e.some(Fv)},kv.prototype.resolve=function(e,t){void 0===t&&(t=!0);var n=this._reflector.annotations(Yr(e));if(n){var r=Lv(n,Fv);if(r){var i=this._reflector.propMetadata(e),n=this._reflector.guards(e);return this._mergeWithPropertyMetadata(r,i,n,e)}}if(t)throw new Error("No Directive annotation found on "+$r(e));return null},kv.prototype._mergeWithPropertyMetadata=function(e,t,n,r){var i=[],s=[],o={},a={};return Object.keys(t).forEach(function(n){var e=Lv(t[n],function(e){return $.isTypeOf(e)});e&&(e.bindingPropertyName?i.push(n+": "+e.bindingPropertyName):i.push(n));e=Lv(t[n],function(e){return Y.isTypeOf(e)});e&&(e.bindingPropertyName?s.push(n+": "+e.bindingPropertyName):s.push(n)),t[n].filter(function(e){return J.isTypeOf(e)}).forEach(function(e){if(e.hostPropertyName){var t=e.hostPropertyName[0];if("("===t)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===t)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");o["["+e.hostPropertyName+"]"]=n}else o["["+n+"]"]=n}),t[n].filter(function(e){return Z.isTypeOf(e)}).forEach(function(e){var t=e.args||[];o["("+e.eventName+")"]=n+"("+t.join(",")+")"});e=Lv(t[n],function(t){return Mv.some(function(e){return e.isTypeOf(t)})});e&&(a[n]=e)}),this._merge(e,i,s,o,a,n,r)},kv.prototype._extractPublicName=function(e){return Rr(e,[null,e])[1].trim()},kv.prototype._dedupeBindings=function(e){for(var t=new Set,n=new Set,r=[],i=e.length-1;0<=i;i--){var s=e[i],o=this._extractPublicName(s);n.add(o),t.has(o)||(t.add(o),r.push(s))}return r.reverse()},kv.prototype._merge=function(e,t,n,r,i,s,o){t=this._dedupeBindings(e.inputs?e.inputs.concat(t):t),n=this._dedupeBindings(e.outputs?e.outputs.concat(n):n),r=e.host?d(d({},e.host),r):r,i=e.queries?d(d({},e.queries),i):i;return G.isTypeOf(e)?G({selector:e.selector,inputs:t,outputs:n,host:r,exportAs:e.exportAs,moduleId:e.moduleId,queries:i,changeDetection:e.changeDetection,providers:e.providers,viewProviders:e.viewProviders,entryComponents:e.entryComponents,template:e.template,templateUrl:e.templateUrl,styles:e.styles,styleUrls:e.styleUrls,encapsulation:e.encapsulation,animations:e.animations,interpolation:e.interpolation,preserveWhitespaces:e.preserveWhitespaces}):H({selector:e.selector,inputs:t,outputs:n,host:r,exportAs:e.exportAs,queries:i,providers:e.providers,guards:s})},kv);function kv(e){this._reflector=e}function Rv(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}function Ov(e,t,n,r){this._resourceLoader=e,this._urlResolver=t,this._htmlParser=n,this._config=r,this._resourceLoaderCache=new Map}function Fv(e){return H.isTypeOf(e)||G.isTypeOf(e)}function Lv(e,t){for(var n=e.length-1;0<=n;n--)if(t(e[n]))return e[n];return null}var Dv,Bv=(h(Uv,Dv=Es),Uv),Vv=/^i18n:?/,jv=!1;function Uv(e,t){return Dv.call(this,e,t)||this}function Hv(e,t){this.messages=e,this.errors=t}var qv;(s=qv=qv||{})[s.Extract=0]="Extract",s[s.Merge=1]="Merge";var Wv=(zv.prototype.extract=function(e,t){var n=this;return this._init(qv.Extract,t),e.forEach(function(e){return e.visit(n,null)}),this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new Hv(this._messages,this._errors)},zv.prototype.merge=function(e,t,n){this._init(qv.Merge,n),this._translations=t;t=new uc("wrapper",[],e,void 0,void 0,void 0).visit(this,null);return this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new Dc(t.children,this._errors)},zv.prototype.visitExpansionCase=function(e,t){t=yc(this,e.expression,t);if(this._mode===qv.Merge)return new oc(e.value,t,e.sourceSpan,e.valueSourceSpan,e.expSourceSpan)},zv.prototype.visitExpansion=function(e,t){this._mayBeAddBlockChildren(e);var n=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([e]),this._inIcu=!0);t=yc(this,e.cases,t);return this._mode===qv.Merge&&(e=new sc(e.switchValue,e.type,t,e.sourceSpan,e.switchValueSourceSpan)),this._inIcu=n,e},zv.prototype.visitComment=function(e,t){var n=!!(e instanceof pc&&e.value&&e.value.startsWith("i18n"));if(n&&this._isInTranslatableSection)this._reportError(e,"Could not start a block inside a translatable section");else{var r=!!(e instanceof pc&&e.value&&"/i18n"===e.value);if(!r||this._inI18nBlock){if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(r){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(e,this._blockChildren),this._inI18nBlock=!1;r=this._addMessage(this._blockChildren,this._blockMeaningAndDesc);return yc(this,this._translateMessage(e,r))}this._reportError(e,"I18N blocks should not cross element boundaries")}}else n&&(!jv&&console&&console.warn&&(jv=!0,n=e.sourceSpan.details?", "+e.sourceSpan.details:"",console.warn("I18n comments are deprecated, use an <ng-container> element instead ("+e.sourceSpan.start+n+")")),this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=e.value.replace(Vv,"").trim(),this._openTranslatableSection(e))}else this._reportError(e,"Trying to close an unopened block")}},zv.prototype.visitText=function(e,t){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(e),e},zv.prototype.visitElement=function(t,n){var r=this;this._mayBeAddBlockChildren(t),this._depth++;var e=this._inI18nNode,i=this._inImplicitNode,s=[],o=void 0,a=t.attrs.find(function(e){return"i18n"===e.name})||null,u=a?a.value:"",p=this._implicitTags.some(function(e){return t.name===e})&&!this._inIcu&&!this._isInTranslatableSection,l=!i&&p;if(this._inImplicitNode=i||p,this._isInTranslatableSection||this._inIcu?((a||l)&&this._reportError(t,"Could not mark an element as translatable inside a translatable section"),this._mode==qv.Extract&&yc(this,t.children)):((a||l)&&(this._inI18nNode=!0,u=this._addMessage(t.children,u),o=this._translateMessage(t,u)),this._mode==qv.Extract&&((l=a||l)&&this._openTranslatableSection(t),yc(this,t.children),l&&this._closeTranslatableSection(t,t.children))),this._mode===qv.Merge&&(o||t.children).forEach(function(e){e=e.visit(r,n);e&&!r._isInTranslatableSection&&(s=s.concat(e))}),this._visitAttributesOf(t),this._depth--,this._inI18nNode=e,this._inImplicitNode=i,this._mode!==qv.Merge)return null;i=this._translateAttributes(t);return new uc(t.name,i,s,t.sourceSpan,t.startSourceSpan,t.endSourceSpan)},zv.prototype.visitAttribute=function(e,t){throw new Error("unreachable code")},zv.prototype._init=function(e,t){this._mode=e,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=sm(t)},zv.prototype._visitAttributesOf=function(e){var n=this,r={},i=this._implicitAttrs[e.name]||[];e.attrs.filter(function(e){return e.name.startsWith("i18n-")}).forEach(function(e){return r[e.name.slice("i18n-".length)]=e.value}),e.attrs.forEach(function(t){t.name in r?n._addMessage([t],r[t.name]):i.some(function(e){return t.name===e})&&n._addMessage([t])})},zv.prototype._addMessage=function(e,t){if(0==e.length||1==e.length&&e[0]instanceof ac&&!e[0].value)return null;var n=Kv(t),r=n.meaning,t=n.description,n=n.id,n=this._createI18nMessage(e,r,t,n);return this._messages.push(n),n},zv.prototype._translateMessage=function(e,t){if(t&&this._mode===qv.Merge){var n=this._translations.get(t);if(n)return n;this._reportError(e,'Translation unavailable for message id="'+this._translations.digest(t)+'"')}return[]},zv.prototype._translateAttributes=function(i){var s=this,e=i.attrs,o={};e.forEach(function(e){e.name.startsWith("i18n-")&&(o[e.name.slice("i18n-".length)]=Kv(e.value))});var a=[];return e.forEach(function(e){var t,n,r;"i18n"===e.name||e.name.startsWith("i18n-")||(e.value&&""!=e.value&&o.hasOwnProperty(e.name)?(n=(t=o[e.name]).meaning,r=t.description,t=t.id,n=s._createI18nMessage([e],n,r,t),(r=s._translations.get(n))?0==r.length?a.push(new ac(e.name,"",e.sourceSpan)):r[0]instanceof ic?(r=r[0].value,a.push(new ac(e.name,r,e.sourceSpan))):s._reportError(i,'Unexpected translation for attribute "'+e.name+'" (id="'+(t||s._translations.digest(n))+'")'):s._reportError(i,'Translation unavailable for attribute "'+e.name+'" (id="'+(t||s._translations.digest(n))+'")')):a.push(e))}),a},zv.prototype._mayBeAddBlockChildren=function(e){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(e)},zv.prototype._openTranslatableSection=function(e){this._isInTranslatableSection?this._reportError(e,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length},Object.defineProperty(zv.prototype,"_isInTranslatableSection",{get:function(){return void 0!==this._msgCountAtSectionStart},enumerable:!0,configurable:!0}),zv.prototype._closeTranslatableSection=function(e,t){if(this._isInTranslatableSection){var n=this._msgCountAtSectionStart;if(1==t.reduce(function(e,t){return e+(t instanceof pc?0:1)},0))for(var r=this._messages.length-1;n<=r;r--){var i=this._messages[r].nodes;if(!(1==i.length&&i[0]instanceof $s)){this._messages.splice(r,1);break}}this._msgCountAtSectionStart=void 0}else this._reportError(e,"Unexpected section end")},zv.prototype._reportError=function(e,t){this._errors.push(new Bv(e.sourceSpan,t))},zv);function zv(e,t){this._implicitTags=e,this._implicitAttrs=t}function Kv(e){if(!e)return{meaning:"",description:"",id:""};var t=e.indexOf("@@"),n=e.indexOf("|"),t=T(-1<t?[e.slice(0,t),e.slice(t+2)]:[e,""],2),e=t[0],t=t[1],e=T(-1<n?[e.slice(0,n),e.slice(n+1)]:["",e],2);return{meaning:e[0],description:e[1],id:t.trim()}}var Qv=(Gv.prototype.requireExtraParent=function(e){return!1},Gv.prototype.isClosedByChild=function(e){return!1},new Gv);function Gv(){this.closedByParent=!1,this.contentType=l.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}function Xv(e){return Qv}var $v,Yv,Jv=(h(ay,Yv=lu),ay.prototype.parse=function(e,t,n){return Yv.prototype.parse.call(this,e,t,n)},ay),Zv=(h(oy,$v=Wn),oy.prototype.write=function(e,t){var i=new ey,s=[];e.forEach(function(e){var t,n=[];e.sources.forEach(function(e){var t=new Ko("context-group",{purpose:"location"});t.children.push(new Go(10),new Ko("context",{"context-type":"sourcefile"},[new Qo(e.filePath)]),new Go(10),new Ko("context",{"context-type":"linenumber"},[new Qo(""+e.startLine)]),new Go(8)),n.push(new Go(8),t)});var r=new Ko("trans-unit",{id:e.id,datatype:"html"});(t=r.children).push.apply(t,B([new Go(8),new Ko("source",{},i.serialize(e.nodes))],n)),e.description&&r.children.push(new Go(8),new Ko("note",{priority:"1",from:"description"},[new Qo(e.description)])),e.meaning&&r.children.push(new Go(8),new Ko("note",{priority:"1",from:"meaning"},[new Qo(e.meaning)])),r.children.push(new Go(6)),s.push(new Go(6),r)});e=new Ko("body",{},B(s,[new Go(4)])),e=new Ko("file",{"source-language":t||"en",datatype:"plaintext",original:"ng2.template"},[new Go(4),e,new Go(2)]),e=new Ko("xliff",{version:"1.2",xmlns:"urn:oasis:names:tc:xliff:document:1.2"},[new Go(2),e,new Go]);return Ho([new Wo({version:"1.0",encoding:"UTF-8"}),new Go,e,new Go])},oy.prototype.load=function(e,r){var t=(new ty).parse(e,r),e=t.locale,i=t.msgIdToHtml,s=t.errors,o={},a=new ny;if(Object.keys(i).forEach(function(e){var t=a.convert(i[e],r),n=t.i18nNodes,t=t.errors;s.push.apply(s,B(t)),o[e]=n}),s.length)throw new Error("xliff parse errors:\n"+s.join("\n"));return{locale:e,i18nNodesByMsgId:o}},oy.prototype.digest=ho,oy),ey=(sy.prototype.visitText=function(e,t){return[new Qo(e.value)]},sy.prototype.visitContainer=function(e,t){var n=this,r=[];return e.children.forEach(function(e){return r.push.apply(r,B(e.visit(n)))}),r},sy.prototype.visitIcu=function(t,e){var n=this,r=[new Qo("{"+t.expressionPlaceholder+", "+t.type+", ")];return Object.keys(t.cases).forEach(function(e){r.push.apply(r,B([new Qo(e+" {")],t.cases[e].visit(n),[new Qo("} ")]))}),r.push(new Qo("}")),r},sy.prototype.visitTagPlaceholder=function(e,t){var n=function(e){switch(e.toLowerCase()){case"br":return"lb";case"img":return"image";default:return"x-"+e}}(e.tag);if(e.isVoid)return[new Ko("x",{id:e.startName,ctype:n,"equiv-text":"<"+e.tag+"/>"})];var r=new Ko("x",{id:e.startName,ctype:n,"equiv-text":"<"+e.tag+">"}),n=new Ko("x",{id:e.closeName,ctype:n,"equiv-text":"</"+e.tag+">"});return B([r],this.serialize(e.children),[n])},sy.prototype.visitPlaceholder=function(e,t){return[new Ko("x",{id:e.name,"equiv-text":"{{"+e.value+"}}"})]},sy.prototype.visitIcuPlaceholder=function(e,t){var n="{"+e.value.expression+", "+e.value.type+", "+Object.keys(e.value.cases).map(function(e){return e+" {...}"}).join(" ")+"}";return[new Ko("x",{id:e.name,"equiv-text":n})]},sy.prototype.serialize=function(e){var t=this;return[].concat.apply([],B(e.map(function(e){return e.visit(t)})))},sy),ty=(iy.prototype.parse=function(e,t){this._unitMlString=null,this._msgIdToHtml={};t=(new Jv).parse(e,t);return this._errors=t.errors,yc(this,t.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},iy.prototype.visitElement=function(e,t){switch(e.name){case"trans-unit":this._unitMlString=null;var n=e.attrs.find(function(e){return"id"===e.name});n?(r=n.value,this._msgIdToHtml.hasOwnProperty(r)?this._addError(e,"Duplicated translations for msg "+r):(yc(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[r]=this._unitMlString:this._addError(e,"Message "+r+" misses a translation"))):this._addError(e,'<trans-unit> misses the "id" attribute');break;case"source":case"seg-source":case"alt-trans":break;case"target":var r=e.startSourceSpan.end.offset,i=e.endSourceSpan.start.offset,i=e.startSourceSpan.start.file.content.slice(r,i);this._unitMlString=i;break;case"file":i=e.attrs.find(function(e){return"target-language"===e.name});i&&(this._locale=i.value),yc(this,e.children,null);break;default:yc(this,e.children,null)}},iy.prototype.visitAttribute=function(e,t){},iy.prototype.visitText=function(e,t){},iy.prototype.visitComment=function(e,t){},iy.prototype.visitExpansion=function(e,t){},iy.prototype.visitExpansionCase=function(e,t){},iy.prototype._addError=function(e,t){this._errors.push(new Bv(e.sourceSpan,t))},iy),ny=(ry.prototype.convert=function(e,t){t=(new Jv).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=t.errors,{i18nNodes:0<this._errors.length||0==t.rootNodes.length?[]:[].concat.apply([],B(yc(this,t.rootNodes))),errors:this._errors}},ry.prototype.visitText=function(e,t){return new $s(e.value,e.sourceSpan)},ry.prototype.visitElement=function(e,t){if("x"!==e.name)return"mrk"===e.name?[].concat.apply([],B(yc(this,e.children))):(this._addError(e,"Unexpected tag"),null);var n=e.attrs.find(function(e){return"id"===e.name});return n?new eo("",n.value,e.sourceSpan):(this._addError(e,'<x> misses the "id" attribute'),null)},ry.prototype.visitExpansion=function(t,e){var n={};return yc(this,t.cases).forEach(function(e){n[e.value]=new Ys(e.nodes,t.sourceSpan)}),new Js(t.switchValue,t.type,n,t.sourceSpan)},ry.prototype.visitExpansionCase=function(e,t){return{value:e.value,nodes:yc(this,e.expression)}},ry.prototype.visitComment=function(e,t){},ry.prototype.visitAttribute=function(e,t){},ry.prototype._addError=function(e,t){this._errors.push(new Bv(e.sourceSpan,t))},ry);function ry(){}function iy(){this._locale=null}function sy(){}function oy(){return null!==$v&&$v.apply(this,arguments)||this}function ay(){return Yv.call(this,Xv)||this}var uy,py=(h(vy,uy=Wn),vy.prototype.write=function(e,t){var i=new ly,s=[];e.forEach(function(e){var t=new Ko("unit",{id:e.id}),n=new Ko("notes");(e.description||e.meaning)&&(e.description&&n.children.push(new Go(8),new Ko("note",{category:"description"},[new Qo(e.description)])),e.meaning&&n.children.push(new Go(8),new Ko("note",{category:"meaning"},[new Qo(e.meaning)]))),e.sources.forEach(function(e){n.children.push(new Go(8),new Ko("note",{category:"location"},[new Qo(e.filePath+":"+e.startLine+(e.endLine!==e.startLine?","+e.endLine:""))]))}),n.children.push(new Go(6)),t.children.push(new Go(6),n);var r=new Ko("segment");r.children.push(new Go(8),new Ko("source",{},i.serialize(e.nodes)),new Go(6)),t.children.push(new Go(6),r,new Go(4)),s.push(new Go(4),t)});e=new Ko("file",{original:"ng.template",id:"ngi18n"},B(s,[new Go(2)])),e=new Ko("xliff",{version:"2.0",xmlns:"urn:oasis:names:tc:xliff:document:2.0",srcLang:t||"en"},[new Go(2),e,new Go]);return Ho([new Wo({version:"1.0",encoding:"UTF-8"}),new Go,e,new Go])},vy.prototype.load=function(e,r){var t=(new cy).parse(e,r),e=t.locale,i=t.msgIdToHtml,s=t.errors,o={},a=new hy;if(Object.keys(i).forEach(function(e){var t=a.convert(i[e],r),n=t.i18nNodes,t=t.errors;s.push.apply(s,B(t)),o[e]=n}),s.length)throw new Error("xliff2 parse errors:\n"+s.join("\n"));return{locale:e,i18nNodesByMsgId:o}},vy.prototype.digest=mo,vy),ly=(my.prototype.visitText=function(e,t){return[new Qo(e.value)]},my.prototype.visitContainer=function(e,t){var n=this,r=[];return e.children.forEach(function(e){return r.push.apply(r,B(e.visit(n)))}),r},my.prototype.visitIcu=function(t,e){var n=this,r=[new Qo("{"+t.expressionPlaceholder+", "+t.type+", ")];return Object.keys(t.cases).forEach(function(e){r.push.apply(r,B([new Qo(e+" {")],t.cases[e].visit(n),[new Qo("} ")]))}),r.push(new Qo("}")),r},my.prototype.visitTagPlaceholder=function(e,t){var n=this,r=function(){switch(e.tag.toLowerCase()){case"br":case"b":case"i":case"u":return"fmt";case"img":return"image";case"a":return"link";default:return"other"}}();if(e.isVoid)return[new Ko("ph",{id:(this._nextPlaceholderId++).toString(),equiv:e.startName,type:r,disp:"<"+e.tag+"/>"})];var i=new Ko("pc",{id:(this._nextPlaceholderId++).toString(),equivStart:e.startName,equivEnd:e.closeName,type:r,dispStart:"<"+e.tag+">",dispEnd:"</"+e.tag+">"}),r=[].concat.apply([],B(e.children.map(function(e){return e.visit(n)})));return r.length?r.forEach(function(e){return i.children.push(e)}):i.children.push(new Qo("")),[i]},my.prototype.visitPlaceholder=function(e,t){var n=(this._nextPlaceholderId++).toString();return[new Ko("ph",{id:n,equiv:e.name,disp:"{{"+e.value+"}}"})]},my.prototype.visitIcuPlaceholder=function(e,t){var n=Object.keys(e.value.cases).map(function(e){return e+" {...}"}).join(" "),r=(this._nextPlaceholderId++).toString();return[new Ko("ph",{id:r,equiv:e.name,disp:"{"+e.value.expression+", "+e.value.type+", "+n+"}"})]},my.prototype.serialize=function(e){var t=this;return this._nextPlaceholderId=0,[].concat.apply([],B(e.map(function(e){return e.visit(t)})))},my),cy=(fy.prototype.parse=function(e,t){this._unitMlString=null,this._msgIdToHtml={};t=(new Jv).parse(e,t);return this._errors=t.errors,yc(this,t.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},fy.prototype.visitElement=function(e,t){switch(e.name){case"unit":this._unitMlString=null;var n=e.attrs.find(function(e){return"id"===e.name});n?(r=n.value,this._msgIdToHtml.hasOwnProperty(r)?this._addError(e,"Duplicated translations for msg "+r):(yc(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[r]=this._unitMlString:this._addError(e,"Message "+r+" misses a translation"))):this._addError(e,'<unit> misses the "id" attribute');break;case"source":break;case"target":var r=e.startSourceSpan.end.offset,i=e.endSourceSpan.start.offset,i=e.startSourceSpan.start.file.content.slice(r,i);this._unitMlString=i;break;case"xliff":i=e.attrs.find(function(e){return"trgLang"===e.name});i&&(this._locale=i.value);i=e.attrs.find(function(e){return"version"===e.name});i&&("2.0"!==(i=i.value)?this._addError(e,"The XLIFF file version "+i+" is not compatible with XLIFF 2.0 serializer"):yc(this,e.children,null));break;default:yc(this,e.children,null)}},fy.prototype.visitAttribute=function(e,t){},fy.prototype.visitText=function(e,t){},fy.prototype.visitComment=function(e,t){},fy.prototype.visitExpansion=function(e,t){},fy.prototype.visitExpansionCase=function(e,t){},fy.prototype._addError=function(e,t){this._errors.push(new Bv(e.sourceSpan,t))},fy),hy=(dy.prototype.convert=function(e,t){t=(new Jv).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=t.errors,{i18nNodes:0<this._errors.length||0==t.rootNodes.length?[]:[].concat.apply([],B(yc(this,t.rootNodes))),errors:this._errors}},dy.prototype.visitText=function(e,t){return new $s(e.value,e.sourceSpan)},dy.prototype.visitElement=function(e,t){var n=this;switch(e.name){case"ph":var r=e.attrs.find(function(e){return"equiv"===e.name});if(r)return[new eo("",r.value,e.sourceSpan)];this._addError(e,'<ph> misses the "equiv" attribute');break;case"pc":var i=e.attrs.find(function(e){return"equivStart"===e.name}),s=e.attrs.find(function(e){return"equivEnd"===e.name});if(i){if(s){r=i.value,i=s.value,s=[];return s.concat.apply(s,B([new eo("",r,e.sourceSpan)],e.children.map(function(e){return e.visit(n,null)}),[new eo("",i,e.sourceSpan)]))}this._addError(e,'<ph> misses the "equivEnd" attribute')}else this._addError(e,'<ph> misses the "equivStart" attribute');break;case"mrk":return[].concat.apply([],B(yc(this,e.children)));default:this._addError(e,"Unexpected tag")}return null},dy.prototype.visitExpansion=function(t,e){var n={};return yc(this,t.cases).forEach(function(e){n[e.value]=new Ys(e.nodes,t.sourceSpan)}),new Js(t.switchValue,t.type,n,t.sourceSpan)},dy.prototype.visitExpansionCase=function(e,t){return{value:e.value,nodes:[].concat.apply([],B(yc(this,e.expression)))}},dy.prototype.visitComment=function(e,t){},dy.prototype.visitAttribute=function(e,t){},dy.prototype._addError=function(e,t){this._errors.push(new Bv(e.sourceSpan,t))},dy);function dy(){}function fy(){this._locale=null}function my(){}function vy(){return null!==uy&&uy.apply(this,arguments)||this}var yy,gy=(h(_y,yy=Wn),_y.prototype.write=function(e,t){throw new Error("Unsupported")},_y.prototype.load=function(e,i){var t=(new Ey).parse(e,i),e=t.locale,s=t.msgIdToHtml,t=t.errors,o={},a=new xy;if(Object.keys(s).forEach(function(r){var t,n;t=o,n=r,Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){var e=function(){var e=a.convert(s[r],i),t=e.i18nNodes,n=e.errors;if(n.length)throw new Error("xtb parse errors:\n"+n.join("\n"));return t}();return Object.defineProperty(t,n,{enumerable:!0,value:e}),e},set:function(e){throw new Error("Could not overwrite an XTB translation")}})}),t.length)throw new Error("xtb parse errors:\n"+t.join("\n"));return{locale:e,i18nNodesByMsgId:o}},_y.prototype.digest=aa,_y.prototype.createNameMapper=function(e){return new Do(e,la)},_y);function _y(){return null!==yy&&yy.apply(this,arguments)||this}var Ey=(Ay.prototype.parse=function(e,t){this._bundleDepth=0,this._msgIdToHtml={};t=(new Jv).parse(e,t);return this._errors=t.errors,yc(this,t.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},Ay.prototype.visitElement=function(e,t){switch(e.name){case"translationbundle":this._bundleDepth++,1<this._bundleDepth&&this._addError(e,"<translationbundle> elements can not be nested");var n=e.attrs.find(function(e){return"lang"===e.name});n&&(this._locale=n.value),yc(this,e.children,null),this._bundleDepth--;break;case"translation":var r,i=e.attrs.find(function(e){return"id"===e.name});i?(r=i.value,this._msgIdToHtml.hasOwnProperty(r)?this._addError(e,"Duplicated translations for msg "+r):(n=e.startSourceSpan.end.offset,i=e.endSourceSpan.start.offset,i=e.startSourceSpan.start.file.content.slice(n,i),this._msgIdToHtml[r]=i)):this._addError(e,'<translation> misses the "id" attribute');break;default:this._addError(e,"Unexpected tag")}},Ay.prototype.visitAttribute=function(e,t){},Ay.prototype.visitText=function(e,t){},Ay.prototype.visitComment=function(e,t){},Ay.prototype.visitExpansion=function(e,t){},Ay.prototype.visitExpansionCase=function(e,t){},Ay.prototype._addError=function(e,t){this._errors.push(new Bv(e.sourceSpan,t))},Ay),xy=(Ny.prototype.convert=function(e,t){t=(new Jv).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=t.errors,{i18nNodes:0<this._errors.length||0==t.rootNodes.length?[]:yc(this,t.rootNodes),errors:this._errors}},Ny.prototype.visitText=function(e,t){return new $s(e.value,e.sourceSpan)},Ny.prototype.visitExpansion=function(t,e){var n={};return yc(this,t.cases).forEach(function(e){n[e.value]=new Ys(e.nodes,t.sourceSpan)}),new Js(t.switchValue,t.type,n,t.sourceSpan)},Ny.prototype.visitExpansionCase=function(e,t){return{value:e.value,nodes:yc(this,e.expression)}},Ny.prototype.visitElement=function(e,t){if("ph"===e.name){var n=e.attrs.find(function(e){return"name"===e.name});if(n)return new eo("",n.value,e.sourceSpan);this._addError(e,'<ph> misses the "name" attribute')}else this._addError(e,"Unexpected tag");return null},Ny.prototype.visitComment=function(e,t){},Ny.prototype.visitAttribute=function(e,t){},Ny.prototype._addError=function(e,t){this._errors.push(new Bv(e.sourceSpan,t))},Ny),Sy=(Py.load=function(e,t,n,r,i){e=n.load(e,t),t=e.locale;return new Py(e.i18nNodesByMsgId,t,function(e){return n.digest(e)},function(e){return n.createNameMapper(e)},r,i)},Py.prototype.get=function(e){e=this._i18nToHtml.convert(e);if(e.errors.length)throw new Error(e.errors.join("\n"));return e.nodes},Py.prototype.has=function(e){return this.digest(e)in this._i18nNodesByMsgId},Py),wy=(Ty.prototype.convert=function(e){this._contextStack.length=0,this._errors.length=0;var t=this._convertToText(e),e=e.nodes[0].sourceSpan.start.file.url,e=(new Jc).parse(t,e,{tokenizeExpansionForms:!0});return{nodes:e.rootNodes,errors:B(this._errors,e.errors)}},Ty.prototype.visitText=function(e,t){return ta(e.value)},Ty.prototype.visitContainer=function(e,t){var n=this;return e.children.map(function(e){return e.visit(n)}).join("")},Ty.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+(this._srcMsg.placeholders.hasOwnProperty(t.expression)?this._srcMsg.placeholders[t.expression]:t.expression)+", "+t.type+", "+r.join(" ")+"}"},Ty.prototype.visitPlaceholder=function(e,t){var n=this._mapper(e.name);return this._srcMsg.placeholders.hasOwnProperty(n)?this._srcMsg.placeholders[n]:this._srcMsg.placeholderToMessage.hasOwnProperty(n)?this._convertToText(this._srcMsg.placeholderToMessage[n]):(this._addError(e,'Unknown placeholder "'+e.name+'"'),"")},Ty.prototype.visitTagPlaceholder=function(t,e){var n=this,r=""+t.tag,i=Object.keys(t.attrs).map(function(e){return e+'="'+t.attrs[e]+'"'}).join(" ");return t.isVoid?"<"+r+" "+i+"/>":"<"+r+" "+i+">"+t.children.map(function(e){return e.visit(n)}).join("")+"</"+r+">"},Ty.prototype.visitIcuPlaceholder=function(e,t){return this._convertToText(this._srcMsg.placeholderToMessage[e.name])},Ty.prototype._convertToText=function(e){var t,n=this,r=this._digest(e),i=this._mapperFactory?this._mapperFactory(e):null;this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=e,this._i18nNodesByMsgId.hasOwnProperty(r)?(s=this._i18nNodesByMsgId[r],this._mapper=function(e){return i?i.toInternalName(e):e}):(this._missingTranslationStrategy===Q.Error?(t=this._locale?' for locale "'+this._locale+'"':"",this._addError(e.nodes[0],'Missing translation for message "'+r+'"'+t)):this._console&&this._missingTranslationStrategy===Q.Warning&&(t=this._locale?' for locale "'+this._locale+'"':"",this._console.warn('Missing translation for message "'+r+'"'+t)),s=e.nodes,this._mapper=function(e){return e});var e=s.map(function(e){return e.visit(n)}).join(""),s=this._contextStack.pop();return this._srcMsg=s.msg,this._mapper=s.mapper,e},Ty.prototype._addError=function(e,t){this._errors.push(new Bv(e.sourceSpan,t))},Ty),Cy=(by.prototype.parse=function(e,t,n){var r=(n=void 0===n?{}:n).interpolationConfig||Ka,t=this._htmlParser.parse(e,t,d({interpolationConfig:r},n));return t.errors.length?new Dc(t.rootNodes,t.errors):(n=t.rootNodes,t=this._translationBundle,r=r,new Wv([],{}).merge(n,t,r))},by);function by(e,t,n,r,i){void 0===r&&(r=Q.Warning),this._htmlParser=e,t?(e=function(){switch((n||"xlf").toLowerCase()){case"xmb":return new ra;case"xtb":return new gy;case"xliff2":case"xlf2":return new py;case"xliff":case"xlf":default:return new Zv}}(),this._translationBundle=Sy.load(t,"i18n",e,r,i)):this._translationBundle=new Sy({},null,ho,void 0,r,i)}function Ty(e,t,n,r,i,s){this._i18nNodesByMsgId=e=void 0===e?{}:e,this._locale=t,this._digest=n,this._mapperFactory=r,this._missingTranslationStrategy=i,this._console=s,this._contextStack=[],this._errors=[]}function Py(e,t,n,r,i,s){void 0===i&&(i=Q.Warning),this._i18nNodesByMsgId=e=void 0===e?{}:e,this.digest=n,this.mapperFactory=r,this._i18nToHtml=new wy(e,t,n,r,i,s)}function Ny(){}function Ay(){this._locale=null}function My(e,t,n){return void 0===n&&(n=null),Fr(t,new Iy(e),n)}var Iy=(ky.prototype.visitArray=function(e,t){var n=this;return Tr(e.map(function(e){return Fr(e,n,null)}),t)},ky.prototype.visitStringMap=function(t,e){var n=this,r=[],i=new Set(t&&t.$quoted$);return Object.keys(t).forEach(function(e){r.push(new $t(e,Fr(t[e],n,null),i.has(e)))}),new Yt(r,e)},ky.prototype.visitPrimitive=function(e,t){return Mr(e,t)},ky.prototype.visitOther=function(e,t){return e instanceof Ve?e:this.ctx.importExpr(e)},ky);function ky(e){this.ctx=e}function Ry(e,t){return{key:e,value:t,quoted:!1}}var Oy=(Vy.prototype.depsArray=function(e,a){var u=this;return e.map(function(e){var t,n,r=e,i=0;if(Array.isArray(e))for(var s=0;s<e.length;s++){var o=e[s];o&&("Optional"===o.ngMetadataName?i|=8:"SkipSelf"===o.ngMetadataName?i|=4:"Self"===o.ngMetadataName?i|=2:r="Inject"===o.ngMetadataName?o.token:o)}return t="string"==typeof r?Mr(r):r===u.tokenInjector?Sr(vi.INJECTOR):a.importExpr(r),n=0!==i?[t,Mr(i)]:[t],Sr(vi.inject).callFn(n)})},Vy.prototype.factoryFor=function(e,t){var n,r;if(e.useExisting)r=Sr(vi.inject).callFn([t.importExpr(e.useExisting)]);else if(e.useFactory){var i=e.deps||[];if(!(0<i.length))return t.importExpr(e.useFactory);r=t.importExpr(e.useFactory).callFn(this.depsArray(i,t))}else r=e.useValue?My(t,e.useValue):(n=e.useClass||e.symbol,i=this.depsArray(this.reflector.parameters(n),t),new dt(t.importExpr(n),i));return Nr([],[new Rn(r)],void 0,void 0,e.symbol.name+"_Factory")},Vy.prototype.injectableDef=function(e,t){var n=Zt;void 0!==e.providedIn&&(n=null===e.providedIn?Zt:"string"==typeof e.providedIn?Mr(e.providedIn):t.importExpr(e.providedIn));n=[Ry("factory",this.factoryFor(e,t)),Ry("token",t.importExpr(e.type.reference)),Ry("providedIn",n)];return Sr(vi.ɵɵdefineInjectable).callFn([Pr(n)])},Vy.prototype.compile=function(e,t){var n;!this.alwaysGenerateDef&&void 0===e.providedIn||(n=Ni(e.type),e=new Bn(n,null,[new Fn("ɵprov",Pe,[Tt.Static],this.injectableDef(e,t))],[],new Ln(null,[],[]),[]),t.statements.push(e))},Vy),Fy=/(\.ts|\.d\.ts|\.js|\.jsx|\.tsx)$/,Ly=/\.ngfactory\.|\.ngsummary\./,Dy=/\.ngsummary\./,By=/NgSummary$/;function Vy(e,t){this.reflector=e,this.alwaysGenerateDef=t,this.tokenInjector=e.resolveExternalReference(vi.Injector)}function jy(e,t){t=Hy(e,t=void 0===t?!1:t);return t[0]+".ngfactory"+qy(t[1])}function Uy(e){return e.replace(Ly,".")}function Hy(e,t){if(void 0===t&&(t=!1),e.endsWith(".d.ts"))return[e.slice(0,-5),t?".ts":".d.ts"];t=e.lastIndexOf(".");return-1!==t?[e.substring(0,t),e.substring(t)]:[e,""]}function qy(e){return".tsx"===e?".ts":e}function Wy(e){return e.replace(Fy,"")+".ngsummary.json"}function zy(e,t){void 0===t&&(t=!1);t=Hy(Uy(e),t);return t[0]+".ngsummary"+t[1]}function Ky(e){return e+"NgSummary"}var Qy,Gy=/\u0275\d+/;function Xy(e){return Gy.test(e)}(s=Qy=Qy||{})[s.OnInit=0]="OnInit",s[s.OnDestroy=1]="OnDestroy",s[s.DoCheck=2]="DoCheck",s[s.OnChanges=3]="OnChanges",s[s.AfterContentInit=4]="AfterContentInit",s[s.AfterContentChecked=5]="AfterContentChecked",s[s.AfterViewInit=6]="AfterViewInit",s[s.AfterViewChecked=7]="AfterViewChecked";var $y=[Qy.OnInit,Qy.OnDestroy,Qy.DoCheck,Qy.OnChanges,Qy.AfterContentInit,Qy.AfterContentChecked,Qy.AfterViewInit,Qy.AfterViewChecked];var Yy=(Jy.prototype.getReflector=function(){return this._reflector},Jy.prototype.clearCacheFor=function(e){var t=this._directiveCache.get(e);this._directiveCache.delete(e),this._nonNormalizedDirectiveCache.delete(e),this._summaryCache.delete(e),this._pipeCache.delete(e),this._ngModuleOfTypes.delete(e),this._ngModuleCache.clear(),t&&this._directiveNormalizer.clearCacheFor(t)},Jy.prototype.clearCache=function(){this._directiveCache.clear(),this._nonNormalizedDirectiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()},Jy.prototype._createProxyClass=function(e,t){function n(){if(!r)throw new Error("Illegal state: Class "+t+" for type "+$r(e)+" is not compiled yet!");return r.apply(this,arguments)}var r=null;return n.setDelegate=function(e){r=e,n.prototype=e.prototype},n.overriddenName=t,n},Jy.prototype.getGeneratedClass=function(e,t){return e instanceof Ei?this._staticSymbolCache.get(jy(e.filePath),t):this._createProxyClass(e,t)},Jy.prototype.getComponentViewClass=function(e){return this.getGeneratedClass(e,Mi(e,0))},Jy.prototype.getHostComponentViewClass=function(e){return this.getGeneratedClass(e,ki(e))},Jy.prototype.getHostComponentType=function(e){var t=Ni({reference:e})+"_Host";return e instanceof Ei?this._staticSymbolCache.get(e.filePath,t):this._createProxyClass(e,t)},Jy.prototype.getRendererType=function(e){return e instanceof Ei?this._staticSymbolCache.get(jy(e.filePath),Ii(e)):{}},Jy.prototype.getComponentFactory=function(e,t,n,r){if(t instanceof Ei)return this._staticSymbolCache.get(jy(t.filePath),Ri(t));var i=this.getHostComponentViewClass(t);return this._reflector.resolveExternalReference(vi.createComponentFactory)(e,t,i,n,r,[])},Jy.prototype.initComponentFactory=function(e,t){e instanceof Ei||(e=e.ngContentSelectors).push.apply(e,B(t))},Jy.prototype._loadSummary=function(e,t){var n,r=this._summaryCache.get(e);return r||(r=(n=this._summaryResolver.resolveSummary(e))?n.type:null,this._summaryCache.set(e,r||null)),r&&r.summaryKind===t?r:null},Jy.prototype.getHostComponentMetadata=function(e,t){var n=this.getHostComponentType(e.type.reference);t=t||this.getHostComponentViewClass(n);var r=b.parse(e.selector)[0].getMatchingElementTemplate(),e=this._htmlParser.parse(r,"");return Bi.create({isHost:!0,type:{reference:n,diDeps:[],lifecycleHooks:[]},template:new Di({encapsulation:S.None,template:r,templateUrl:"",htmlAst:e,styles:[],styleUrls:[],ngContentSelectors:[],animations:[],isInline:!0,externalStylesheets:[],interpolation:null,preserveWhitespaces:!1}),exportAs:null,changeDetection:w.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],guards:{},viewQueries:[],componentViewType:t,rendererType:{id:"__Host__",encapsulation:S.None,styles:[],data:{}},entryComponents:[],componentFactory:null})},Jy.prototype.loadDirectiveMetadata=function(e,n,t){var r=this;if(this._directiveCache.has(n))return null;n=Yr(n);function i(e){var t=new Bi({isHost:!1,type:a.type,isComponent:a.isComponent,selector:a.selector,exportAs:a.exportAs,changeDetection:a.changeDetection,inputs:a.inputs,outputs:a.outputs,hostListeners:a.hostListeners,hostProperties:a.hostProperties,hostAttributes:a.hostAttributes,providers:a.providers,viewProviders:a.viewProviders,queries:a.queries,guards:a.guards,viewQueries:a.viewQueries,entryComponents:a.entryComponents,componentViewType:a.componentViewType,rendererType:a.rendererType,componentFactory:a.componentFactory,template:e});return e&&r.initComponentFactory(a.componentFactory,e.ngContentSelectors),r._directiveCache.set(n,t),r._summaryCache.set(n,t.toSummary()),null}var s=this.getNonNormalizedDirectiveMetadata(n),o=s.annotation,a=s.metadata;if(a.isComponent){var s=a.template,o=this._directiveNormalizer.normalizeTemplate({ngModuleType:e,componentType:n,moduleUrl:this._reflector.componentModuleUrl(n,o),encapsulation:s.encapsulation,template:s.template,templateUrl:s.templateUrl,styles:s.styles,styleUrls:s.styleUrls,animations:s.animations,interpolation:s.interpolation,preserveWhitespaces:s.preserveWhitespaces});return Jr(o)&&t?(this._reportError((s=n,(t=Error("Can't compile synchronously as "+$r(s)+" is still being loaded!")).ngComponentType=s,t),n),null):Vr(o,i)}return i(null),null},Jy.prototype.getNonNormalizedDirectiveMetadata=function(e){var t=this;if(!(e=Yr(e)))return null;var n=this._nonNormalizedDirectiveCache.get(e);if(n)return n;var r=this._directiveResolver.resolve(e,!1);if(!r)return null;var i=void 0;G.isTypeOf(r)&&(Ha("styles",(c=r).styles),Ha("styleUrls",c.styleUrls),Wa("interpolation",c.interpolation),l=c.animations,i=new Di({encapsulation:Dr(c.encapsulation),template:Dr(c.template),templateUrl:Dr(c.templateUrl),htmlAst:null,styles:c.styles||[],styleUrls:c.styleUrls||[],animations:l||[],interpolation:Dr(c.interpolation),isInline:!!c.template,externalStylesheets:[],ngContentSelectors:[],preserveWhitespaces:Dr(r.preserveWhitespaces)}));var s=null,o=[],a=[],u=r.selector,u=G.isTypeOf(r)?(s=(c=r).changeDetection,c.viewProviders&&(o=this._getProvidersMetadata(c.viewProviders,a,'viewProviders for "'+ig(e)+'"',[],e)),c.entryComponents&&(a=Zy(c.entryComponents).map(function(e){return t._getEntryComponentMetadata(e)}).concat(a)),u||this._schemaRegistry.getDefaultComponentElementName()):u||null,p=[];null!=r.providers&&(p=this._getProvidersMetadata(r.providers,a,'providers for "'+ig(e)+'"',[],e));var l=[],c=[];null!=r.queries&&(l=this._getQueriesMetadata(r.queries,!1,e),c=this._getQueriesMetadata(r.queries,!0,e));a=Bi.create({isHost:!1,selector:u,exportAs:Dr(r.exportAs),isComponent:!!i,type:this._getTypeMetadata(e),template:i,changeDetection:s,inputs:r.inputs||[],outputs:r.outputs||[],host:r.host||{},providers:p||[],viewProviders:o||[],queries:l||[],guards:r.guards||{},viewQueries:c||[],entryComponents:a,componentViewType:i?this.getComponentViewClass(e):null,rendererType:i?this.getRendererType(e):null,componentFactory:null});return i&&(a.componentFactory=this.getComponentFactory(u,e,a.inputs,a.outputs)),this._nonNormalizedDirectiveCache.set(e,n={metadata:a,annotation:r}),n},Jy.prototype.getDirectiveMetadata=function(e){var t=this._directiveCache.get(e);return t||this._reportError(Wr("Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive "+ig(e)+"."),e),t},Jy.prototype.getDirectiveSummary=function(e){var t=this._loadSummary(e,Ti.Directive);return t||this._reportError(Wr("Illegal state: Could not load the summary for directive "+ig(e)+"."),e),t},Jy.prototype.isDirective=function(e){return!!this._loadSummary(e,Ti.Directive)||this._directiveResolver.isDirective(e)},Jy.prototype.isAbstractDirective=function(e){var t=this._loadSummary(e,Ti.Directive);if(t&&!t.isComponent)return!t.selector;e=this._directiveResolver.resolve(e,!1);return!(!e||G.isTypeOf(e)||e.selector)},Jy.prototype.isPipe=function(e){return!!this._loadSummary(e,Ti.Pipe)||this._pipeResolver.isPipe(e)},Jy.prototype.isNgModule=function(e){return!!this._loadSummary(e,Ti.NgModule)||this._ngModuleResolver.isNgModule(e)},Jy.prototype.getNgModuleSummary=function(e,t){void 0===t&&(t=null);var n=this._loadSummary(e,Ti.NgModule);return n||(n=(t=this.getNgModuleMetadata(e,!1,t))?t.toSummary():null)&&this._summaryCache.set(e,n),n},Jy.prototype.loadNgModuleDirectiveAndPipeMetadata=function(t,n,e){var r=this,e=this.getNgModuleMetadata(t,e=void 0===e?!0:e),i=[];return e&&(e.declaredDirectives.forEach(function(e){e=r.loadDirectiveMetadata(t,e.reference,n);e&&i.push(e)}),e.declaredPipes.forEach(function(e){return r._loadPipeMetadata(e.reference)})),Promise.all(i)},Jy.prototype.getShallowModuleMetadata=function(e){if(n=this._shallowModuleCache.get(e))return n;var t=Lv(this._reflector.shallowAnnotations(e),ee.isTypeOf),n={type:this._getTypeMetadata(e),rawExports:t.exports,rawImports:t.imports,rawProviders:t.providers};return this._shallowModuleCache.set(e,n),n},Jy.prototype.getNgModuleMetadata=function(r,e,i){var s=this;void 0===e&&(e=!0),void 0===i&&(i=null),r=Yr(r);var t=this._ngModuleCache.get(r);if(t)return t;var n=this._ngModuleResolver.resolve(r,e);if(!n)return null;var o=[],a=[],u=[],p=[],l=[],c=[],h=[],d=[],e=[];n.imports&&Zy(n.imports).forEach(function(e){var t,n=void 0;eg(e)?n=e:e&&e.ngModule&&(n=e.ngModule,e.providers&&c.push.apply(c,B(s._getProvidersMetadata(e.providers,h,"provider for the NgModule '"+ig(n)+"'",[],e)))),n?s._checkSelfImport(r,n)||((i=i||new Set).has(n)?s._reportError(Wr(s._getTypeDescriptor(n)+" '"+ig(e)+"' is imported recursively by the module '"+ig(r)+"'."),r):(i.add(n),t=s.getNgModuleSummary(n,i),i.delete(n),t?p.push(t):s._reportError(Wr("Unexpected "+s._getTypeDescriptor(e)+" '"+ig(e)+"' imported by the module '"+ig(r)+"'. Please add a @NgModule annotation."),r))):s._reportError(Wr("Unexpected value '"+ig(e)+"' imported by the module '"+ig(r)+"'"),r)}),n.exports&&Zy(n.exports).forEach(function(e){var t;eg(e)?(i=i||new Set).has(e)?s._reportError(Wr(s._getTypeDescriptor(e)+" '"+$r(e)+"' is exported recursively by the module '"+ig(r)+"'"),r):(i.add(e),t=s.getNgModuleSummary(e,i),i.delete(e),t?l.push(t):a.push(s._getIdentifierMetadata(e))):s._reportError(Wr("Unexpected value '"+ig(e)+"' exported by the module '"+ig(r)+"'"),r)});var f=this._getTransitiveNgModuleMetadata(p,l);n.declarations&&Zy(n.declarations).forEach(function(e){var t;eg(e)?(t=s._getIdentifierMetadata(e),s.isDirective(e)?(s.isAbstractDirective(e)&&s._reportError(Wr("Directive "+ig(e)+" has no selector, please add it!"),e),f.addDirective(t),o.push(t),s._addTypeToModule(e,r)):s.isPipe(e)?(f.addPipe(t),f.pipes.push(t),u.push(t),s._addTypeToModule(e,r)):s._reportError(Wr("Unexpected "+s._getTypeDescriptor(e)+" '"+ig(e)+"' declared by the module '"+ig(r)+"'. Please add a @Pipe/@Directive/@Component annotation."),r)):s._reportError(Wr("Unexpected value '"+ig(e)+"' declared by the module '"+ig(r)+"'"),r)});var m=[],v=[];return a.forEach(function(e){f.directivesSet.has(e.reference)?(m.push(e),f.addExportedDirective(e)):f.pipesSet.has(e.reference)?(v.push(e),f.addExportedPipe(e)):s._reportError(Wr("Can't export "+s._getTypeDescriptor(e.reference)+" "+ig(e.reference)+" from "+ig(r)+" as it was neither declared nor imported!"),r)}),n.providers&&c.push.apply(c,B(this._getProvidersMetadata(n.providers,h,"provider for the NgModule '"+ig(r)+"'",[],r))),n.entryComponents&&h.push.apply(h,B(Zy(n.entryComponents).map(function(e){return s._getEntryComponentMetadata(e)}))),n.bootstrap&&Zy(n.bootstrap).forEach(function(e){eg(e)?d.push(s._getIdentifierMetadata(e)):s._reportError(Wr("Unexpected value '"+ig(e)+"' used in the bootstrap property of module '"+ig(r)+"'"),r)}),h.push.apply(h,B(d.map(function(e){return s._getEntryComponentMetadata(e.reference)}))),n.schemas&&e.push.apply(e,B(Zy(n.schemas))),t=new ji({type:this._getTypeMetadata(r),providers:c,entryComponents:h,bootstrapComponents:d,schemas:e,declaredDirectives:o,exportedDirectives:m,declaredPipes:u,exportedPipes:v,importedModules:p,exportedModules:l,transitiveModule:f,id:n.id||null}),h.forEach(function(e){return f.addEntryComponent(e)}),c.forEach(function(e){return f.addProvider(e,t.type)}),f.addModule(t.type),this._ngModuleCache.set(r,t),t},Jy.prototype._checkSelfImport=function(e,t){return e===t&&(this._reportError(Wr("'"+ig(e)+"' module can't import itself"),e),!0)},Jy.prototype._getTypeDescriptor=function(e){if(eg(e)){if(this.isDirective(e))return"directive";if(this.isPipe(e))return"pipe";if(this.isNgModule(e))return"module"}return e.provide?"provider":"value"},Jy.prototype._addTypeToModule=function(e,t){var n=this._ngModuleOfTypes.get(e);n&&n!==t?this._reportError(Wr("Type "+ig(e)+" is part of the declarations of 2 modules: "+ig(n)+" and "+ig(t)+"! Please consider moving "+ig(e)+" to a higher module that imports "+ig(n)+" and "+ig(t)+". You can also create a new NgModule that exports and includes "+ig(e)+" then import that NgModule in "+ig(n)+" and "+ig(t)+"."),t):this._ngModuleOfTypes.set(e,t)},Jy.prototype._getTransitiveNgModuleMetadata=function(e,t){var s=new Ui,o=new Map;return e.concat(t).forEach(function(e){e.modules.forEach(function(e){return s.addModule(e)}),e.entryComponents.forEach(function(e){return s.addEntryComponent(e)});var i=new Set;e.providers.forEach(function(e){var t=Fi(e.provider.token),n=o.get(t);n||(n=new Set,o.set(t,n));var r=e.module.reference;!i.has(t)&&n.has(r)||(n.add(r),i.add(t),s.addProvider(e.provider,e.module))})}),t.forEach(function(e){e.exportedDirectives.forEach(function(e){return s.addExportedDirective(e)}),e.exportedPipes.forEach(function(e){return s.addExportedPipe(e)})}),e.forEach(function(e){e.exportedDirectives.forEach(function(e){return s.addDirective(e)}),e.exportedPipes.forEach(function(e){return s.addPipe(e)})}),s},Jy.prototype._getIdentifierMetadata=function(e){return{reference:e=Yr(e)}},Jy.prototype.isInjectable=function(e){return this._reflector.tryAnnotations(e).some(function(e){return te.isTypeOf(e)})},Jy.prototype.getInjectableSummary=function(e){return{summaryKind:Ti.Injectable,type:this._getTypeMetadata(e,null,!1)}},Jy.prototype.getInjectableMetadata=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!0);var r=this._loadSummary(e,Ti.Injectable),t=r?r.type:this._getTypeMetadata(e,t,n),n=this._reflector.annotations(e).filter(function(e){return te.isTypeOf(e)});if(0===n.length)return null;n=n[n.length-1];return{symbol:e,type:t,providedIn:n.providedIn,useValue:n.useValue,useClass:n.useClass,useExisting:n.useExisting,useFactory:n.useFactory,deps:n.deps}},Jy.prototype._getTypeMetadata=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!0);var r,i,e=this._getIdentifierMetadata(e);return{reference:e.reference,diDeps:this._getDependenciesMetadata(e.reference,t,n),lifecycleHooks:(r=this._reflector,i=e.reference,$y.filter(function(e){return r.hasLifecycleHook(i,function(e){switch(e){case Qy.OnInit:return"ngOnInit";case Qy.OnDestroy:return"ngOnDestroy";case Qy.DoCheck:return"ngDoCheck";case Qy.OnChanges:return"ngOnChanges";case Qy.AfterContentInit:return"ngAfterContentInit";case Qy.AfterContentChecked:return"ngAfterContentChecked";case Qy.AfterViewInit:return"ngAfterViewInit";case Qy.AfterViewChecked:return"ngAfterViewChecked";default:throw new Error("unexpected "+e)}}(e))}))}},Jy.prototype._getFactoryMetadata=function(e,t){return void 0===t&&(t=null),{reference:e=Yr(e),diDeps:this._getDependenciesMetadata(e,t)}},Jy.prototype.getPipeMetadata=function(e){var t=this._pipeCache.get(e);return t||this._reportError(Wr("Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe "+ig(e)+"."),e),t||null},Jy.prototype.getPipeSummary=function(e){var t=this._loadSummary(e,Ti.Pipe);return t||this._reportError(Wr("Illegal state: Could not load the summary for pipe "+ig(e)+"."),e),t},Jy.prototype.getOrLoadPipeMetadata=function(e){return this._pipeCache.get(e)||this._loadPipeMetadata(e)},Jy.prototype._loadPipeMetadata=function(e){e=Yr(e);var t=this._pipeResolver.resolve(e),t=new Vi({type:this._getTypeMetadata(e),name:t.name,pure:!!t.pure});return this._pipeCache.set(e,t),this._summaryCache.set(e,t.toSummary()),t},Jy.prototype._getDependenciesMetadata=function(e,t,n){var a=this;void 0===n&&(n=!0);var u=!1,r=(t||this._reflector.parameters(e)||[]).map(function(e){var t=!1,n=!1,r=!1,i=!1,s=!1,o=null;return Array.isArray(e)?e.forEach(function(e){ae.isTypeOf(e)?n=!0:se.isTypeOf(e)?r=!0:oe.isTypeOf(e)?i=!0:ie.isTypeOf(e)?s=!0:F.isTypeOf(e)?(t=!0,o=e.attributeName):R.isTypeOf(e)?o=e.token:(O.isTypeOf(e)||e instanceof Ei||eg(e)&&null==o)&&(o=e)}):o=e,null==o?(u=!0,{}):{isAttribute:t,isHost:n,isSelf:r,isSkipSelf:i,isOptional:s,token:a._getTokenMetadata(o)}});return u&&(t=r.map(function(e){return e.token?ig(e.token):"?"}).join(", "),t="Can't resolve all parameters for "+ig(e)+": ("+t+").",n||this._config.strictInjectionParameters?this._reportError(Wr(t),e):this._console.warn("Warning: "+t+" This will become an error in Angular v6.x")),r},Jy.prototype._getTokenMetadata=function(e){return"string"==typeof(e=Yr(e))?{value:e}:{identifier:{reference:e}}},Jy.prototype._getProvidersMetadata=function(i,s,o,a,u){var p=this;return void 0===a&&(a=[]),i.forEach(function(e,r){if(Array.isArray(e))p._getProvidersMetadata(e,s,o,a);else{var t=void 0;if((e=Yr(e))&&"object"==typeof e&&e.hasOwnProperty("provide"))p._validateProvider(e),t=new Qi(e.provide,e);else{if(!eg(e)){if(void 0===e)return void p._reportError(Wr("Encountered undefined provider! Usually this means you have a circular dependencies. This might be caused by using 'barrel' index.ts files."));var n=i.reduce(function(e,t,n){return n<r?e.push(""+ig(t)):n==r?e.push("?"+ig(t)+"?"):n==r+1&&e.push("..."),e},[]).join(", ");return void p._reportError(Wr("Invalid "+(o||"provider")+" - only instances of Provider and Type are allowed, got: ["+n+"]"),u)}t=new Qi(e,{useClass:e})}t.token===p._reflector.resolveExternalReference(vi.ANALYZE_FOR_ENTRY_COMPONENTS)?s.push.apply(s,B(p._getEntryComponentsFromProvider(t,u))):a.push(p.getProviderMetadata(t))}}),a},Jy.prototype._validateProvider=function(e){e.hasOwnProperty("useClass")&&null==e.useClass&&this._reportError(Wr("Invalid provider for "+ig(e.provide)+". useClass cannot be "+e.useClass+".\n           Usually it happens when:\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\n           2. Class was used before it was declared. Use forwardRef in this case."))},Jy.prototype._getEntryComponentsFromProvider=function(e,t){var n,r=this,i=[],s=[];return e.useFactory||e.useExisting||e.useClass?(this._reportError(Wr("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),t),[]):e.multi?(n=s,Fr(e.useValue,new ng,n),s.forEach(function(e){e=r._getEntryComponentMetadata(e.reference,!1);e&&i.push(e)}),i):(this._reportError(Wr("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),t),[])},Jy.prototype._getEntryComponentMetadata=function(e,t){void 0===t&&(t=!0);var n=this.getNonNormalizedDirectiveMetadata(e);if(n&&n.metadata.isComponent)return{componentType:e,componentFactory:n.metadata.componentFactory};n=this._loadSummary(e,Ti.Directive);if(n&&n.isComponent)return{componentType:e,componentFactory:n.componentFactory};if(t)throw Wr(e.name+" cannot be used as an entry component.");return null},Jy.prototype._getInjectableTypeMetadata=function(e,t){void 0===t&&(t=null);var n=this._loadSummary(e,Ti.Injectable);return n?n.type:this._getTypeMetadata(e,t)},Jy.prototype.getProviderMetadata=function(e){var t=void 0,n=null,r=null,i=this._getTokenMetadata(e.token);return e.useClass?(t=(n=this._getInjectableTypeMetadata(e.useClass,e.dependencies)).diDeps,e.token===e.useClass&&(i={identifier:n})):e.useFactory&&(t=(r=this._getFactoryMetadata(e.useFactory,e.dependencies)).diDeps),{token:i,useClass:n,useValue:e.useValue,useFactory:r,useExisting:e.useExisting?this._getTokenMetadata(e.useExisting):void 0,deps:t,multi:e.multi}},Jy.prototype._getQueriesMetadata=function(n,r,i){var s=this,o=[];return Object.keys(n).forEach(function(e){var t=n[e];t.isViewQuery===r&&o.push(s._getQueryMetadata(t,e,i))}),o},Jy.prototype._queryVarBindings=function(e){return e.split(/\s*,\s*/)},Jy.prototype._getQueryMetadata=function(e,t,n){var r=this,n="string"==typeof e.selector?this._queryVarBindings(e.selector).map(function(e){return r._getTokenMetadata(e)}):e.selector?[this._getTokenMetadata(e.selector)]:(this._reportError(Wr("Can't construct a query for the property \""+t+'" of "'+ig(n)+"\" since the query selector wasn't defined."),n),[]);return{selectors:n,first:e.first,descendants:e.descendants,propertyName:t,read:e.read?this._getTokenMetadata(e.read):null,static:e.static}},Jy.prototype._reportError=function(e,t,n){if(!this._errorCollector)throw e;this._errorCollector(e,t),n&&this._errorCollector(e,n)},Jy);function Jy(e,t,n,r,i,s,o,a,u,p,l,c){this._config=e,this._htmlParser=t,this._ngModuleResolver=n,this._directiveResolver=r,this._pipeResolver=i,this._summaryResolver=s,this._schemaRegistry=o,this._directiveNormalizer=a,this._console=u,this._staticSymbolCache=p,this._reflector=l,this._errorCollector=c,this._nonNormalizedDirectiveCache=new Map,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._shallowModuleCache=new Map}function Zy(e){return(e=function e(t,n){if(void 0===n&&(n=[]),t)for(var r=0;r<t.length;r++){var i=Yr(t[r]);Array.isArray(i)?e(i,n):n.push(i)}return n}(e))?Array.from(new Set(e)):[]}function eg(e){return e instanceof Ei||e instanceof ue}var tg,ng=(h(rg,tg=Ur),rg.prototype.visitOther=function(e,t){t.push({reference:e})},rg);function rg(){return null!==tg&&tg.apply(this,arguments)||this}function ig(e){return e instanceof Ei?e.name+" in "+e.filePath:$r(e)}function sg(e,t){var n=0;t.eager||(n|=4096),t.providerType===mh.PrivateService&&(n|=8192),t.isModule&&(n|=1073741824),t.lifecycleHooks.forEach(function(e){e!==Qy.OnDestroy&&t.providerType!==mh.Directive&&t.providerType!==mh.Component||(n|=pg(e))});var r,i,s,o,a,i=t.multiProvider?(r=e,i=n,s=t.providers,o=[],a=[],s=s.map(function(e,t){var n;return e.useClass?(n=u(t,e.deps||e.useClass.diDeps),r.importExpr(e.useClass.reference).instantiate(n)):e.useFactory?(n=u(t,e.deps||e.useFactory.diDeps),r.importExpr(e.useFactory.reference).callFn(n)):e.useExisting?(n=u(t,[{token:e.useExisting}]))[0]:My(r,e.useValue)}),{providerExpr:Nr(a,[new Rn(Tr(s))],Pe),flags:1024|i,depsExpr:Tr(o)}):og(e,n,t.providerType,t.providers[0]);function u(n,e){return e.map(function(e,t){t="p"+n+"_"+t;return a.push(new Wt(t,Te)),o.push(ug(r,e)),xr(t)})}return{providerExpr:i.providerExpr,flags:i.flags,depsExpr:i.depsExpr,tokenExpr:ag(e,t.token)}}function og(t,e,n,r){var i,r=n===mh.Directive||n===mh.Component?(i=t.importExpr(r.useClass.reference),e|=16384,r.deps||r.useClass.diDeps):r.useClass?(i=t.importExpr(r.useClass.reference),e|=512,r.deps||r.useClass.diDeps):r.useFactory?(i=t.importExpr(r.useFactory.reference),e|=1024,r.deps||r.useFactory.diDeps):r.useExisting?(i=Zt,e|=2048,[{token:r.useExisting}]):(i=My(t,r.useValue),e|=256,[]);return{providerExpr:i,flags:e,depsExpr:Tr(r.map(function(e){return ug(t,e)}))}}function ag(e,t){return t.identifier?e.importExpr(t.identifier.reference):Mr(t.value)}function ug(e,t){var n=t.isValue?My(e,t.value):ag(e,t.token),e=0;return t.isSkipSelf&&(e|=1),t.isOptional&&(e|=2),t.isSelf&&(e|=4),t.isValue&&(e|=8),0===e?n:Tr([Mr(e),n])}function pg(e){var t=0;switch(e){case Qy.AfterContentChecked:t=2097152;break;case Qy.AfterContentInit:t=1048576;break;case Qy.AfterViewChecked:t=8388608;break;case Qy.AfterViewInit:t=4194304;break;case Qy.DoCheck:t=262144;break;case Qy.OnChanges:t=524288;break;case Qy.OnDestroy:t=131072;break;case Qy.OnInit:t=65536}return t}function lg(e,t,n,r){var i=r.map(function(e){return t.importExpr(e.componentFactory)}),r=_i(e,vi.ComponentFactoryResolver),e={diDeps:[{isValue:!0,value:Tr(i)},{token:r,isSkipSelf:!0,isOptional:!0},{token:_i(e,vi.NgModuleRef)}],lifecycleHooks:[],reference:e.resolveExternalReference(vi.CodegenComponentFactoryResolver)},e=og(t,n,mh.PrivateService,{token:r,multi:!1,useClass:e});return{providerExpr:e.providerExpr,flags:e.flags,depsExpr:e.depsExpr,tokenExpr:ag(t,r)}}function cg(e){this.ngModuleFactoryVar=e}var hg=xr("_l"),dg=(vg.prototype.compile=function(t,e,n){var r=Ss("NgModule",e.type),i=e.transitiveModule.entryComponents,s=e.bootstrapComponents,r=new Yh(this.reflector,e,n,r),i=[lg(this.reflector,t,0,i)].concat(r.parse().map(function(e){return sg(t,e)})).map(function(e){var t=e.providerExpr,n=e.depsExpr,r=e.flags,e=e.tokenExpr;return Sr(vi.moduleProviderDef).callFn([Mr(r),e,t,n])}),r=Sr(vi.moduleDef).callFn([Tr(i)]),i=Nr([new Wt(hg.name)],[new Rn(r)],Pe),r=Ni(e.type)+"NgFactory";return this._createNgModuleFactory(t,e.type.reference,Sr(vi.createModuleFactory).callFn([t.importExpr(e.type.reference),Tr(s.map(function(e){return t.importExpr(e.reference)})),i])),e.id&&(e="string"==typeof e.id?Mr(e.id):t.importExpr(e.id),e=Sr(vi.RegisterModuleFactoryFn).callFn([e,xr(r)]).toStmt(),t.statements.push(e)),new cg(r)},vg.prototype.createStub=function(e,t){this._createNgModuleFactory(e,t,Zt)},vg.prototype._createNgModuleFactory=function(e,t,n){t=xr(Ni({reference:t})+"NgFactory").set(n).toDeclStmt(wr(vi.NgModuleFactory,[Cr(e.importExpr(t))],[he.Const]),[Tt.Final,Tt.Exported]);e.statements.push(t)},vg),fg=(mg.prototype.isNgModule=function(e){return this._reflector.annotations(e).some(ee.isTypeOf)},mg.prototype.resolve=function(e,t){void 0===t&&(t=!0);var n=Lv(this._reflector.annotations(e),ee.isTypeOf);if(n)return n;if(t)throw new Error("No NgModule metadata found for '"+$r(e)+"'.");return null},mg);function mg(e){this._reflector=e}function vg(e){this.reflector=e}function yg(e){var t=new xg,n=ru.createRoot();return(Array.isArray(e)?e:[e]).forEach(function(e){if(e instanceof An)e.visitStatement(t,n);else if(e instanceof Ve)e.visitExpression(t,n);else{if(!(e instanceof me))throw new Error("Don't know how to print debug info for "+e);e.visitType(t,n)}}),n.toSource()}function gg(e,t){this.viewClassVar=e,this.rendererTypeVar=t}var _g,Eg=(Ug.prototype.emitStatementsAndContext=function(e,t,n,r,i,s){void 0===n&&(n=""),void 0===r&&(r=!0);i=new xg(i,s),s=ru.createRoot();i.visitAllStatements(t,s);var o=n?n.split("\n"):[];i.reexports.forEach(function(e,t){e=e.map(function(e){return e.name+" as "+e.as}).join(",");o.push("export {"+e+"} from '"+t+"';")}),i.importsWithPrefixes.forEach(function(e,t){o.push("import * as "+e+" from '"+t+"';")});r=r?s.toSourceMapGenerator(e,o.length).toJsComment():"",e=B(o,[s.toSource(),r]);return r&&e.push(""),s.setPreambleLineCount(o.length),{sourceText:e.join("\n"),context:s}},Ug.prototype.emitStatements=function(e,t,n){return this.emitStatementsAndContext(e,t,n=void 0===n?"":n).sourceText},Ug),xg=(h(jg,_g=mi),jg.prototype.visitType=function(e,t,n){void 0===n&&(n="any"),e?(this.typeExpression++,e.visitType(this,t),this.typeExpression--):t.print(null,n)},jg.prototype.visitLiteralExpr=function(e,t){var n=e.value;return null==n&&e.type!=Pe?(t.print(e,"("+n+" as any)"),null):_g.prototype.visitLiteralExpr.call(this,e,t)},jg.prototype.visitLiteralArrayExpr=function(e,t){0===e.entries.length&&t.print(e,"(");var n=_g.prototype.visitLiteralArrayExpr.call(this,e,t);return 0===e.entries.length&&t.print(e," as any[])"),n},jg.prototype.visitExternalExpr=function(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null},jg.prototype.visitAssertNotNullExpr=function(e,t){var n=_g.prototype.visitAssertNotNullExpr.call(this,e,t);return t.print(e,"!"),n},jg.prototype.visitDeclareVarStmt=function(e,t){if(e.hasModifier(Tt.Exported)&&e.value instanceof Vt&&!e.type){var n=e.value.value,r=n.name,i=n.moduleName;if(i){n=this.reexports.get(i);return n||this.reexports.set(i,n=[]),n.push({name:r,as:e.name}),null}}return e.hasModifier(Tt.Exported)&&t.print(e,"export "),e.hasModifier(Tt.Final)?t.print(e,"const"):t.print(e,"var"),t.print(e," "+e.name),this._printColonType(e.type,t),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null},jg.prototype.visitWrappedNodeExpr=function(e,t){throw new Error("Cannot visit a WrappedNodeExpr when outputting Typescript.")},jg.prototype.visitCastExpr=function(e,t){return t.print(e,"(<"),e.type.visitType(this,t),t.print(e,">"),e.value.visitExpression(this,t),t.print(e,")"),null},jg.prototype.visitInstantiateExpr=function(e,t){return t.print(e,"new "),this.typeExpression++,e.classExpr.visitExpression(this,t),this.typeExpression--,t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null},jg.prototype.visitDeclareClassStmt=function(e,t){var n=this;return t.pushClass(e),e.hasModifier(Tt.Exported)&&t.print(e,"export "),t.print(e,"class "+e.name),null!=e.parent&&(t.print(e," extends "),this.typeExpression++,e.parent.visitExpression(this,t),this.typeExpression--),t.println(e," {"),t.incIndent(),e.fields.forEach(function(e){return n._visitClassField(e,t)}),null!=e.constructorMethod&&this._visitClassConstructor(e,t),e.getters.forEach(function(e){return n._visitClassGetter(e,t)}),e.methods.forEach(function(e){return n._visitClassMethod(e,t)}),t.decIndent(),t.println(e,"}"),t.popClass(),null},jg.prototype._visitClassField=function(e,t){e.hasModifier(Tt.Private)&&t.print(null,"/*private*/ "),e.hasModifier(Tt.Static)&&t.print(null,"static "),t.print(null,e.name),this._printColonType(e.type,t),e.initializer&&(t.print(null," = "),e.initializer.visitExpression(this,t)),t.println(null,";")},jg.prototype._visitClassGetter=function(e,t){e.hasModifier(Tt.Private)&&t.print(null,"private "),t.print(null,"get "+e.name+"()"),this._printColonType(e.type,t),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")},jg.prototype._visitClassConstructor=function(e,t){t.print(e,"constructor("),this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.constructorMethod.body,t),t.decIndent(),t.println(e,"}")},jg.prototype._visitClassMethod=function(e,t){e.hasModifier(Tt.Private)&&t.print(null,"private "),t.print(null,e.name+"("),this._visitParams(e.params,t),t.print(null,")"),this._printColonType(e.type,t,"void"),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")},jg.prototype.visitFunctionExpr=function(e,t){return e.name&&(t.print(e,"function "),t.print(e,e.name)),t.print(e,"("),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),e.name||t.print(e," => "),t.println(e,"{"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null},jg.prototype.visitDeclareFunctionStmt=function(e,t){return e.hasModifier(Tt.Exported)&&t.print(e,"export "),t.print(e,"function "+e.name+"("),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),t.println(e," {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null},jg.prototype.visitTryCatchStmt=function(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,"} catch ("+tu.name+") {"),t.incIndent();var n=[nu.set(tu.prop("stack",null)).toDeclStmt(null,[Tt.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null},jg.prototype.visitBuiltinType=function(e,t){var n;switch(e.name){case fe.Bool:n="boolean";break;case fe.Dynamic:n="any";break;case fe.Function:n="Function";break;case fe.Number:case fe.Int:n="number";break;case fe.String:n="string";break;case fe.None:n="never";break;default:throw new Error("Unsupported builtin type "+e.name)}return t.print(null,n),null},jg.prototype.visitExpressionType=function(e,t){var n=this;return e.value.visitExpression(this,t),null!==e.typeParams&&(t.print(null,"<"),this.visitAllObjects(function(e){return n.visitType(e,t)},e.typeParams,t,","),t.print(null,">")),null},jg.prototype.visitArrayType=function(e,t){return this.visitType(e.of,t),t.print(null,"[]"),null},jg.prototype.visitMapType=function(e,t){return t.print(null,"{[key: string]:"),this.visitType(e.valueType,t),t.print(null,"}"),null},jg.prototype.getBuiltinMethodName=function(e){var t;switch(e){case Ue.ConcatArray:t="concat";break;case Ue.SubscribeObservable:t="subscribe";break;case Ue.Bind:t="bind";break;default:throw new Error("Unknown builtin method: "+e)}return t},jg.prototype._visitParams=function(e,t){var n=this;this.visitAllObjects(function(e){t.print(null,e.name),n._printColonType(e.type,t)},e,t,",")},jg.prototype._visitIdentifier=function(e,t,n){var r=this,i=e.name,s=e.moduleName;this.referenceFilter&&this.referenceFilter(e)?n.print(null,"(null as any)"):(!s||this.importFilter&&this.importFilter(e)||(null==(e=this.importsWithPrefixes.get(s))&&(e="i"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(s,e)),n.print(null,e+".")),n.print(null,i),0<this.typeExpression&&0<(t||[]).length&&(n.print(null,"<"),this.visitAllObjects(function(e){return e.visitType(r,n)},t,n,","),n.print(null,">")))},jg.prototype._printColonType=function(e,t,n){e!==Pe&&(t.print(null,":"),this.visitType(e,t,n))},jg),Sg=(Vg.prototype.isPipe=function(e){e=this._reflector.annotations(Yr(e));return e&&e.some(X.isTypeOf)},Vg.prototype.resolve=function(e,t){void 0===t&&(t=!0);var n=this._reflector.annotations(Yr(e));if(n){n=Lv(n,X.isTypeOf);if(n)return n}if(t)throw new Error("No Pipe decorator found on "+$r(e));return null},Vg),wg=(Bg.prototype.compileComponent=function(e,i,t,n,s,o){var a=this,u=new Map;n.forEach(function(e){return u.set(e.name,e.type.reference)});var p=0,n=function e(t,n){var r=p++;return new bg(a.options,a.reflector,s,t,i.type.reference,i.isHost,r,u,n,o,e)}(null,[]);return n.visitAll([],t),n.build(e)},Bg),Cg=(Dg.prototype.notifyImplicitReceiverUse=function(){},Dg.prototype.getLocal=function(e){return e===Jp.event.name?xr("_any"):null},new Dg),bg=(Lg.prototype.getOutputVar=function(e){var t;if(!(t=(e!==this.component||!this.isHostComponent)&&e instanceof Ei?this.externalReferenceVars.get(e):"_any"))throw new Error("Illegal State: referring to a type without a variable "+JSON.stringify(e));return t},Lg.prototype.getTypeGuardExpressions=function(e){var t,n,r,i,s=B(this.guards);try{for(var o=D(e.directives),a=o.next();!a.done;a=o.next()){var u=a.value;try{for(var p=(r=void 0,D(u.inputs)),l=p.next();!l.done;l=p.next()){var c,h=l.value,d=u.directive.guards[h.directiveName];d&&(c="UseIf"===d,s.push({guard:d,useIf:c,expression:{context:this.component,value:h.value}}))}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return s},Lg.prototype.visitAll=function(e,t){this.variables=e,Kh(this,t)},Lg.prototype.build=function(t,n){var e,i=this;void 0===n&&(n=[]),this.children.forEach(function(e){return e.build(t,n)});var s=[xr("_any").set(Zt).toDeclStmt(Te)],o=0;if(this.updates.forEach(function(e){var t=i.preprocessUpdateExpression(e),n=t.sourceSpan,r=t.context,e=t.value,t=""+o++,e=ol(r===i.component?i:Cg,xr(i.getOutputVar(r)),e,t,rl.General),t=e.stmts,e=e.currValExpr;t.push(new kn(e)),s.push.apply(s,B(t.map(function(e){return vr(e,n)})))}),this.actions.forEach(function(e){var t=e.sourceSpan,n=e.context,r=e.value,e=""+o++,e=tl(n===i.component?i:Cg,xr(i.getOutputVar(n)),r,e).stmts;s.push.apply(s,B(e.map(function(e){return vr(e,t)})))}),this.guards.length){var r=void 0;try{for(var a=D(this.guards),u=a.next();!u.done;u=a.next()){var p,l=u.value,c=this.preprocessUpdateExpression(l.expression),h=c.context,d=c.value,f=""+o++,m=ol(h===this.component?this:Cg,xr(this.getOutputVar(h)),d,f,rl.TrySimple),v=m.stmts,y=m.currValExpr;0==v.length&&(p=l.useIf?y:this.ctx.importExpr(l.guard).callFn([y]),r=r?r.and(p):p)}}catch(t){g={error:t}}finally{try{u&&!u.done&&(e=a.return)&&e.call(a)}finally{if(g)throw g.error}}r&&(s=[new Vn(r,s)])}var g="_View_"+t+"_"+this.embeddedViewIndex,g=new In(g,[],s);return n.push(g),n},Lg.prototype.visitBoundText=function(t,e){var n=this;t.value.ast.expressions.forEach(function(e){return n.updates.push({context:n.component,value:e,sourceSpan:t.sourceSpan})})},Lg.prototype.visitEmbeddedTemplate=function(e,t){var n;this.visitElementOrTemplate(e),this.options.fullTemplateTypeCheck&&(n=this.getTypeGuardExpressions(e),n=this.viewBuilderFactory(this,n),this.children.push(n),n.visitAll(e.variables,e.children))},Lg.prototype.visitElement=function(e,t){var n=this;this.visitElementOrTemplate(e),e.inputs.forEach(function(e){n.updates.push({context:n.component,value:e.value,sourceSpan:e.sourceSpan})}),Kh(this,e.children)},Lg.prototype.visitElementOrTemplate=function(e){var n=this;e.directives.forEach(function(e){n.visitDirective(e)}),e.references.forEach(function(e){var t=e.value&&e.value.identifier&&n.options.fullTemplateTypeCheck?e.value.identifier.reference:fe.Dynamic;n.refOutputVars.set(e.name,t)}),e.outputs.forEach(function(e){n.actions.push({context:n.component,value:e.handler,sourceSpan:e.sourceSpan})})},Lg.prototype.visitDirective=function(e){var t=this,n=e.directive.type.reference;e.inputs.forEach(function(e){return t.updates.push({context:t.component,value:e.value,sourceSpan:e.sourceSpan})}),this.options.fullTemplateTypeCheck&&(e.hostProperties.forEach(function(e){return t.updates.push({context:n,value:e.value,sourceSpan:e.sourceSpan})}),e.hostEvents.forEach(function(e){return t.actions.push({context:n,value:e.handler,sourceSpan:e.sourceSpan})}))},Lg.prototype.notifyImplicitReceiverUse=function(){},Lg.prototype.getLocal=function(t){if(t==Jp.event.name)return xr(this.getOutputVar(fe.Dynamic));for(var e=this;e;e=e.parent){var n=void 0;if(null!=(n=null==(n=e.refOutputVars.get(t))&&e.variables.find(function(e){return e.name===t})?fe.Dynamic:n))return xr(this.getOutputVar(n))}return null},Lg.prototype.pipeOutputVar=function(e){var t=this.pipes.get(e);if(!t)throw new Error("Illegal State: Could not find pipe "+e+" in template of "+this.component);return this.getOutputVar(t)},Lg.prototype.preprocessUpdateExpression=function(e){var r=this;return{sourceSpan:e.sourceSpan,context:e.context,value:nl({createLiteralArrayConverter:function(e){return function(e){e=Tr(e);return r.options.fullTemplateTypeCheck?e:e.cast(Te)}},createLiteralMapConverter:function(t){return function(n){var e=Pr(t.map(function(e,t){return{key:e.key,value:n[t],quoted:e.quoted}}));return r.options.fullTemplateTypeCheck?e:e.cast(Te)}},createPipeConverter:function(t,e){return function(e){return(r.options.fullTemplateTypeCheck?xr(r.pipeOutputVar(t)):xr(r.getOutputVar(fe.Dynamic))).callMethod("transform",e)}}},e.value)}},Lg.prototype.visitNgContent=function(e,t){},Lg.prototype.visitText=function(e,t){},Lg.prototype.visitDirectiveProperty=function(e,t){},Lg.prototype.visitReference=function(e,t){},Lg.prototype.visitVariable=function(e,t){},Lg.prototype.visitEvent=function(e,t){},Lg.prototype.visitElementProperty=function(e,t){},Lg.prototype.visitAttr=function(e,t){},Lg),Tg=(Fg.prototype.compileComponent=function(r,i,e,t,s){var n,o,a=this,u=0,p=void 0;i.isHost||(l=[],(n=i.template).animations&&n.animations.length&&l.push(new $t("animation",My(r,n.animations),!0)),p=(o=xr(Ii(i.type.reference))).name,r.statements.push(o.set(Sr(vi.createRendererType2).callFn([new Yt([new $t("encapsulation",Mr(n.encapsulation),!1),new $t("styles",t,!1),new $t("data",new Yt(l),!1)])])).toDeclStmt(wr(vi.RendererType2),[Tt.Final,Tt.Exported])));var l=function e(t){var n=u++;return new Rg(a._reflector,r,t,i,n,s,e)}(null);return l.visitAll([],e),(e=r.statements).push.apply(e,B(l.build())),new gg(l.viewName,p)},Fg),Pg=xr("_l"),Ng=xr("_v"),Ag=xr("_ck"),Mg=xr("_co"),Ig=xr("en"),kg=xr("ad"),Rg=(Og.prototype.visitAll=function(e,t){var s=this;this.variables=e,this.parent||this.usedPipes.forEach(function(e){e.pure&&(s.purePipeNodeIndices[e.name]=s._createPipe(null,e))}),this.parent||this.component.viewQueries.forEach(function(e,t){var n=t+1,r=e.first?0:1,i=134217728|zg(e);s.nodes.push(function(){return{sourceSpan:null,nodeFlags:i,nodeDef:Sr(vi.queryDef).callFn([Mr(i),Mr(n),new Yt([new $t(e.propertyName,Mr(r),!1)])])}})}),Kh(this,t),this.parent&&(0===t.length||function e(t){t=t[t.length-1];return t instanceof bh?t.hasViewContainer:t instanceof Ch?N(t.name)&&t.children.length?e(t.children):t.hasViewContainer:t instanceof Hh}(t))&&this.nodes.push(function(){return{sourceSpan:null,nodeFlags:1,nodeDef:Sr(vi.anchorDef).callFn([Mr(0),Zt,Zt,Mr(0)])}})},Og.prototype.build=function(t){void 0===t&&(t=[]),this.children.forEach(function(e){return e.build(t)});var e=this._createNodeExpressions(),n=e.updateRendererStmts,r=e.updateDirectivesStmts,i=e.nodeDefExprs,e=this._createUpdateFn(n),n=this._createUpdateFn(r),r=0;this.parent||this.component.changeDetection!==w.OnPush||(r|=2);e=new In(this.viewName,[new Wt(Pg.name)],[new Rn(Sr(vi.viewDef).callFn([Mr(r),Tr(i),n,e]))],wr(vi.ViewDefinition),0===this.embeddedViewIndex?[Tt.Exported]:[]);return t.push(e),t},Og.prototype._createUpdateFn=function(e){var t,e=0<e.length?(t=[],!this.component.isHost&&pr(e).has(Mg.name)&&t.push(Mg.set(Ng.prop("component")).toDeclStmt(this.compType)),Nr([new Wt(Ag.name,Pe),new Wt(Ng.name,Pe)],B(t,e),Pe)):Zt;return e},Og.prototype.visitNgContent=function(e,t){this.nodes.push(function(){return{sourceSpan:e.sourceSpan,nodeFlags:8,nodeDef:Sr(vi.ngContentDef).callFn([Mr(e.ngContentIndex),Mr(e.index)])}})},Og.prototype.visitText=function(e,t){this.nodes.push(function(){return{sourceSpan:e.sourceSpan,nodeFlags:2,nodeDef:Sr(vi.textDef).callFn([Mr(-1),Mr(e.ngContentIndex),Tr([Mr(e.value)])])}})},Og.prototype.visitBoundText=function(n,e){var r=this,i=this.nodes.length;this.nodes.push(null);var t=n.value.ast,s=t.expressions.map(function(e,t){return r._preprocessUpdateExpression({nodeIndex:i,bindingIndex:t,sourceSpan:n.sourceSpan,context:Mg,value:e})}),o=i;this.nodes[i]=function(){return{sourceSpan:n.sourceSpan,nodeFlags:2,nodeDef:Sr(vi.textDef).callFn([Mr(o),Mr(n.ngContentIndex),Tr(t.strings.map(function(e){return Mr(e)}))]),updateRenderer:s}}},Og.prototype.visitEmbeddedTemplate=function(e,t){var n=this,r=this.nodes.length;this.nodes.push(null);var i=this._visitElementOrTemplate(r,e),s=i.flags,o=i.queryMatchesExpr,a=i.hostEvents,u=this.viewBuilderFactory(this);this.children.push(u),u.visitAll(e.variables,e.children);var p=this.nodes.length-r-1;this.nodes[r]=function(){return{sourceSpan:e.sourceSpan,nodeFlags:1|s,nodeDef:Sr(vi.anchorDef).callFn([Mr(s),o,Mr(e.ngContentIndex),Mr(p),n._createElementHandleEventFn(r,a),xr(u.viewName)])}}},Og.prototype.visitElement=function(t,e){var n=this,r=this.nodes.length;this.nodes.push(null);var s=N(t.name)?null:t.name,i=this._visitElementOrTemplate(r,t),o=i.flags,a=i.usedEvents,u=i.queryMatchesExpr,p=i.hostBindings,l=i.hostEvents,c=[],h=[],d=[];s&&((p=t.inputs.map(function(e){return{context:Mg,inputAst:e,dirAst:null}}).concat(p)).length&&(h=p.map(function(e,t){return n._preprocessUpdateExpression({context:e.context,nodeIndex:r,bindingIndex:t,sourceSpan:e.inputAst.sourceSpan,value:e.inputAst.value})}),c=p.map(function(e){return function(e,t){var n=e.type;switch(n){case 1:return Tr([Mr(1),Mr(e.name),Mr(e.securityContext)]);case 0:return Tr([Mr(8),Mr(e.name),Mr(e.securityContext)]);case 4:return Tr([Mr(8|(t&&t.directive.isComponent?32:16)),Mr("@"+e.name),Mr(e.securityContext)]);case 2:return Tr([Mr(2),Mr(e.name),Zt]);case 3:return Tr([Mr(4),Mr(e.name),Mr(e.unit)]);default:throw new Error("unexpected "+n)}}(e.inputAst,e.dirAst)})),d=a.map(function(e){var t=T(e,2),e=t[0],t=t[1];return Tr([Mr(e),Mr(t)])})),Kh(this,t.children);var f=this.nodes.length-r-1,a=t.directives.find(function(e){return e.directive.isComponent}),m=Zt,v=Zt;a&&(v=this.outputCtx.importExpr(a.directive.componentViewType),m=this.outputCtx.importExpr(a.directive.rendererType));var y=r;this.nodes[r]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:1|o,nodeDef:Sr(vi.elementDef).callFn([Mr(y),Mr(o),u,Mr(t.ngContentIndex),Mr(f),Mr(s),s?(e=t,i=Object.create(null),e.attrs.forEach(function(e){i[e.name]=e.value}),e.directives.forEach(function(r){Object.keys(r.directive.hostAttributes).forEach(function(e){var t=r.directive.hostAttributes[e],n=i[e];i[e]=null!=n?"class"==e||"style"==e?n+" "+t:t:t})}),Tr(Object.keys(i).sort().map(function(e){return Tr([Mr(e),Mr(i[e])])}))):Zt,c.length?Tr(c):Zt,d.length?Tr(d):Zt,n._createElementHandleEventFn(r,l),v,m]),updateRenderer:h};var e,i}},Og.prototype._visitElementOrTemplate=function(n,i){var s=this,e=0;i.hasViewContainer&&(e|=16777216);var o=new Map;i.outputs.forEach(function(e){var t=Wg(e,null),e=t.name,t=t.target;o.set(Kg(t,e),[t,e])}),i.directives.forEach(function(n){n.hostEvents.forEach(function(e){var t=Wg(e,n),e=t.name,t=t.target;o.set(Kg(t,e),[t,e])})});var a=[],u=[];this._visitComponentFactoryResolverProvider(i.directives),i.providers.forEach(function(t){var e,n,r=void 0;i.directives.forEach(function(e){e.directive.type.reference===Fi(t.token)&&(r=e)}),r?(e=(n=s._visitDirective(t,r,i.references,i.queryMatches,o)).hostBindings,n=n.hostEvents,a.push.apply(a,B(e)),u.push.apply(u,B(n))):s._visitProvider(t,i.queryMatches)});var r=[];return i.queryMatches.forEach(function(e){var t=void 0;Fi(e.value)===s.reflector.resolveExternalReference(vi.ElementRef)?t=0:Fi(e.value)===s.reflector.resolveExternalReference(vi.ViewContainerRef)?t=3:Fi(e.value)===s.reflector.resolveExternalReference(vi.TemplateRef)&&(t=2),null!=t&&r.push(Tr([Mr(e.queryId),Mr(t)]))}),i.references.forEach(function(e){var t=void 0;e.value?Fi(e.value)===s.reflector.resolveExternalReference(vi.TemplateRef)&&(t=2):t=1,null!=t&&(s.refNodeIndices[e.name]=n,r.push(Tr([Mr(e.name),Mr(t)])))}),i.outputs.forEach(function(e){u.push({context:Mg,eventAst:e,dirAst:null})}),{flags:e,usedEvents:Array.from(o.values()),queryMatchesExpr:r.length?Tr(r):Zt,hostBindings:a,hostEvents:u}},Og.prototype._visitDirective=function(t,s,e,n,r){var o=this,i=this.nodes.length;this.nodes.push(null),s.directive.queries.forEach(function(e,t){var n=s.contentQueryStartId+t,r=67108864|zg(e),i=e.first?0:1;o.nodes.push(function(){return{sourceSpan:s.sourceSpan,nodeFlags:r,nodeDef:Sr(vi.queryDef).callFn([Mr(r),Mr(n),new Yt([new $t(e.propertyName,Mr(i),!1)])])}})});var a=this.nodes.length-i-1,n=this._visitProviderOrDirective(t,n),u=n.flags,p=n.queryMatchExprs,l=n.providerExpr,c=n.depsExpr;e.forEach(function(e){e.value&&Fi(e.value)===Fi(t.token)&&(o.refNodeIndices[e.name]=i,p.push(Tr([Mr(e.name),Mr(4)])))}),s.directive.isComponent&&(u|=32768);var h=s.inputs.map(function(e,t){t=Tr([Mr(t),Mr(e.directiveName)]);return new $t(e.directiveName,t,!1)}),d=[],f=s.directive;Object.keys(f.outputs).forEach(function(e){var t=f.outputs[e];r.has(t)&&d.push(new $t(e,Mr(t),!1))});var m=[];(s.inputs.length||0<(327680&u))&&(m=s.inputs.map(function(e,t){return o._preprocessUpdateExpression({nodeIndex:i,bindingIndex:t,sourceSpan:e.sourceSpan,context:Mg,value:e.value})}));var v=Sr(vi.nodeValue).callFn([Ng,Mr(i)]),n=s.hostProperties.map(function(e){return{context:v,dirAst:s,inputAst:e}}),e=s.hostEvents.map(function(e){return{context:v,eventAst:e,dirAst:s}}),y=i;return this.nodes[i]=function(){return{sourceSpan:s.sourceSpan,nodeFlags:16384|u,nodeDef:Sr(vi.directiveDef).callFn([Mr(y),Mr(u),p.length?Tr(p):Zt,Mr(a),l,c,h.length?new Yt(h):Zt,d.length?new Yt(d):Zt]),updateDirectives:m,directive:s.directive.type}},{hostBindings:n,hostEvents:e}},Og.prototype._visitProvider=function(e,t){this._addProviderNode(this._visitProviderOrDirective(e,t))},Og.prototype._visitComponentFactoryResolverProvider=function(e){var t,n,r,i=e.find(function(e){return e.directive.isComponent});i&&i.directive.entryComponents.length&&(t=(r=lg(this.reflector,this.outputCtx,8192,i.directive.entryComponents)).providerExpr,n=r.depsExpr,e=r.flags,r=r.tokenExpr,this._addProviderNode({providerExpr:t,depsExpr:n,flags:e,tokenExpr:r,queryMatchExprs:[],sourceSpan:i.sourceSpan}))},Og.prototype._addProviderNode=function(e){this.nodes.push(function(){return{sourceSpan:e.sourceSpan,nodeFlags:e.flags,nodeDef:Sr(vi.providerDef).callFn([Mr(e.flags),e.queryMatchExprs.length?Tr(e.queryMatchExprs):Zt,e.tokenExpr,e.providerExpr,e.depsExpr])}})},Og.prototype._visitProviderOrDirective=function(t,e){var n=[];e.forEach(function(e){Fi(e.value)===Fi(t.token)&&n.push(Tr([Mr(e.queryId),Mr(4)]))});var r=sg(this.outputCtx,t),i=r.providerExpr,s=r.depsExpr,e=r.flags,r=r.tokenExpr;return{flags:0|e,queryMatchExprs:n,providerExpr:i,depsExpr:s,tokenExpr:r,sourceSpan:t.sourceSpan}},Og.prototype.getLocal=function(t){if(t==Jp.event.name)return Jp.event;for(var e=Ng,n=this;n;n=n.parent,e=e.prop("parent").cast(Te)){var r=n.refNodeIndices[t];if(null!=r)return Sr(vi.nodeValue).callFn([e,Mr(r)]);r=n.variables.find(function(e){return e.name===t});if(r){r=r.value||"$implicit";return e.prop("context").prop(r)}}return null},Og.prototype.notifyImplicitReceiverUse=function(){},Og.prototype._createLiteralArrayConverter=function(e,t){if(0===t){var n=Sr(vi.EMPTY_ARRAY);return function(){return n}}var r=this.nodes.length;return this.nodes.push(function(){return{sourceSpan:e,nodeFlags:32,nodeDef:Sr(vi.pureArrayDef).callFn([Mr(r),Mr(t)])}}),function(e){return Hg(r,e)}},Og.prototype._createLiteralMapConverter=function(e,t){if(0===t.length){var n=Sr(vi.EMPTY_MAP);return function(){return n}}var r=Pr(t.map(function(e,t){return d(d({},e),{value:Mr(t)})})),i=this.nodes.length;return this.nodes.push(function(){return{sourceSpan:e,nodeFlags:64,nodeDef:Sr(vi.pureObjectDef).callFn([Mr(i),r])}}),function(e){return Hg(i,e)}},Og.prototype._createPipeConverter=function(t,n,e){var r=this.usedPipes.find(function(e){return e.name===n});if(r.pure){var i=this.nodes.length;this.nodes.push(function(){return{sourceSpan:t.sourceSpan,nodeFlags:128,nodeDef:Sr(vi.purePipeDef).callFn([Mr(i),Mr(e)])}});for(var s=Ng,o=this;o.parent;)o=o.parent,s=s.prop("parent").cast(Te);var a=o.purePipeNodeIndices[n],u=Sr(vi.nodeValue).callFn([s,Mr(a)]);return function(e){return qg(t.nodeIndex,t.bindingIndex,Hg(i,[u].concat(e)))}}var r=this._createPipe(t.sourceSpan,r),p=Sr(vi.nodeValue).callFn([Ng,Mr(r)]);return function(e){return qg(t.nodeIndex,t.bindingIndex,p.callMethod("transform",e))}},Og.prototype._createPipe=function(e,t){var n=this,r=this.nodes.length,i=0;t.type.lifecycleHooks.forEach(function(e){e===Qy.OnDestroy&&(i|=pg(e))});var s=t.type.diDeps.map(function(e){return ug(n.outputCtx,e)});return this.nodes.push(function(){return{sourceSpan:e,nodeFlags:16,nodeDef:Sr(vi.pipeDef).callFn([Mr(i),n.outputCtx.importExpr(t.type.reference),Tr(s)])}}),r},Og.prototype._preprocessUpdateExpression=function(n){var r=this;return{nodeIndex:n.nodeIndex,bindingIndex:n.bindingIndex,sourceSpan:n.sourceSpan,context:n.context,value:nl({createLiteralArrayConverter:function(e){return r._createLiteralArrayConverter(n.sourceSpan,e)},createLiteralMapConverter:function(e){return r._createLiteralMapConverter(n.sourceSpan,e)},createPipeConverter:function(e,t){return r._createPipeConverter(n,e,t)}},n.value)}},Og.prototype._createNodeExpressions=function(){var o=this,a=0,u=[],p=[],e=this.nodes.map(function(e,t){var n=e(),r=n.nodeDef,i=n.nodeFlags,s=n.updateDirectives,e=n.updateRenderer,n=n.sourceSpan;return e&&u.push.apply(u,B(l(t,n,e,!1))),s&&p.push.apply(p,B(l(t,n,s,0<(327680&i)))),yr(3&i?new Jt([Pg.callFn([]).callFn([]),r]):r,n)});return{updateRendererStmts:u,updateDirectivesStmts:p,nodeDefExprs:e};function l(e,t,n,r){var i=[],s=n.map(function(e){var t=e.sourceSpan,n=e.context,r=e.value,e=""+a++,r=ol(n===Mg?o:null,n,r,e,rl.General),e=r.stmts,r=r.currValExpr;return i.push.apply(i,B(e.map(function(e){return vr(e,t)}))),yr(r,t)});return(n.length||r)&&i.push(vr(Hg(e,s).toStmt(),t)),i}},Og.prototype._createElementHandleEventFn=function(e,t){var i=this,s=[],o=0;return t.forEach(function(e){var t=e.context,n=e.eventAst,r=e.dirAst,e=""+o++,t=tl(t===Mg?i:null,t,n.handler,e),e=t.stmts,t=t.allowDefault,e=e;t&&e.push(kg.set(t.and(kg)).toStmt());r=Wg(n,r),r=Kg(r.target,r.name);s.push(vr(new Vn(Mr(r).identical(Ig),e),n.sourceSpan))}),0<s.length?(t=[kg.set(Mr(!0)).toDeclStmt(Ne)],!this.component.isHost&&pr(s).has(Mg.name)&&t.push(Mg.set(Ng.prop("component")).toDeclStmt(this.compType)),Nr([new Wt(Ng.name,Pe),new Wt(Ig.name,Pe),new Wt(Jp.event.name,Pe)],B(t,s,[new Rn(kg)]),Pe)):Zt},Og.prototype.visitDirective=function(e,t){},Og.prototype.visitDirectiveProperty=function(e,t){},Og.prototype.visitReference=function(e,t){},Og.prototype.visitVariable=function(e,t){},Og.prototype.visitEvent=function(e,t){},Og.prototype.visitElementProperty=function(e,t){},Og.prototype.visitAttr=function(e,t){},Og);function Og(e,t,n,r,i,s,o){this.reflector=e,this.outputCtx=t,this.parent=n,this.component=r,this.embeddedViewIndex=i,this.usedPipes=s,this.viewBuilderFactory=o,this.nodes=[],this.purePipeNodeIndices=Object.create(null),this.refNodeIndices=Object.create(null),this.variables=[],this.children=[],this.compType=0<this.embeddedViewIndex?Te:Cr(t.importExpr(this.component.type.reference)),this.viewName=Mi(this.component.type.reference,this.embeddedViewIndex)}function Fg(e){this._reflector=e}function Lg(e,t,n,r,i,s,o,a,u,p,l){this.options=e,this.reflector=t,this.externalReferenceVars=n,this.parent=r,this.component=i,this.isHostComponent=s,this.embeddedViewIndex=o,this.pipes=a,this.guards=u,this.ctx=p,this.viewBuilderFactory=l,this.refOutputVars=new Map,this.variables=[],this.children=[],this.updates=[],this.actions=[]}function Dg(){}function Bg(e,t){this.options=e,this.reflector=t}function Vg(e){this._reflector=e}function jg(e,t){var n=_g.call(this,!1)||this;return n.referenceFilter=e,n.importFilter=t,n.typeExpression=0,n.importsWithPrefixes=new Map,n.reexports=new Map,n}function Ug(){}function Hg(e,t){return 10<t.length?Ag.callFn([Ng,Mr(e),Mr(1),Tr(t)]):Ag.callFn(B([Ng,Mr(e),Mr(0)],t))}function qg(e,t,n){return Sr(vi.unwrapValue).callFn([Ng,Mr(e),Mr(t),n])}function Wg(e,t){return e.isAnimation?{name:"@"+e.name+"."+e.phase,target:t&&t.directive.isComponent?"component":null}:e}function zg(e){var t=0;return e.first&&e.static?t|=268435456:t|=536870912,t}function Kg(e,t){return e?e+":"+t:t}var Qg,Gg=(Zg.prototype.updateFromTemplate=function(e,t,n){var r=this._htmlParser.parse(e,t,{tokenizeExpansionForms:!0,interpolationConfig:n});if(r.errors.length)return r.errors;e=r.rootNodes,t=n,r=this._implicitTags,n=this._implicitAttrs,e=new Wv(r,n).extract(e,t);return e.errors.length?e.errors:((t=this._messages).push.apply(t,B(e.messages)),[])},Zg.prototype.getMessages=function(){return this._messages},Zg.prototype.write=function(r,i){var s={},o=new Xg;this._messages.forEach(function(e){var t,n=r.digest(e);s.hasOwnProperty(n)?(t=s[n].sources).push.apply(t,B(e.sources)):s[n]=e});var e=Object.keys(s).map(function(e){var t=r.createNameMapper(s[e]),n=s[e],t=t?o.convert(n.nodes,t):n.nodes,e=new Xs(t,{},{},n.meaning,n.description,e);return e.sources=n.sources,i&&e.sources.forEach(function(e){return e.filePath=i(e.filePath)}),e});return r.write(e,this._locale)},Zg),Xg=(h(Jg,Qg=no),Jg.prototype.convert=function(e,t){var n=this;return t?e.map(function(e){return e.visit(n,t)}):e},Jg.prototype.visitTagPlaceholder=function(e,t){var n=this,r=t.toPublicName(e.startName),i=e.closeName&&t.toPublicName(e.closeName),s=e.children.map(function(e){return e.visit(n,t)});return new Zs(e.tag,e.attrs,r,i,s,e.isVoid,e.sourceSpan)},Jg.prototype.visitPlaceholder=function(e,t){return new eo(e.value,t.toPublicName(e.name),e.sourceSpan)},Jg.prototype.visitIcuPlaceholder=function(e,t){return new to(e.value,t.toPublicName(e.name),e.sourceSpan)},Jg),$g=(Yg.prototype.isEquivalent=function(e){return this.genFileUrl===e.genFileUrl&&(this.source?this.source===e.source:null!=e.stmts&&De(this.stmts,e.stmts))},Yg);function Yg(e,t,n){this.srcFileUrl=e,this.genFileUrl=t,"string"==typeof n?(this.source=n,this.stmts=null):(this.source=null,this.stmts=n)}function Jg(){return null!==Qg&&Qg.apply(this,arguments)||this}function Zg(e,t,n,r){void 0===r&&(r=null),this._htmlParser=e,this._implicitTags=t,this._implicitAttrs=n,this._locale=r,this._messages=[]}function e_(e,t){var n,r,i,s,o=[];try{for(var a=D(e.transitiveModule.providers),u=a.next();!u.done;u=a.next()){var p=u.value,l=p.provider,c=p.module;if(Fi(l.token)===t.ROUTES){var h=function e(t,n){var r,i;if(void 0===n&&(n=[]),"string"==typeof t)n.push(t);else if(Array.isArray(t))try{for(var s=D(t),o=s.next();!o.done;o=s.next())e(o.value,n)}catch(t){r={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}else t.loadChildren?e(t.loadChildren,n):t.children&&e(t.children,n);return n}(l.useValue);try{for(var d=(i=void 0,D(h)),f=d.next();!f.done;f=d.next()){var m=f.value;o.push(t_(m,t,c.reference))}}catch(e){i={error:e}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o}function t_(e,t,n){var r=T(e.split("#"),2),i=r[0],r=r[1],r=t.resolveExternalReference({moduleName:i,name:r},n?n.filePath:void 0);return{route:e,module:n||r,referencedModule:r}}function n_(e,t){this.symbol=e,this.metadata=t}var r_=/^(?!.*\.d\.ts$).*\.ts$/,i_=(s_.prototype.resolveSymbol=function(e){if(0<e.members.length)return this._resolveSymbolMembers(e);var t=this._resolveSymbolFromSummary(e);return t||this.resolvedSymbols.get(e)||(this._createSymbolsOf(e.filePath),this.resolvedSymbols.get(e))},s_.prototype.getImportAs=function(e,t){if(void 0===t&&(t=!0),e.members.length){var n=this.getStaticSymbol(e.filePath,e.name);return(i=this.getImportAs(n,t))?this.getStaticSymbol(i.filePath,i.name,e.members):null}var r=e.filePath.replace(Dy,".");if(r===e.filePath)return t&&this.summaryResolver.getImportAs(e)||null||this.importAs.get(e);var i,s=e.name.replace(By,""),n=this.getStaticSymbol(r,s,e.members);return(i=this.getImportAs(n,t))?this.getStaticSymbol(zy(i.filePath),Ky(i.name),n.members):null},s_.prototype.getResourcePath=function(e){return this.symbolResourcePaths.get(e)||e.filePath},s_.prototype.getTypeArity=function(e){if(t=e.filePath,Ly.test(t))return null;for(var t,n=a_(this.resolveSymbol(e));n&&n.metadata instanceof Ei;)n=a_(this.resolveSymbol(n.metadata));return n&&n.metadata&&n.metadata.arity||null},s_.prototype.getKnownModuleName=function(e){return this.knownFileNameToModuleNames.get(e)||null},s_.prototype.recordImportAs=function(e,t){e.assertNoMembers(),t.assertNoMembers(),this.importAs.set(e,t)},s_.prototype.recordModuleNameForFileName=function(e,t){this.knownFileNameToModuleNames.set(e,t)},s_.prototype.invalidateFile=function(e){var t,n;this.metadataCache.delete(e);var r=this.symbolFromFile.get(e);if(!r)return[];this.symbolFromFile.delete(e);try{for(var i=D(r),s=i.next();!s.done;s=i.next()){var o=s.value;this.resolvedSymbols.delete(o),this.importAs.delete(o),this.symbolResourcePaths.delete(o)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},s_.prototype.ignoreErrorsFor=function(e){var t=this.errorRecorder;this.errorRecorder=function(){};try{return e()}finally{this.errorRecorder=t}},s_.prototype._resolveSymbolMembers=function(e){var t=e.members,n=this.resolveSymbol(this.getStaticSymbol(e.filePath,e.name));if(!n)return null;n=a_(n.metadata);if(n instanceof Ei)return new n_(e,this.getStaticSymbol(n.filePath,n.name,t));if(n&&"class"===n.__symbolic)return n.statics&&1===t.length?new n_(e,n.statics[t[0]]):null;for(var r=n,i=0;i<t.length&&r;i++)r=r[t[i]];return new n_(e,r)},s_.prototype._resolveSymbolFromSummary=function(e){var t=this.summaryResolver.resolveSummary(e);return t?new n_(e,t.metadata):null},s_.prototype.getStaticSymbol=function(e,t,n){return this.staticSymbolCache.get(e,t,n)},s_.prototype.hasDecorators=function(e){var t=this.getModuleMetadata(e);return!!t.metadata&&Object.keys(t.metadata).some(function(e){e=t.metadata[e];return e&&"class"===e.__symbolic&&e.decorators})},s_.prototype.getSymbolsOf=function(e){return this.summaryResolver.getSymbolsOf(e)||(this._createSymbolsOf(e),this.symbolFromFile.get(e)||[])},s_.prototype._createSymbolsOf=function(i){var e,t,n,r,s=this;if(!this.symbolFromFile.has(i)){var o,a,u=[],p=this.getModuleMetadata(i);if(p.importAs&&this.knownFileNameToModuleNames.set(i,p.importAs),p.exports){var l=this;try{for(var c=D(p.exports),h=c.next();!h.done;h=c.next())!function(r){var e;r.export?r.export.forEach(function(e){var t=n=o_(n="string"==typeof e?e:e.as);"string"!=typeof e&&(t=o_(e.name));var n,e=s.resolveModule(r.from,i);e&&(t=s.getStaticSymbol(e,t),n=s.getStaticSymbol(i,n),u.push(s.createExport(n,t)))}):(e=l.resolveModule(r.from,i))&&l.getSymbolsOf(e).forEach(function(e){var t=s.getStaticSymbol(i,e.name);u.push(s.createExport(t,e))})}(h.value)}catch(i){e={error:i}}finally{try{h&&!h.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}}p.metadata&&(o=new Set(Object.keys(p.metadata).map(o_)),a=p.origins||{},Object.keys(p.metadata).forEach(function(e){var t=p.metadata[e],n=o_(e),r=s.getStaticSymbol(i,n),n=a.hasOwnProperty(e)&&a[e];n&&((e=s.resolveModule(n,i))?s.symbolResourcePaths.set(r,e):s.reportError(new Error("Couldn't resolve original symbol for "+n+" from "+s.host.getOutputName(i)))),u.push(s.createResolvedSymbol(r,i,o,t))}));var d=new Set;try{for(var f=D(u),m=f.next();!m.done;m=f.next()){var v=m.value;this.resolvedSymbols.set(v.symbol,v),d.add(v.symbol)}}catch(i){n={error:i}}finally{try{m&&!m.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}this.symbolFromFile.set(i,Array.from(d))}},s_.prototype.createResolvedSymbol=function(s,o,a,e){var t,n=this,r=r_.test(s.filePath);if(this.summaryResolver.isLibraryFile(s.filePath)&&!r&&e&&"class"===e.__symbolic){var i={__symbolic:"class",arity:e.arity};return new n_(s,i)}function u(){return t=t||n.host.getOutputName(o.replace(/((\.ts)|(\.d\.ts)|)$/,".ts").replace(/^.*node_modules[/\\]/,""))}var p,l=this,i=Fr(e,(h(c,p=Ur),c.prototype.visitStringMap=function(e,t){var n=e.__symbolic;if("function"===n){var r=t.length;t.push.apply(t,B(e.parameters||[]));var i=p.prototype.visitStringMap.call(this,e,t);return t.length=r,i}if("reference"!==n)return"error"===n?d(d({},e),{fileName:u()}):p.prototype.visitStringMap.call(this,e,t);r=e.module,i=e.name&&o_(e.name);if(!i)return null;return r?(n=l.resolveModule(r,s.filePath))?{__symbolic:"resolved",symbol:l.getStaticSymbol(n,i),line:e.line,character:e.character,fileName:u()}:{__symbolic:"error",message:"Could not resolve "+r+" relative to "+l.host.getMetadataFor(s.filePath)+".",line:e.line,character:e.character,fileName:u()}:0<=t.indexOf(i)?{__symbolic:"reference",name:i}:a.has(i)?l.getStaticSymbol(o,i):void 0},new c),[]),e=a_(i);function c(){return null!==p&&p.apply(this,arguments)||this}return e instanceof Ei?this.createExport(s,e):new n_(s,i)},s_.prototype.createExport=function(e,t){return e.assertNoMembers(),t.assertNoMembers(),this.summaryResolver.isLibraryFile(e.filePath)&&this.summaryResolver.isLibraryFile(t.filePath)&&this.importAs.set(t,this.getImportAs(e)||e),new n_(e,t)},s_.prototype.reportError=function(e,t,n){if(!this.errorRecorder)throw e;this.errorRecorder(e,t&&t.filePath||n)},s_.prototype.getModuleMetadata=function(e){var t,n,r=this.metadataCache.get(e);return r||((n=this.host.getMetadataFor(e))&&(t=-1,n.forEach(function(e){e&&e.version>t&&(t=e.version,r=e)})),4!=(r=r||{__symbolic:"module",version:4,module:e,metadata:{}}).version&&(n=2==r.version?"Unsupported metadata version "+r.version+" for module "+e+". This module should be compiled with a newer version of ngc":"Metadata version mismatch for module "+this.host.getOutputName(e)+", found version "+r.version+", expected 4",this.reportError(new Error(n))),this.metadataCache.set(e,r)),r},s_.prototype.getSymbolByModule=function(e,t,n){var r=this.resolveModule(e,n);return r?this.getStaticSymbol(r,t):(this.reportError(new Error("Could not resolve module "+e+(n?" relative to "+this.host.getOutputName(n):""))),this.getStaticSymbol("ERROR:"+e,t))},s_.prototype.resolveModule=function(t,n){try{return this.host.moduleNameToFileName(t,n)}catch(e){console.error("Could not resolve module '"+t+"' relative to file "+n),this.reportError(e,void 0,n)}return null},s_);function s_(e,t,n,r){this.host=e,this.staticSymbolCache=t,this.summaryResolver=n,this.errorRecorder=r,this.metadataCache=new Map,this.resolvedSymbols=new Map,this.importAs=new Map,this.symbolResourcePaths=new Map,this.symbolFromFile=new Map,this.knownFileNameToModuleNames=new Map}function o_(e){return e.startsWith("___")?e.substr(1):e}function a_(e){return e&&"resolved"===e.__symbolic?e.symbol:e}function u_(e,t,n){t=Ky(t.name);e.statements.push(Nr([],[new Rn(n)],new Ce(Te)).toDeclStmt(t,[Tt.Final,Tt.Exported]))}var p_,l_,c_=(h(v_,l_=Ur),v_.prototype.addSummary=function(e){var t,n,r,i,s=this,o=this.unprocessedSymbolSummariesBySymbol.get(e.symbol),a=this.processedSummaryBySymbol.get(e.symbol);o||(o={symbol:e.symbol,metadata:void 0},this.unprocessedSymbolSummariesBySymbol.set(e.symbol,o),a={symbol:this.processValue(e.symbol,0)},this.processedSummaries.push(a),this.processedSummaryBySymbol.set(e.symbol,a)),!o.metadata&&e.metadata&&("class"===(n=e.metadata||{}).__symbolic?(r={},Object.keys(n).forEach(function(e){"decorators"!==e&&(r[e]=n[e])}),n=r):y_(n)&&(y_(t=n)&&a_(t.expression)instanceof Ei||y_(i=n)&&i.expression&&"select"===i.expression.__symbolic&&a_(i.expression.expression)instanceof Ei||(n={__symbolic:"error",message:"Complex function calls are not supported."})),o.metadata=n,a.metadata=this.processValue(n,1),n instanceof Ei&&this.summaryResolver.isLibraryFile(n.filePath)&&(Xy((i=this.symbols[this.indexBySymbol.get(n)]).name)||this.reexportedBy.set(i,e.symbol))),!o.type&&e.type&&(o.type=e.type,a.type=this.processValue(e.type,0),e.type.summaryKind===Ti.NgModule)&&(e=e.type).exportedDirectives.concat(e.exportedPipes).forEach(function(e){e=e.reference;!s.summaryResolver.isLibraryFile(e.filePath)||s.unprocessedSymbolSummariesBySymbol.has(e)||(e=s.summaryResolver.resolveSummary(e))&&s.addSummary(e)})},v_.prototype.serialize=function(i){var s=this,o=[];return{json:JSON.stringify({moduleName:this.moduleName,summaries:this.processedSummaries,symbols:this.symbols.map(function(e,t){e.assertNoMembers();var n,r=void 0;return s.summaryResolver.isLibraryFile(e.filePath)&&((n=s.reexportedBy.get(e))?r=s.indexBySymbol.get(n):i&&((n=s.unprocessedSymbolSummariesBySymbol.get(e))&&n.metadata&&"interface"===n.metadata.__symbolic||(r=e.name+"_"+t,o.push({symbol:e,exportAs:r})))),{__symbol:t,name:e.name,filePath:s.summaryResolver.toSummaryFileName(e.filePath,s.srcFileName),importAs:r}})}),exportAs:o}},v_.prototype.processValue=function(e,t){return Fr(e,this,t)},v_.prototype.visitOther=function(e,t){if(e instanceof Ei){var n=this.symbolResolver.getStaticSymbol(e.filePath,e.name);return{__symbol:this.visitStaticSymbol(n,t),members:e.members}}},v_.prototype.visitStringMap=function(e,t){return"resolved"===e.__symbolic?Fr(e.symbol,this,t):("error"===e.__symbolic&&(delete e.line,delete e.character),l_.prototype.visitStringMap.call(this,e,t))},v_.prototype.visitStaticSymbol=function(e,t){var n=this.indexBySymbol.get(e),r=null;if(1&t&&this.summaryResolver.isLibraryFile(e.filePath)){if(this.unprocessedSymbolSummariesBySymbol.has(e))return n;(r=this.loadSummary(e))&&r.metadata instanceof Ei&&(n=this.visitStaticSymbol(r.metadata,t),r=null)}else if(null!=n)return n;return null==n&&(n=this.symbols.length,this.symbols.push(e)),this.indexBySymbol.set(e,n),r&&this.addSummary(r),n},v_.prototype.loadSummary=function(e){var t=this.summaryResolver.resolveSummary(e);return t||(e=this.symbolResolver.resolveSymbol(e))&&(t={symbol:e.symbol,metadata:e.metadata}),t},v_),h_=(m_.prototype.addSourceType=function(e,t){this.data.push({summary:e,metadata:t,isLibrary:!1})},m_.prototype.addLibType=function(e){this.data.push({summary:e,metadata:null,isLibrary:!0})},m_.prototype.serialize=function(e){var t,n,r,i,s,o,a=this,u=new Map;try{for(var p=D(e),l=p.next();!l.done;l=p.next()){var c=l.value,h=c.symbol,d=c.exportAs;u.set(h,d)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}var f=new Set;try{for(var m=D(this.data),v=m.next();!v.done;v=m.next()){var y=v.value,g=y.summary,_=y.metadata,E=y.isLibrary;if(g.summaryKind===Ti.NgModule){f.add(g.type.reference);var x=g;try{for(var S=(s=void 0,D(x.modules)),w=S.next();!w.done;w=S.next()){var C=w.value;f.add(C.reference)}}catch(e){s={error:e}}finally{try{w&&!w.done&&(o=S.return)&&o.call(S)}finally{if(s)throw s.error}}}E||(Ky(g.type.reference.name),u_(this.outputCtx,g.type.reference,this.serializeSummaryWithDeps(g,_)))}}catch(e){r={error:e}}finally{try{v&&!v.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}f.forEach(function(e){var t;a.summaryResolver.isLibraryFile(e.filePath)&&(t=Ky(u.get(e)||e.name),a.outputCtx.statements.push(xr(t).set(a.serializeSummaryRef(e)).toDeclStmt(null,[Tt.Exported])))})},m_.prototype.serializeSummaryWithDeps=function(e,t){var n=this,r=[this.serializeSummary(e)],i=[];return t instanceof ji?(r.push.apply(r,B(t.declaredDirectives.concat(t.declaredPipes).map(function(e){return e.reference}).concat(t.transitiveModule.modules.map(function(e){return e.reference}).filter(function(e){return e!==t.type.reference})).map(function(e){return n.serializeSummaryRef(e)}))),i=t.providers):e.summaryKind===Ti.Directive&&(i=e.providers.concat(e.viewProviders)),r.push.apply(r,B(i.filter(function(e){return!!e.useClass}).map(function(e){return n.serializeSummary({summaryKind:Ti.Injectable,type:e.useClass})}))),Tr(r)},m_.prototype.serializeSummaryRef=function(e){e=this.symbolResolver.getStaticSymbol(zy(e.filePath),Ky(e.name));return this.outputCtx.importExpr(e)},m_.prototype.serializeSummary=function(e){var n=this.outputCtx,t=(r.prototype.visitArray=function(e,t){var n=this;return Tr(e.map(function(e){return Fr(e,n,t)}))},r.prototype.visitStringMap=function(t,n){var r=this;return new Yt(Object.keys(t).map(function(e){return new $t(e,Fr(t[e],r,n),!1)}))},r.prototype.visitPrimitive=function(e,t){return Mr(e)},r.prototype.visitOther=function(e,t){if(e instanceof Ei)return n.importExpr(e);throw new Error("Illegal State: Encountered value "+e)},r);function r(){}return Fr(e,new t,null)},m_),d_=(h(f_,p_=Ur),f_.prototype.deserialize=function(n,e){var r=this,t=JSON.parse(e),i=[];this.symbols=t.symbols.map(function(e){return r.symbolCache.get(r.summaryResolver.fromSummaryFileName(e.filePath,n),e.name)}),t.symbols.forEach(function(e,t){t=r.symbols[t],e=e.importAs;"number"==typeof e?i.push({symbol:t,importAs:r.symbols[e]}):"string"==typeof e&&i.push({symbol:t,importAs:r.symbolCache.get(jy(n),e)})});e=Fr(t.summaries,this,null);return{moduleName:t.moduleName,summaries:e,importAs:i}},f_.prototype.visitStringMap=function(e,t){if("__symbol"in e){var n=this.symbols[e.__symbol],r=e.members;return r.length?this.symbolCache.get(n.filePath,n.name,r):n}return p_.prototype.visitStringMap.call(this,e,t)},f_);function f_(e,t){var n=p_.call(this)||this;return n.symbolCache=e,n.summaryResolver=t,n}function m_(e,t,n){this.outputCtx=e,this.symbolResolver=t,this.summaryResolver=n,this.data=[]}function v_(e,t,n){var r=l_.call(this)||this;return r.symbolResolver=e,r.summaryResolver=t,r.srcFileName=n,r.symbols=[],r.indexBySymbol=new Map,r.reexportedBy=new Map,r.processedSummaryBySymbol=new Map,r.processedSummaries=[],r.unprocessedSymbolSummariesBySymbol=new Map,r.moduleName=e.getKnownModuleName(n),r}function y_(e){return e&&"call"===e.__symbolic}var g_=(__.prototype.clearCache=function(){this._metadataResolver.clearCache()},__.prototype.analyzeModulesSync=function(e){var t=this,e=C_(e,this._host,this._symbolResolver,this._metadataResolver);return e.ngModules.forEach(function(e){return t._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!0)}),e},__.prototype.analyzeModulesAsync=function(e){var t=this,n=C_(e,this._host,this._symbolResolver,this._metadataResolver);return Promise.all(n.ngModules.map(function(e){return t._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!1)})).then(function(){return n})},__.prototype._analyzeFile=function(e){var t=this._analyzedFiles.get(e);return t||(t=T_(this._host,this._symbolResolver,this._metadataResolver,e),this._analyzedFiles.set(e,t)),t},__.prototype._analyzeFileForInjectables=function(e){var t=this._analyzedFilesForInjectables.get(e);return t||(t=P_(this._host,this._symbolResolver,this._metadataResolver,e),this._analyzedFilesForInjectables.set(e,t)),t},__.prototype.findGeneratedFileNames=function(e){var r=this,i=[],s=this._analyzeFile(e);(this._options.allowEmptyCodegenFiles||s.directives.length||s.pipes.length||s.injectables.length||s.ngModules.length||s.exportsNonSourceFiles)&&(i.push(jy(s.fileName,!0)),this._options.enableSummariesForJit&&i.push(zy(s.fileName,!0)));var o=qy(Hy(s.fileName,!0)[1]);return s.directives.forEach(function(e){var n=r._metadataResolver.getNonNormalizedDirectiveMetadata(e).metadata;n.isComponent&&n.template.styleUrls.forEach(function(e){var t=r._host.resourceNameToFileName(e,s.fileName);if(!t)throw Wr("Couldn't resolve resource "+e+" relative to "+s.fileName);e=(n.template.encapsulation||r._config.defaultEncapsulation)===S.Emulated;i.push(S_(t,e,o)),r._options.allowEmptyCodegenFiles&&i.push(S_(t,!e,o))})}),i},__.prototype.emitBasicStub=function(e,t){var n=this._createOutputContext(e);if(e.endsWith(".ngfactory.ts")){if(!t)throw new Error("Assertion error: require the original file for .ngfactory.ts stubs. File: "+e);var r=this._analyzeFile(t);this._createNgFactoryStub(n,r,1)}else if(e.endsWith(".ngsummary.ts")){if(this._options.enableSummariesForJit){if(!t)throw new Error("Assertion error: require the original file for .ngsummary.ts stubs. File: "+e);r=this._analyzeFile(t),E_(n),r.ngModules.forEach(function(e){u_(n,e.type.reference,Zt)})}}else e.endsWith(".ngstyle.ts")&&E_(n);return this._codegenSourceModule("unknown",n)},__.prototype.emitTypeCheckStub=function(e,t){var n=this._analyzeFile(t),t=this._createOutputContext(e);return e.endsWith(".ngfactory.ts")&&this._createNgFactoryStub(t,n,2),0<t.statements.length?this._codegenSourceModule(n.fileName,t):null},__.prototype.loadFilesAsync=function(e,t){var n=this,r=e.map(function(e){return n._analyzeFile(e)}),i=[];r.forEach(function(e){return e.ngModules.forEach(function(e){return i.push(n._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!1))})});var s=t.map(function(e){return n._analyzeFileForInjectables(e)});return Promise.all(i).then(function(e){return{analyzedModules:A_(r),analyzedInjectables:s}})},__.prototype.loadFilesSync=function(e,t){var n=this,e=e.map(function(e){return n._analyzeFile(e)});e.forEach(function(e){return e.ngModules.forEach(function(e){return n._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!0)})});t=t.map(function(e){return n._analyzeFileForInjectables(e)});return{analyzedModules:A_(e),analyzedInjectables:t}},__.prototype._createNgFactoryStub=function(i,e,s){var o=this,a=0;e.ngModules.forEach(function(t,n){o._ngModuleCompiler.createStub(i,t.type.reference);var e=B(t.transitiveModule.directives.map(function(e){return e.reference}),t.transitiveModule.pipes.map(function(e){return e.reference}),t.importedModules.map(function(e){return e.type.reference}),t.exportedModules.map(function(e){return e.type.reference}),o._externalIdentifierReferences([vi.TemplateRef,vi.ElementRef])),r=new Map;e.forEach(function(e,t){r.set(e,"_decl"+n+"_"+t)}),r.forEach(function(e,t){i.statements.push(xr(e).set(Zt.cast(Te)).toDeclStmt(Cr(i.importExpr(t,null,!1))))}),2&s&&t.declaredDirectives.forEach(function(e){e=o._metadataResolver.getDirectiveMetadata(e.reference);e.isComponent&&(a++,o._createTypeCheckBlock(i,e.type.reference.name+"_Host_"+a,t,o._metadataResolver.getHostComponentMetadata(e),[e.type],r),o._createTypeCheckBlock(i,e.type.reference.name+"_"+a,t,e,t.transitiveModule.directives,r))})}),0===i.statements.length&&E_(i)},__.prototype._externalIdentifierReferences=function(e){var t,n,r=[];try{for(var i=D(e),s=i.next();!s.done;s=i.next()){var o=s.value,a=_i(this.reflector,o);a.identifier&&r.push(a.identifier.reference)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},__.prototype._createTypeCheckBlock=function(e,t,n,r,i,s){var o=this._parseTemplate(r,n,i),n=o.template,i=o.pipes;(o=e.statements).push.apply(o,B(this._typeCheckCompiler.compileComponent(t,r,n,i,s,e)))},__.prototype.emitMessageBundle=function(e,t){var n=this,r=[],i=new Jc,s=new Gg(i,[],{},t);if(e.files.forEach(function(e){var t=[];e.directives.forEach(function(e){e=n._metadataResolver.getDirectiveMetadata(e);e&&e.isComponent&&t.push(e)}),t.forEach(function(e){var t=e.template.template,n=e.template.templateUrl,e=za.fromArray(e.template.interpolation);r.push.apply(r,B(s.updateFromTemplate(t,n,e)))})}),r.length)throw new Error(r.map(function(e){return e.toString()}).join("\n"));return s},__.prototype.emitAllPartialModules=function(e,t){function n(e){return s.has(e)||s.set(e,r._createOutputContext(e)),s.get(e)}var r=this,i=e.ngModuleByPipeOrDirective,e=e.files,s=new Map;return e.forEach(function(e){return r._compilePartialModule(e.fileName,i,e.directives,e.pipes,e.ngModules,e.injectables,n(e.fileName))}),t.forEach(function(e){return r._compileShallowModules(e.fileName,e.shallowModules,n(e.fileName))}),Array.from(s.values()).map(function(e){return{fileName:e.genFilePath,statements:B(e.constantPool.statements,e.statements)}})},__.prototype._compileShallowModules=function(e,t,o){var a=this;t.forEach(function(e){var t=o,n=e,r=a._injectableCompiler,i=Ni(n.type),s=n.rawImports?[n.rawImports]:[],e=n.rawExports?[n.rawExports]:[],e=gu({factory:r.factoryFor({type:n.type,symbol:n.type.reference},t),providers:is(n.rawProviders,t),imports:is(B(s,e),t)}),e=Sr(ts.defineInjector).callFn([e]);t.statements.push(new Bn(i,null,[new Fn("ɵinj",Pe,[Tt.Static],e)],[],new Ln(null,[],[]),[]))})},__.prototype._compilePartialModule=function(e,s,t,n,r,i,o){var a=this,u=new Ff,p=new hd(this._templateParser.expressionParser,Ka,u,[],[]);t.forEach(function(e){var t,n,r,i=a._metadataResolver.getDirectiveMetadata(e);i.isComponent?((t=s.get(e))||qr("Cannot determine the module for component '"+Ni(i.type)+"'"),e=i.template.htmlAst,e=Bf((e=!i.template.preserveWhitespaces?oh(e):e).rootNodes,p),n=new Map,t.transitiveModule.directives.map(function(e){return a._metadataResolver.getDirectiveSummary(e.reference)}).forEach(function(e){e.selector&&n.set(e.selector,e.type.reference)}),r=new Map,t.transitiveModule.pipes.map(function(e){return a._metadataResolver.getPipeSummary(e.reference)}).forEach(function(e){r.set(e.name,e.type.reference)}),function(e,t,n,r,i){var s=Ni(t.type);s||qr("Cannot resolver the name of "+t.type);var o,a=e.constantPool.propertyNameOf(2),u=t.toSummary(),t=d(d({},Zm()),{selector:t.selector,template:{nodes:n.nodes},directives:[],pipes:(n=i,o=e,n=Array.from(i).map(function(e){var t=T(e,2),e=t[0],t=t[1];return[e,o.importExpr(t)]}),new Map(n)),viewQueries:ev(t.viewQueries,e),wrapDirectivesAndPipesInClosure:!1,styles:u.template&&u.template.styles||Qm,encapsulation:u.template&&u.template.encapsulation||S.Emulated,interpolation:Ka,animations:null,viewProviders:0<t.viewProviders.length?new $e(t.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0}),r=Jm(t,e.constantPool,r),t=Da(d(d({},t),{injectFn:ts.directiveInject,target:Ma.Directive})),t=new Bn(s,null,[new Fn("ɵfac",Pe,[Tt.Static],t.factory)],[],new Ln(null,[],[]),[]),r=new Bn(s,null,[new Fn(a,Pe,[Tt.Static],r.expression)],[],new Ln(null,[],[]),[]);e.statements.push(t,r)}(o,i,e,(a.reflector,p),r)):function(e,t,n){var r=Ni(t.type);r||qr("Cannot resolver the name of "+t.type);var i=e.constantPool.propertyNameOf(1),t=(Zm(),Ym(void 0,e.constantPool,n)),n=Da(d(d({},void 0),{injectFn:ts.directiveInject,target:Ma.Directive})),n=new Bn(r,null,[new Fn("ɵfac",Pe,[Tt.Static],n.factory)],[],new Ln(null,[],[]),[]),t=new Bn(r,null,[new Fn(i,Pe,[Tt.Static],t.expression)],[],new Ln(null,[],[]),[]);e.statements.push(n,t)}(o,i,(a.reflector,p))}),n.forEach(function(e){e=a._metadataResolver.getPipeMetadata(e);e&&function(e,t,n){var r=Ni(t.type);if(!r)return qr("Cannot resolve the name of "+t.type);var i,s=e.importExpr(t.type.reference),s={name:r,type:{value:i=new $e(s),type:i},internalType:s,pipeName:t.name,typeArgumentCount:0,deps:function(e,t,n){n.resolveExternalReference(vi.Injector);var r,i,s=[];try{for(var o=D(e.diDeps),a=o.next();!a.done;a=o.next()){var u,p,l,c=a.value;c.token?(u=Fi(c.token),p=c.isAttribute?Ia.Attribute:Ia.Token,l=u instanceof Ei?t.importExpr(u):Mr(u),s.push({token:l,resolved:p,host:!!c.isHost,optional:!!c.isOptional,self:!!c.isSelf,skipSelf:!!c.isSkipSelf})):Ca("dependency without a token")}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(t.type,e,n),pure:t.pure},n=wu(s),t=Da(d(d({},s),{injectFn:ts.directiveInject,target:Ma.Pipe})),s=e.constantPool.propertyNameOf(3),t=new Bn(r,null,[new Fn("ɵfac",Pe,[Tt.Static],t.factory)],[],new Ln(null,[],[]),[]),n=new Bn(r,null,[new Fn(s,Pe,[Tt.Static],n.expression)],[],new Ln(null,[],[]),[]);e.statements.push(t,n)}(o,e,a.reflector)}),i.forEach(function(e){return a._injectableCompiler.compile(e,o)})},__.prototype.emitAllPartialModules2=function(e){var n=this;return e.reduce(function(e,t){return e.push.apply(e,B(n._emitPartialModule2(t.fileName,t.injectables))),e},[])},__.prototype._emitPartialModule2=function(e,t){var n=this,r=this._createOutputContext(e);return t.forEach(function(e){return n._injectableCompiler.compile(e,r)}),r.statements&&0<r.statements.length?[{fileName:e,statements:B(r.constantPool.statements,r.statements)}]:[]},__.prototype.emitAllImpls=function(e){var t=this,n=e.ngModuleByPipeOrDirective;return Gi(e.files.map(function(e){return t._compileImplFile(e.fileName,n,e.directives,e.pipes,e.ngModules,e.injectables)}))},__.prototype._compileImplFile=function(r,i,e,t,n,s){var o=this,a=qy(Hy(r,!0)[1]),u=[],p=this._createOutputContext(jy(r,!0));return u.push.apply(u,B(this._createSummary(r,e,t,n,s,p))),n.forEach(function(e){return o._compileModule(p,e)}),e.forEach(function(e){var n=o._metadataResolver.getDirectiveMetadata(e);if(n.isComponent){var t=i.get(e);if(!t)throw new Error("Internal Error: cannot determine the module for component "+Ni(n.type)+"!");e=o._styleCompiler.compileComponent(p,n);n.template.externalStylesheets.forEach(function(e){var t=o._styleCompiler.needsStyleShim(n);u.push(o._codegenStyles(r,n,e,t,a)),o._options.allowEmptyCodegenFiles&&u.push(o._codegenStyles(r,n,e,!t,a))}),o._compileComponent(p,n,t,t.transitiveModule.directives,e,a),o._compileComponentFactory(p,n,t,a)}}),(0<p.statements.length||this._options.allowEmptyCodegenFiles)&&(e=this._codegenSourceModule(r,p),u.unshift(e)),u},__.prototype._createSummary=function(u,e,t,n,r,i){var s=this,o=this._symbolResolver.getSymbolsOf(u).map(function(e){return s._symbolResolver.resolveSymbol(e)}),t=B(n.map(function(e){return{summary:s._metadataResolver.getNgModuleSummary(e.type.reference),metadata:s._metadataResolver.getNgModuleMetadata(e.type.reference)}}),e.map(function(e){return{summary:s._metadataResolver.getDirectiveSummary(e),metadata:s._metadataResolver.getDirectiveMetadata(e)}}),t.map(function(e){return{summary:s._metadataResolver.getPipeSummary(e),metadata:s._metadataResolver.getPipeMetadata(e)}}),r.map(function(e){return{summary:s._metadataResolver.getInjectableSummary(e.symbol),metadata:s._metadataResolver.getInjectableSummary(e.symbol).type}})),r=this._options.enableSummariesForJit?this._createOutputContext(zy(u,!0)):null,o=function(e,t,n,r,i,s){void 0===s&&(s=!1);var o=new c_(n,t,u);r.forEach(function(e){return o.addSummary({symbol:e.symbol,metadata:e.metadata})}),i.forEach(function(e){var t=e.summary;e.metadata,o.addSummary({symbol:t.type.reference,metadata:void 0,type:t})});var a,r=o.serialize(s),s=r.json,r=r.exportAs;return e&&(a=new h_(e,n,t),i.forEach(function(e){var t=e.summary,e=e.metadata;a.addSourceType(t,e)}),o.unprocessedSymbolSummariesBySymbol.forEach(function(e){t.isLibraryFile(e.symbol.filePath)&&e.type&&a.addLibType(e.type)}),a.serialize(r)),{json:s,exportAs:r}}(r,this._summaryResolver,this._symbolResolver,o,t,this._options.createExternalSymbolFactoryReexports),t=o.json;o.exportAs.forEach(function(e){i.statements.push(xr(e.exportAs).set(i.importExpr(e.symbol)).toDeclStmt(null,[Tt.Exported]))});t=[new $g(u,Wy(u),t)];return r&&t.push(this._codegenSourceModule(u,r)),t},__.prototype._compileModule=function(e,t){var n,r=[];this._options.locale&&(n=this._options.locale.replace(/_/g,"-"),r.push({token:_i(this.reflector,vi.LOCALE_ID),useValue:n})),this._options.i18nFormat&&r.push({token:_i(this.reflector,vi.TRANSLATIONS_FORMAT),useValue:this._options.i18nFormat}),this._ngModuleCompiler.compile(e,t,r)},__.prototype._compileComponentFactory=function(e,t,n,r){var i=this._metadataResolver.getHostComponentMetadata(t),n=this._compileComponent(e,i,n,[t.type],null,r).viewClassVar,r=Ri(t.type.reference),s=[];for(a in t.inputs){var o=t.inputs[a];s.push(new $t(a,Mr(o),!1))}var a,u=[];for(a in t.outputs)o=t.outputs[a],u.push(new $t(a,Mr(o),!1));e.statements.push(xr(r).set(Sr(vi.createComponentFactory).callFn([Mr(t.selector),e.importExpr(t.type.reference),xr(n),new Yt(s),new Yt(u),Tr(t.template.ngContentSelectors.map(function(e){return Mr(e)}))])).toDeclStmt(wr(vi.ComponentFactory,[Cr(e.importExpr(t.type.reference))],[he.Const]),[Tt.Final,Tt.Exported]))},__.prototype._compileComponent=function(e,t,n,r,i,s){var o=this._parseTemplate(t,n,r),n=o.template,r=o.pipes,o=i?xr(i.stylesVar):Tr([]),r=this._viewCompiler.compileComponent(e,t,n,o,r);return i&&x_(this._symbolResolver,i,this._styleCompiler.needsStyleShim(t),s),r},__.prototype._parseTemplate=function(e,t,n){var r=this;if(this._templateAstCache.has(e.type.reference))return this._templateAstCache.get(e.type.reference);var i=e.template.preserveWhitespaces,s=n.map(function(e){return r._metadataResolver.getDirectiveSummary(e.reference)}),n=t.transitiveModule.pipes.map(function(e){return r._metadataResolver.getPipeSummary(e.reference)}),i=this._templateParser.parse(e,e.template.htmlAst,s,n,t.schemas,$i(t.type,e,e.template),i);return this._templateAstCache.set(e.type.reference,i),i},__.prototype._createOutputContext=function(s){var o=this;return{statements:[],genFilePath:s,importExpr:function(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=!0),!(e instanceof Ei))throw new Error("Internal error: unknown identifier "+JSON.stringify(e));var r=o._symbolResolver.getTypeArity(e)||0,i=o._symbolResolver.getImportAs(e,n)||e,n=i.filePath,e=i.name,i=i.members,n=o._fileNameToModuleName(n,s),n=n===o._fileNameToModuleName(s,s)?null:n,t=t||[],r=r-t.length,r=t.concat(ri(r,Te));return i.reduce(function(e,t){return e.prop(t)},Sr(new bt(n,e,null),r))},constantPool:new ui}},__.prototype._fileNameToModuleName=function(e,t){return this._summaryResolver.getKnownModuleName(e)||this._symbolResolver.getKnownModuleName(e)||this._host.fileNameToModuleName(e,t)},__.prototype._codegenStyles=function(e,t,n,r,i){var s=this._createOutputContext(S_(n.moduleUrl,r,i)),n=this._styleCompiler.compileStyles(s,t,n,r);return x_(this._symbolResolver,n,r,i),this._codegenSourceModule(e,s)},__.prototype._codegenSourceModule=function(e,t){return new $g(e,t.genFilePath,t.statements)},__.prototype.listLazyRoutes=function(e,t){var n,r,i,s,p=this;if(e)return function e(t,n,r){var i,s;if(void 0===r&&(r=[]),(n=void 0===n?new Set:n).has(t)||!t.name)return r;n.add(t);t=e_(p._metadataResolver.getNgModuleMetadata(t,!0),p.reflector);try{for(var o=D(t),a=o.next();!a.done;a=o.next()){var u=a.value;r.push(u),e(u.referencedModule,n,r)}}catch(e){i={error:e}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}return r}(t_(e,this.reflector).referencedModule);if(t){var o=[];try{for(var a=D(t.ngModules),u=a.next();!u.done;u=a.next()){var l=e_(u.value,this.reflector);try{for(var c=(i=void 0,D(l)),h=c.next();!h.done;h=c.next()){var d=h.value;o.push(d)}}catch(e){i={error:e}}finally{try{h&&!h.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o}throw new Error("Either route or analyzedModules has to be specified!")},__);function __(e,t,n,r,i,s,o,a,u,p,l,c,h,d){this._config=e,this._options=t,this._host=n,this.reflector=r,this._metadataResolver=i,this._templateParser=s,this._styleCompiler=o,this._viewCompiler=a,this._typeCheckCompiler=u,this._ngModuleCompiler=p,this._injectableCompiler=l,this._outputEmitter=c,this._summaryResolver=h,this._symbolResolver=d,this._templateAstCache=new Map,this._analyzedFiles=new Map,this._analyzedFilesForInjectables=new Map}function E_(e){e.statements.push(Sr(vi.ComponentFactory).toStmt())}function x_(t,e,n,r){e.dependencies.forEach(function(e){e.setValue(t.getStaticSymbol(S_(e.moduleUrl,n,r),e.name))})}function S_(e,t,n){return e+(t?".shim":"")+".ngstyle"+n}function w_(e,t,n,r){return N_((e=e,i=t,s=n,o=r,a=new Set,u=[],e.forEach(function t(e){if(a.has(e)||!i.isSourceFile(e))return!1;a.add(e);e=T_(i,s,o,e);u.push(e),e.ngModules.forEach(function(e){e.transitiveModule.modules.forEach(function(e){return t(e.reference.filePath)})})}),u));var i,s,o,a,u}function C_(e,t,n,r){return b_(w_(e,t,n,r))}function b_(e){if(e.symbolsMissingModule&&e.symbolsMissingModule.length)throw Wr(e.symbolsMissingModule.map(function(e){return"Cannot determine the module for class "+e.name+" in "+e.filePath+"! Add "+e.name+" to the NgModule to fix it."}).join("\n"));return e}function T_(a,u,p,e){var l=[],c=[],h=[],d=[],f=[],t=u.hasDecorators(e),m=!1;return e.endsWith(".d.ts")&&!t||u.getSymbolsOf(e).forEach(function(e){var t,n,r,i,s=u.resolveSymbol(e).metadata;function o(){}s&&"error"!==s.__symbolic&&(n=!1,"class"===s.__symbolic&&(p.isDirective(e)?(n=!0,(p.isAbstractDirective(e)?l:c).push(e)):p.isPipe(e)?(n=!0,h.push(e)):p.isNgModule(e)?(t=p.getNgModuleMetadata(e,!1))&&(n=!0,f.push(t)):!p.isInjectable(e)||(e=p.getInjectableMetadata(e,null,!(n=!0)))&&d.push(e)),n||(m=m||(r=a,s=s,i=!1,o.prototype.visitArray=function(e,t){var n=this;e.forEach(function(e){return Fr(e,n,t)})},o.prototype.visitStringMap=function(t,n){var r=this;Object.keys(t).forEach(function(e){return Fr(t[e],r,n)})},o.prototype.visitPrimitive=function(e,t){},o.prototype.visitOther=function(e,t){e instanceof Ei&&!r.isSourceFile(e.filePath)&&(i=!0)},Fr(s,new o,null),i)))}),{fileName:e,directives:c,abstractDirectives:l,pipes:h,ngModules:f,injectables:d,exportsNonSourceFiles:m}}function P_(e,n,r,t){var i=[],s=[];return n.hasDecorators(t)&&n.getSymbolsOf(t).forEach(function(e){var t=n.resolveSymbol(e).metadata;t&&"error"!==t.__symbolic&&"class"===t.__symbolic&&(r.isInjectable(e)?(t=r.getInjectableMetadata(e,null,!1))&&i.push(t):!r.isNgModule(e)||(e=r.getShallowModuleMetadata(e))&&s.push(e))}),{fileName:t,injectables:i,shallowModules:s}}function N_(e){var n=[],r=new Map,t=new Set;e.forEach(function(e){e.ngModules.forEach(function(t){n.push(t),t.declaredDirectives.forEach(function(e){return r.set(e.reference,t)}),t.declaredPipes.forEach(function(e){return r.set(e.reference,t)})}),e.directives.forEach(function(e){return t.add(e)}),e.pipes.forEach(function(e){return t.add(e)})});var i=[];return t.forEach(function(e){r.has(e)||i.push(e)}),{ngModules:n,ngModuleByPipeOrDirective:r,symbolsMissingModule:i,files:e}}function A_(e){return b_(N_(e))}function M_(e){var t=Wr(function e(t,n){var r,i;if(void 0===n&&(n=0),!t)return"";var s=t.position?t.position.fileName+"("+(t.position.line+1)+","+(t.position.column+1)+")":"",o=(s&&0===n?s+": ":"")+t.message+(s&&0!==n?" at "+s:"");if(t.next)try{for(var a=D(t.next),u=a.next();!u.done;u=a.next())o+="\n"+e(u.value,n+2)}catch(t){r={error:t}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return""+function e(t){if(t<=0)return"";if(t<6)return[""," ","  ","   ","    ","     "][t];var n=e(Math.floor(t/2));return n+n+(t%2==1?" ":"")}(n)+o}(e)+".");return t.ngFormattedMessage=!0,t.chain=e,t.position=e.position,t}var I_="@angular/core",k_=/^\$.*\$$/,R_={__symbolic:"ignore"},O_=new Set(["useValue","useFactory","data","id","loadChildren"]);function F_(e){return e&&"ignore"==e.__symbolic}var L_=(D_.prototype.componentModuleUrl=function(e){e=this.findSymbolDeclaration(e);return this.symbolResolver.getResourcePath(e)},D_.prototype.invalidateSymbols=function(e){var t,n;try{for(var r=D(e),i=r.next();!i.done;i=r.next()){var s=i.value;this.annotationCache.delete(s),this.shallowAnnotationCache.delete(s),this.propertyCache.delete(s),this.parameterCache.delete(s),this.methodCache.delete(s),this.staticCache.delete(s),this.conversionMap.delete(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},D_.prototype.resolveExternalReference=function(e,t){var n=void 0;if(!t){var n=e.moduleName+":"+e.name,r=this.resolvedExternalReferences.get(n);if(r)return r}var i=this.symbolResolver.getSymbolByModule(e.moduleName,e.name,t),r=this.findSymbolDeclaration(i);return t||(this.symbolResolver.recordModuleNameForFileName(i.filePath,e.moduleName),this.symbolResolver.recordImportAs(r,i)),n&&this.resolvedExternalReferences.set(n,r),r},D_.prototype.findDeclaration=function(e,t,n){return this.findSymbolDeclaration(this.symbolResolver.getSymbolByModule(e,t,n))},D_.prototype.tryFindDeclaration=function(e,t,n){var r=this;return this.symbolResolver.ignoreErrorsFor(function(){return r.findDeclaration(e,t,n)})},D_.prototype.findSymbolDeclaration=function(e){var t=this.symbolResolver.resolveSymbol(e);if(t){var n=t.metadata;if((n=n&&"resolved"===n.__symbolic?n.symbol:n)instanceof Ei)return this.findSymbolDeclaration(t.metadata)}return e},D_.prototype.tryAnnotations=function(e){var t=this.errorRecorder;this.errorRecorder=function(e,t){};try{return this.annotations(e)}finally{this.errorRecorder=t}},D_.prototype.annotations=function(e){var n=this;return this._annotations(e,function(e,t){return n.simplify(e,t)},this.annotationCache)},D_.prototype.shallowAnnotations=function(e){var n=this;return this._annotations(e,function(e,t){return n.simplify(e,t,!0)},this.shallowAnnotationCache)},D_.prototype._annotations=function(e,t,n){var r,i,s,o,a,u=n.get(e);return u||(u=[],r=this.getTypeMetadata(e),(a=this.findParentType(e,r))&&(i=this.annotations(a),u.push.apply(u,B(i))),s=[],r.decorators&&(s=t(e,r.decorators))&&u.push.apply(u,B(s)),a&&!this.summaryResolver.isLibraryFile(e.filePath)&&this.summaryResolver.isLibraryFile(a.filePath)&&(o=this.summaryResolver.resolveSummary(a))&&o.type&&((a=this.annotationForParentClassWithSummaryKind.get(o.type.summaryKind)).some(function(t){return s.some(function(e){return t.isTypeOf(e)})})||this.reportError(Q_(B_("Class "+e.name+" in "+e.filePath+" extends from a "+Ti[o.type.summaryKind]+" in another compilation unit without duplicating the decorator",void 0,"Please add a "+a.map(function(e){return e.ngMetadataName}).join(" or ")+" decorator to the class"),e),e)),n.set(e,u.filter(function(e){return!!e}))),u},D_.prototype.propMetadata=function(r){var e,t,n,i,s=this,o=this.propertyCache.get(r);return o||(e=this.getTypeMetadata(r),o={},(t=this.findParentType(r,e))&&(n=this.propMetadata(t),Object.keys(n).forEach(function(e){o[e]=n[e]})),i=e.members||{},Object.keys(i).forEach(function(e){var t=i[e].find(function(e){return"property"==e.__symbolic||"method"==e.__symbolic}),n=[];o[e]&&n.push.apply(n,B(o[e])),o[e]=n,t&&t.decorators&&n.push.apply(n,B(s.simplify(r,t.decorators)))}),this.propertyCache.set(r,o)),o},D_.prototype.parameters=function(r){var i=this;if(!(r instanceof Ei))return this.reportError(new Error("parameters received "+JSON.stringify(r)+" which is not a StaticSymbol"),r),[];try{var e,t,n,s,o,a,u,p=this.parameterCache.get(r);return p||(e=this.getTypeMetadata(r),t=this.findParentType(r,e),(s=(n=e?e.members:null)?n.__ctor__:null)?(a=(o=s.find(function(e){return"constructor"==e.__symbolic})).parameters||[],u=this.simplify(r,o.parameterDecorators||[]),p=[],a.forEach(function(e,t){var n=[],e=i.trySimplify(r,e);e&&n.push(e);t=u?u[t]:null;t&&n.push.apply(n,B(t)),p.push(n)})):t&&(p=this.parameters(t)),p=p||[],this.parameterCache.set(r,p)),p}catch(i){throw console.error("Failed on type "+JSON.stringify(r)+" with error "+i),i}},D_.prototype._methodNames=function(e){var t,n,r,i,s=this.methodCache.get(e);return s||(t=this.getTypeMetadata(e),s={},(n=this.findParentType(e,t))&&(r=this._methodNames(n),Object.keys(r).forEach(function(e){s[e]=r[e]})),i=t.members||{},Object.keys(i).forEach(function(e){var t=i[e].some(function(e){return"method"==e.__symbolic});s[e]=s[e]||t}),this.methodCache.set(e,s)),s},D_.prototype._staticMembers=function(e){var t,n=this.staticCache.get(e);return n||(t=this.getTypeMetadata(e).statics||{},n=Object.keys(t),this.staticCache.set(e,n)),n},D_.prototype.findParentType=function(e,t){t=this.trySimplify(e,t.extends);if(t instanceof Ei)return t},D_.prototype.hasLifecycleHook=function(e,t){e instanceof Ei||this.reportError(new Error("hasLifecycleHook received "+JSON.stringify(e)+" which is not a StaticSymbol"),e);try{return!!this._methodNames(e)[t]}catch(t){throw console.error("Failed on type "+JSON.stringify(e)+" with error "+t),t}},D_.prototype.guards=function(e){var t,n;if(!(e instanceof Ei))return this.reportError(new Error("guards received "+JSON.stringify(e)+" which is not a StaticSymbol"),e),{};var r=this._staticMembers(e),i={};try{for(var s=D(r),o=s.next();!o.done;o=s.next()){var a,u,p=o.value;p.endsWith("TypeGuard")&&(a=p.substr(0,p.length-"TypeGuard".length),u=void 0,u=a.endsWith("UseIf")?(a=p.substr(0,a.length-"UseIf".length),"UseIf"):this.getStaticSymbol(e.filePath,e.name,[p]),i[a]=u)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return i},D_.prototype._registerDecoratorOrConstructor=function(e,n){this.conversionMap.set(e,function(e,t){return new(n.bind.apply(n,B([void 0],t)))})},D_.prototype._registerFunction=function(e,n){this.conversionMap.set(e,function(e,t){return n.apply(void 0,t)})},D_.prototype.initializeConversionMap=function(){this._registerDecoratorOrConstructor(this.findDeclaration(I_,"Injectable"),te),this.injectionToken=this.findDeclaration(I_,"InjectionToken"),this.opaqueToken=this.findDeclaration(I_,"OpaqueToken"),this.ROUTES=this.tryFindDeclaration("@angular/router","ROUTES"),this.ANALYZE_FOR_ENTRY_COMPONENTS=this.findDeclaration(I_,"ANALYZE_FOR_ENTRY_COMPONENTS"),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"Host"),ae),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"Self"),se),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"SkipSelf"),oe),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"Inject"),R),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"Optional"),ie),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"Attribute"),F),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"ContentChild"),V),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"ContentChildren"),L),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"ViewChild"),U),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"ViewChildren"),j),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"Input"),$),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"Output"),Y),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"Pipe"),X),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"HostBinding"),J),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"HostListener"),Z),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"Directive"),H),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"Component"),G),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"NgModule"),ee),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"Host"),ae),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"Self"),se),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"SkipSelf"),oe),this._registerDecoratorOrConstructor(this.findDeclaration(I_,"Optional"),ie)},D_.prototype.getStaticSymbol=function(e,t,n){return this.symbolResolver.getStaticSymbol(e,t,n)},D_.prototype.trySimplify=function(e,t){var n=this.errorRecorder;this.errorRecorder=function(e,t){};t=this.simplify(e,t);return this.errorRecorder=n,t},D_.prototype.simplify=function(e,t,n){void 0===n&&(n=!1);var r,O=this,F=q_.empty,L=new Map;try{r=function P(N,e,A,M){function I(e){e=O.symbolResolver.resolveSymbol(e);return e?e.metadata:null}function k(e){return P(N,e,A,0)}function R(t,n){if(t===N)return P(t,n,A+1,M);try{return P(t,n,A+1,M)}catch(e){if(!V_(e))throw e;n=e.chain?"references '"+e.symbol.name+"'":function(e){if(e.summary)return e.summary;switch(e.message){case"Reference to non-exported class":if(e.context&&e.context.className)return"references non-exported class "+e.context.className;break;case"Variable not initialized":return"is not initialized";case"Destructuring not supported":return"is a destructured variable";case"Could not resolve type":return"could not be resolved";case j_:return e.context&&e.context.name?"calls '"+e.context.name+"'":"calls a function";case"Reference to a local symbol":return e.context&&e.context.name?"references local variable "+e.context.name:"references a local variable"}return"contains the error"}(e),n={message:"'"+t.name+"' "+n,position:e.position,next:e.chain};O.error({message:e.message,advise:e.advise,context:e.context,chain:n,symbol:t},N)}}return function c(i){var t,e,n,r;if(U_(i))return i;if(Array.isArray(i)){var s=[];try{for(var o=D(i),a=o.next();!a.done;a=o.next()){var u=a.value;if(u&&"spread"===u.__symbolic){var p=k(u.expression);if(Array.isArray(p)){try{for(var l=(n=void 0,D(p)),h=l.next();!h.done;h=l.next()){var d=h.value;s.push(d)}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}continue}}var f=c(u);F_(f)||s.push(f)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return s}if(i instanceof Ei)return i===O.injectionToken||O.conversionMap.has(i)||0<M&&!i.members.length?i:null!=(w=I(m=i))?R(m,w):m;if(i){if(i.__symbolic){var m=void 0;switch(i.__symbolic){case"binop":var v=c(i.left);if(F_(v))return v;var y=c(i.right);if(F_(y))return y;switch(i.operator){case"&&":return v&&y;case"||":return v||y;case"|":return v|y;case"^":return v^y;case"&":return v&y;case"==":return v==y;case"!=":return v!=y;case"===":return v===y;case"!==":return v!==y;case"<":return v<y;case">":return y<v;case"<=":return v<=y;case">=":return y<=v;case"<<":return v<<y;case">>":return v>>y;case"+":return v+y;case"-":return v-y;case"*":return v*y;case"/":return v/y;case"%":return v%y}return null;case"if":var g=c(i.condition);return c(g?i.thenExpression:i.elseExpression);case"pre":var _=c(i.operand);if(F_(_))return _;switch(i.operator){case"+":return _;case"-":return-_;case"!":return!_;case"~":return~_}return null;case"index":var E=k(i.expression),x=k(i.index);return E&&U_(x)?E[x]:null;case"select":var S=i.member,g=N;if((E=c(i.expression))instanceof Ei){var w,x=E.members.concat(S);return null!=(w=I(g=O.getStaticSymbol(E.filePath,E.name,x)))?R(g,w):g}return E&&U_(S)?R(g,E[S]):null;case"reference":var C,b=i.name;if((C=F.resolve(b))!=q_.missing)return C;break;case"resolved":try{return c(i.symbol)}catch(e){throw V_(e)&&null!=i.fileName&&null!=i.line&&null!=i.character&&(e.position={fileName:i.fileName,line:i.line,column:i.character}),e}case"class":case"function":return N;case"new":case"call":if((m=P(N,i.expression,A+1,0))instanceof Ei){if(m===O.injectionToken||m===O.opaqueToken)return N;var T=i.arguments||[];return(b=O.conversionMap.get(m))?(C=T.map(function(e){return R(N,e)}).map(function(e){return F_(e)?void 0:e}),b(N,C)):function(e,t,n,r){if(t&&"function"==t.__symbolic){L.get(e)&&O.error({message:"Recursion is not supported",summary:"called '"+e.name+"' recursively",value:t},e);try{if((l=t.value)&&(0!=A||"error"!=l.__symbolic)){var i=t.parameters,s=t.defaults;n=n.map(function(e){return R(N,e)}).map(function(e){return F_(e)?void 0:e}),s&&s.length>n.length&&n.push.apply(n,B(s.slice(n.length).map(c))),L.set(e,!0);for(var o=q_.build(),a=0;a<i.length;a++)o.define(i[a],n[a]);var u=F;try{F=o.done(),p=R(e,l)}finally{F=u}return p}}finally{L.delete(e)}}if(0===A)return R_;var p,l=void 0;r&&"resolved"==r.__symbolic&&(u=r.line,p=r.character,null!=(r=r.fileName)&&null!=u&&null!=p&&(l={fileName:r,line:u,column:p})),O.error({message:j_,context:e,value:t,position:l},N)}(m,I(m),T,i.expression)}return R_;case"error":return T=i.message,null!=i.line?O.error({message:T,context:i.context,value:i,position:{fileName:i.fileName,line:i.line,column:i.character}},N):O.error({message:T,context:i.context},N),R_;case"ignore":return i}return null}return function(n){if(!n)return{};var r={};return Object.keys(n).forEach(function(e){var t=function(e,t){if(O_.has(t)){if("useValue"===t&&"provide"in i){t=c(i.provide);if(t===O.ROUTES||t==O.ANALYZE_FOR_ENTRY_COMPONENTS)return c(e)}return function(e){return P(N,e,A,M+1)}(e)}return c(e)}(n[e],e);F_(t)||(k_.test(e)?Object.defineProperty(r,e,{enumerable:!1,configurable:!0,value:t}):r[e]=t)}),r}(i)}return R_}(e)}(e,t,0,n?1:0)}catch(t){if(!this.errorRecorder)throw Q_(t,e);this.reportError(t,e)}if(!F_(r))return r},D_.prototype.getTypeMetadata=function(e){e=this.symbolResolver.resolveSymbol(e);return e&&e.metadata?e.metadata:{__symbolic:"class"}},D_.prototype.reportError=function(e,t,n){if(!this.errorRecorder)throw e;this.errorRecorder(Q_(e,t),t&&t.filePath||n)},D_.prototype.error=function(e,t){var n=e.message,r=e.summary,i=e.advise,s=e.position,o=e.context,a=(e.value,e.symbol),e=e.chain;this.reportError(B_(n,r,i,s,a,o,e),t)},D_);function D_(e,t,n,r,i){var s=this;void 0===n&&(n=[]),void 0===r&&(r=[]),this.summaryResolver=e,this.symbolResolver=t,this.errorRecorder=i,this.annotationCache=new Map,this.shallowAnnotationCache=new Map,this.propertyCache=new Map,this.parameterCache=new Map,this.methodCache=new Map,this.staticCache=new Map,this.conversionMap=new Map,this.resolvedExternalReferences=new Map,this.annotationForParentClassWithSummaryKind=new Map,this.initializeConversionMap(),n.forEach(function(e){return s._registerDecoratorOrConstructor(s.getStaticSymbol(e.filePath,e.name),e.ctor)}),r.forEach(function(e){return s._registerFunction(s.getStaticSymbol(e.filePath,e.name),e.fn)}),this.annotationForParentClassWithSummaryKind.set(Ti.Directive,[H,G]),this.annotationForParentClassWithSummaryKind.set(Ti.Pipe,[X]),this.annotationForParentClassWithSummaryKind.set(Ti.NgModule,[ee]),this.annotationForParentClassWithSummaryKind.set(Ti.Injectable,[te,X,H,G,ee])}function B_(e,t,n,r,i,s,o){e=Wr(e);return e.ngMetadataError=!0,n&&(e.advise=n),r&&(e.position=r),t&&(e.summary=t),s&&(e.context=s),o&&(e.chain=o),i&&(e.symbol=i),e}function V_(e){return e.ngMetadataError}var j_="Function call not supported";function U_(e){return null===e||"function"!=typeof e&&"object"!=typeof e}var H_,q_=(K_.build=function(){var n=new Map;return{define:function(e,t){return n.set(e,t),this},done:function(){return 0<n.size?new W_(n):K_.empty}}},K_.missing={},K_.empty={resolve:function(e){return K_.missing}},K_),W_=(h(z_,H_=q_),z_.prototype.resolve=function(e){return this.bindings.has(e)?this.bindings.get(e):q_.missing},z_);function z_(e){var t=H_.call(this)||this;return t.bindings=e,t}function K_(){}function Q_(e,t){if(V_(e)){var n=e.position;return M_(function e(t,n){var r=function(e,t){switch(e){case"Reference to non-exported class":if(t&&t.className)return"References to a non-exported class are not supported in decorators but "+t.className+" was referenced.";break;case"Variable not initialized":return"Only initialized variables and constants can be referenced in decorators because the value of this variable is needed by the template compiler";case"Destructuring not supported":return"Referencing an exported destructured variable or constant is not supported in decorators and this value is needed by the template compiler";case"Could not resolve type":if(t&&t.typeName)return"Could not resolve type "+t.typeName;break;case j_:return t&&t.name?"Function calls are not supported in decorators but '"+t.name+"' was called":"Function calls are not supported in decorators";case"Reference to a local symbol":if(t&&t.name)return"Reference to a local (non-exported) symbols are not supported in decorators but '"+t.name+"' was referenced";break;case"Lambda not supported":return"Function expressions are not supported in decorators"}return e}(t.message,t.context)+(t.symbol?" in '"+t.symbol.name+"'":""),i=t.position,n=t.next?e(t.next,n):n?{message:n}:void 0;return{message:r,position:i,next:n?[n]:void 0}}({message:"Error during template compile of '"+t.name+"'",position:n,next:{message:e.message,next:e.chain,context:e.context,symbol:e.symbol}},e.advise||function(e,t){switch(e){case"Reference to non-exported class":if(t&&t.className)return"Consider exporting '"+t.className+"'";break;case"Destructuring not supported":return"Consider simplifying to avoid destructuring";case"Reference to a local symbol":if(t&&t.name)return"Consider exporting '"+t.name+"'";break;case"Lambda not supported":return"Consider changing the function expression into an exported function"}}(e.message,e.context)))}return e}var G_=(X_.prototype.isLibraryFile=function(e){return!this.host.isSourceFile(Uy(e))},X_.prototype.toSummaryFileName=function(e,t){return this.host.toSummaryFileName(e,t)},X_.prototype.fromSummaryFileName=function(e,t){return this.host.fromSummaryFileName(e,t)},X_.prototype.resolveSummary=function(e){var t=e.members.length?this.staticSymbolCache.get(e.filePath,e.name):e,n=this.summaryCache.get(t);return n||(this._loadSummaryFile(e.filePath),n=this.summaryCache.get(e)),t===e&&n||null},X_.prototype.getSymbolsOf=function(t){return this._loadSummaryFile(t)?Array.from(this.summaryCache.keys()).filter(function(e){return e.filePath===t}):null},X_.prototype.getImportAs=function(e){return e.assertNoMembers(),this.importAs.get(e)},X_.prototype.getKnownModuleName=function(e){return this.knownFileNameToModuleNames.get(e)||null},X_.prototype.addSummary=function(e){this.summaryCache.set(e.symbol,e)},X_.prototype._loadSummaryFile=function(e){var t=this;if(null!=(s=this.loadedFilePaths.get(e)))return s;var n=null;if(this.isLibraryFile(e)){var r=Wy(e);try{n=this.host.loadSummary(r)}catch(e){throw console.error("Error loading summary file "+r),e}}var i,s=null!=n;return this.loadedFilePaths.set(e,s),n&&(i=this.staticSymbolCache,r=e,n=n,r=(i=new d_(i,this).deserialize(r,n)).moduleName,n=i.summaries,i=i.importAs,n.forEach(function(e){return t.summaryCache.set(e.symbol,e)}),r&&this.knownFileNameToModuleNames.set(e,r),i.forEach(function(e){t.importAs.set(e.symbol,e.importAs)})),s},X_);function X_(e,t){this.host=e,this.staticSymbolCache=t,this.summaryCache=new Map,this.loadedFilePaths=new Map,this.importAs=new Map,this.knownFileNameToModuleNames=new Map}function $_(r){return{resolve:function(e,t){var n=r.resourceNameToFileName(t,e);if(!n)throw Wr("Couldn't resolve resource "+t+" from "+e);return n}}}Y_.prototype.isLibraryFile=function(){return!1},Y_.prototype.toSummaryFileName=function(e){return e},Y_.prototype.fromSummaryFileName=function(e){return e},Y_.prototype.resolveSummary=function(e){return this._summaries.get(e)||null},Y_.prototype.getSymbolsOf=function(){return[]},Y_.prototype.getImportAs=function(e){return e},Y_.prototype.getKnownModuleName=function(e){return null},Y_.prototype.addSummary=function(e){this._summaries.set(e.symbol,e)},lu=Y_;function Y_(){this._summaries=new Map}function J_(e,t,n,r,i){for(var s=r.createChildWihtLocalVars(),o=0;o<e.length;o++)s.vars.set(e[o],t[o]);n=i.visitAllStatements(n,s);return n?n.value:null}function Z_(e){this.value=e}var eE=(tE.prototype.createChildWihtLocalVars=function(){return new tE(this,this.instance,this.className,new Map)},tE);function tE(e,t,n,r){this.parent=e,this.instance=t,this.className=n,this.vars=r,this.exports=[]}var nE=(rE.prototype.debugAst=yg,rE.prototype.visitDeclareVarStmt=function(e,t){var n=e.value?e.value.visitExpression(this,t):void 0;return t.vars.set(e.name,n),e.hasModifier(Tt.Exported)&&t.exports.push(e.name),null},rE.prototype.visitWriteVarExpr=function(e,t){for(var n=e.value.visitExpression(this,t),r=t;null!=r;){if(r.vars.has(e.name))return r.vars.set(e.name,n),n;r=r.parent}throw new Error("Not declared variable "+e.name)},rE.prototype.visitWrappedNodeExpr=function(e,t){throw new Error("Cannot interpret a WrappedNodeExpr.")},rE.prototype.visitTypeofExpr=function(e,t){throw new Error("Cannot interpret a TypeofExpr")},rE.prototype.visitReadVarExpr=function(e,t){var n=e.name;if(null!=e.builtin)switch(e.builtin){case Be.Super:return Object.getPrototypeOf(t.instance);case Be.This:return t.instance;case Be.CatchError:n=sE;break;case Be.CatchStack:n=oE;break;default:throw new Error("Unknown builtin variable "+e.builtin)}for(var r=t;null!=r;){if(r.vars.has(n))return r.vars.get(n);r=r.parent}throw new Error("Not declared variable "+n)},rE.prototype.visitWriteKeyExpr=function(e,t){var n=e.receiver.visitExpression(this,t),r=e.index.visitExpression(this,t),t=e.value.visitExpression(this,t);return n[r]=t},rE.prototype.visitWritePropExpr=function(e,t){var n=e.receiver.visitExpression(this,t),t=e.value.visitExpression(this,t);return n[e.name]=t},rE.prototype.visitInvokeMethodExpr=function(e,t){var n,r=e.receiver.visitExpression(this,t),i=this.visitAllExpressions(e.args,t);if(null!=e.builtin)switch(e.builtin){case Ue.ConcatArray:n=r.concat.apply(r,B(i));break;case Ue.SubscribeObservable:n=r.subscribe({next:i[0]});break;case Ue.Bind:n=r.bind.apply(r,B(i));break;default:throw new Error("Unknown builtin method "+e.builtin)}else n=r[e.name].apply(r,i);return n},rE.prototype.visitInvokeFunctionExpr=function(e,t){var n=this.visitAllExpressions(e.args,t),r=e.fn;return r instanceof Ge&&r.builtin===Be.Super?(t.instance.constructor.prototype.constructor.apply(t.instance,n),null):e.fn.visitExpression(this,t).apply(null,n)},rE.prototype.visitReturnStmt=function(e,t){return new Z_(e.value.visitExpression(this,t))},rE.prototype.visitDeclareClassStmt=function(e,t){var n=function(s,o,a){var e={};s.getters.forEach(function(t){e[t.name]={configurable:!1,get:function(){var e=new eE(o,this,s.name,o.vars);return J_([],[],t.body,e,a)}}}),s.methods.forEach(function(r){var i=r.params.map(function(e){return e.name});e[r.name]={writable:!1,configurable:!1,value:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=new eE(o,this,s.name,o.vars);return J_(i,e,r.body,n,a)}}});function t(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=new eE(o,this,s.name,o.vars);s.fields.forEach(function(e){t[e.name]=void 0}),J_(i,e,s.constructorMethod.body,r,a)}var i=s.constructorMethod.params.map(function(e){return e.name}),n=s.parent?s.parent.visitExpression(a,o):Object;return t.prototype=Object.create(n.prototype,e),t}(e,t,this);return t.vars.set(e.name,n),e.hasModifier(Tt.Exported)&&t.exports.push(e.name),null},rE.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t)},rE.prototype.visitIfStmt=function(e,t){return e.condition.visitExpression(this,t)?this.visitAllStatements(e.trueCase,t):null!=e.falseCase?this.visitAllStatements(e.falseCase,t):null},rE.prototype.visitTryCatchStmt=function(t,n){try{return this.visitAllStatements(t.bodyStmts,n)}catch(e){n=n.createChildWihtLocalVars();return n.vars.set(sE,e),n.vars.set(oE,e.stack),this.visitAllStatements(t.catchStmts,n)}},rE.prototype.visitThrowStmt=function(e,t){throw e.error.visitExpression(this,t)},rE.prototype.visitCommentStmt=function(e,t){return null},rE.prototype.visitJSDocCommentStmt=function(e,t){return null},rE.prototype.visitInstantiateExpr=function(e,t){var n=this.visitAllExpressions(e.args,t),t=e.classExpr.visitExpression(this,t);return new(t.bind.apply(t,B([void 0],n)))},rE.prototype.visitLiteralExpr=function(e,t){return e.value},rE.prototype.visitLocalizedString=function(e,t){return null},rE.prototype.visitExternalExpr=function(e,t){return this.reflector.resolveExternalReference(e.value)},rE.prototype.visitConditionalExpr=function(e,t){return e.condition.visitExpression(this,t)?e.trueCase.visitExpression(this,t):null!=e.falseCase?e.falseCase.visitExpression(this,t):null},rE.prototype.visitNotExpr=function(e,t){return!e.condition.visitExpression(this,t)},rE.prototype.visitAssertNotNullExpr=function(e,t){return e.condition.visitExpression(this,t)},rE.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t)},rE.prototype.visitFunctionExpr=function(e,t){return iE(e.params.map(function(e){return e.name}),e.statements,t,this)},rE.prototype.visitDeclareFunctionStmt=function(e,t){var n=e.params.map(function(e){return e.name});return t.vars.set(e.name,iE(n,e.statements,t,this)),e.hasModifier(Tt.Exported)&&t.exports.push(e.name),null},rE.prototype.visitBinaryOperatorExpr=function(e,t){function n(){return e.lhs.visitExpression(i,t)}function r(){return e.rhs.visitExpression(i,t)}var i=this;switch(e.operator){case ye.Equals:return n()==r();case ye.Identical:return n()===r();case ye.NotEquals:return n()!=r();case ye.NotIdentical:return n()!==r();case ye.And:return n()&&r();case ye.Or:return n()||r();case ye.Plus:return n()+r();case ye.Minus:return n()-r();case ye.Divide:return n()/r();case ye.Multiply:return n()*r();case ye.Modulo:return n()%r();case ye.Lower:return n()<r();case ye.LowerEquals:return n()<=r();case ye.Bigger:return n()>r();case ye.BiggerEquals:return n()>=r();default:throw new Error("Unknown operator "+e.operator)}},rE.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t)[e.name]},rE.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t)[e.index.visitExpression(this,t)]},rE.prototype.visitLiteralArrayExpr=function(e,t){return this.visitAllExpressions(e.entries,t)},rE.prototype.visitLiteralMapExpr=function(e,t){var n=this,r={};return e.entries.forEach(function(e){return r[e.key]=e.value.visitExpression(n,t)}),r},rE.prototype.visitCommaExpr=function(e,t){t=this.visitAllExpressions(e.parts,t);return t[t.length-1]},rE.prototype.visitAllExpressions=function(e,t){var n=this;return e.map(function(e){return e.visitExpression(n,t)})},rE.prototype.visitAllStatements=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].visitStatement(this,t);if(r instanceof Z_)return r}return null},rE);function rE(e){this.reflector=e}function iE(n,r,i,s){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return J_(n,e,r,i,s)}}var sE="error",oE="stack",s=(pE.prototype.compileModuleSync=function(e){return Br(this._compileModuleAndComponents(e,!0))},pE.prototype.compileModuleAsync=function(e){return Promise.resolve(this._compileModuleAndComponents(e,!1))},pE.prototype.compileModuleAndAllComponentsSync=function(e){return Br(this._compileModuleAndAllComponents(e,!0))},pE.prototype.compileModuleAndAllComponentsAsync=function(e){return Promise.resolve(this._compileModuleAndAllComponents(e,!1))},pE.prototype.getComponentFactory=function(e){return this._metadataResolver.getDirectiveSummary(e).componentFactory},pE.prototype.loadAotSummaries=function(e){this.clearCache(),this._addAotSummaries(e)},pE.prototype._addAotSummaries=function(e){if(!this._addedAotSummaries.has(e)){this._addedAotSummaries.add(e);for(var t=e(),n=0;n<t.length;n++){var r=t[n];"function"==typeof r?this._addAotSummaries(r):this._summaryResolver.addSummary({symbol:r.type.reference,metadata:null,type:r})}}},pE.prototype.hasAotSummary=function(e){return!!this._summaryResolver.resolveSummary(e)},pE.prototype._filterJitIdentifiers=function(e){var t=this;return e.map(function(e){return e.reference}).filter(function(e){return!t.hasAotSummary(e)})},pE.prototype._compileModuleAndComponents=function(e,t){var n=this;return Vr(this._loadModules(e,t),function(){return n._compileComponents(e,null),n._compileModule(e)})},pE.prototype._compileModuleAndAllComponents=function(t,e){var n=this;return Vr(this._loadModules(t,e),function(){var e=[];return n._compileComponents(t,e),{ngModuleFactory:n._compileModule(t),componentFactories:e}})},pE.prototype._loadModules=function(e,n){var r=this,i=[],e=this._metadataResolver.getNgModuleMetadata(e);return this._filterJitIdentifiers(e.transitiveModule.modules).forEach(function(e){var t=r._metadataResolver.getNgModuleMetadata(e);r._filterJitIdentifiers(t.declaredDirectives).forEach(function(e){e=r._metadataResolver.loadDirectiveMetadata(t.type.reference,e,n);e&&i.push(e)}),r._filterJitIdentifiers(t.declaredPipes).forEach(function(e){return r._metadataResolver.getOrLoadPipeMetadata(e)})}),jr(i)},pE.prototype._compileModule=function(e){var t,n,r=this._compiledNgModuleCache.get(e);return r||(t=this._metadataResolver.getNgModuleMetadata(e),n=this.getExtraNgModuleProviders(t.type.reference),e=cE(),n=this._ngModuleCompiler.compile(e,t,n),r=this._interpretOrJit(Ji(t),e.statements)[n.ngModuleFactoryVar],this._compiledNgModuleCache.set(t.type.reference,r)),r},pE.prototype._compileComponents=function(e,r){var i=this,e=this._metadataResolver.getNgModuleMetadata(e),s=new Map,o=new Set,e=this._filterJitIdentifiers(e.transitiveModule.modules);e.forEach(function(e){var n=i._metadataResolver.getNgModuleMetadata(e);i._filterJitIdentifiers(n.declaredDirectives).forEach(function(e){s.set(e,n);var t=i._metadataResolver.getDirectiveMetadata(e);t.isComponent&&(o.add(i._createCompiledTemplate(t,n)),r)&&(e=i._createCompiledHostTemplate(t.type.reference,n),o.add(e),r.push(t.componentFactory))})}),e.forEach(function(e){e=i._metadataResolver.getNgModuleMetadata(e);i._filterJitIdentifiers(e.declaredDirectives).forEach(function(e){e=i._metadataResolver.getDirectiveMetadata(e);e.isComponent&&e.entryComponents.forEach(function(e){var t=s.get(e.componentType);o.add(i._createCompiledHostTemplate(e.componentType,t))})}),e.entryComponents.forEach(function(e){var t;i.hasAotSummary(e.componentType)||(t=s.get(e.componentType),o.add(i._createCompiledHostTemplate(e.componentType,t)))})}),o.forEach(function(e){return i._compileTemplate(e)})},pE.prototype.clearCacheFor=function(e){this._compiledNgModuleCache.delete(e),this._metadataResolver.clearCacheFor(e),this._compiledHostTemplateCache.delete(e),this._compiledTemplateCache.get(e)&&this._compiledTemplateCache.delete(e)},pE.prototype.clearCache=function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()},pE.prototype._createCompiledHostTemplate=function(e,t){if(!t)throw new Error("Component "+$r(e)+" is not part of any NgModule or the module has not been imported into your module.");var n,r,i=this._compiledHostTemplateCache.get(e);return i||(lE(n=this._metadataResolver.getDirectiveMetadata(e)),r=this._metadataResolver.getHostComponentMetadata(n,n.componentFactory.viewDefFactory),i=new aE(!0,n.type,r,t,[n.type]),this._compiledHostTemplateCache.set(e,i)),i},pE.prototype._createCompiledTemplate=function(e,t){var n=this._compiledTemplateCache.get(e.type.reference);return n||(lE(e),n=new aE(!1,e.type,e,t,t.transitiveModule.directives),this._compiledTemplateCache.set(e.type.reference,n)),n},pE.prototype._compileTemplate=function(e){var n,r,t,i,s,o,a=this;e.isCompiled||(n=e.compMeta,r=new Map,s=cE(),o=this._styleCompiler.compileComponent(s,n),n.template.externalStylesheets.forEach(function(e){var t=a._styleCompiler.compileStyles(cE(),n,e);r.set(e.moduleUrl,t)}),this._resolveStylesCompileResult(o,r),e.ngModule.transitiveModule.pipes.map(function(e){return a._metadataResolver.getPipeSummary(e.reference)}),t=(i=this._parseTemplate(n,e.ngModule,e.directives)).template,i=i.pipes,o=this._viewCompiler.compileComponent(s,n,t,xr(o.stylesVar),i),s=(i=this._interpretOrJit(Zi(e.ngModule.type,e.compMeta),s.statements))[o.viewClassVar],o=i[o.rendererTypeVar],e.compiled(s,o))},pE.prototype._parseTemplate=function(e,t,n){var r=this,i=e.template.preserveWhitespaces,s=n.map(function(e){return r._metadataResolver.getDirectiveSummary(e.reference)}),n=t.transitiveModule.pipes.map(function(e){return r._metadataResolver.getPipeSummary(e.reference)});return this._templateParser.parse(e,e.template.htmlAst,s,n,t.schemas,$i(t.type,e,e.template),i)},pE.prototype._resolveStylesCompileResult=function(e,r){var i=this;e.dependencies.forEach(function(e,t){var n=r.get(e.moduleUrl),n=i._resolveAndEvalStylesCompileResult(n,r);e.setValue(n)})},pE.prototype._resolveAndEvalStylesCompileResult=function(e,t){return this._resolveStylesCompileResult(e,t),this._interpretOrJit(Yi(e.meta,this._sharedStylesheetCount++),e.outputCtx.statements)[e.stylesVar]},pE.prototype._interpretOrJit=function(e,t){return this._compilerConfig.useJit?this._jitEvaluator.evaluateStatements(e,t,this._reflector,this._compilerConfig.jitDevMode):function(e,t){var n=new eE(null,null,null,new Map);new nE(t).visitAllStatements(e,n);var r={};return n.exports.forEach(function(e){r[e]=n.vars.get(e)}),r}(t,this._reflector)},pE),aE=(uE.prototype.compiled=function(e,t){for(var n in this._viewClass=e,this.compMeta.componentViewType.setDelegate(e),t)this.compMeta.rendererType[n]=t[n];this.isCompiled=!0},uE);function uE(e,t,n,r,i){this.isHost=e,this.compType=t,this.compMeta=n,this.ngModule=r,this.directives=i,this._viewClass=null,this.isCompiled=!1}function pE(e,t,n,r,i,s,o,a,u,p,l){this._metadataResolver=e,this._templateParser=t,this._styleCompiler=n,this._viewCompiler=r,this._ngModuleCompiler=i,this._summaryResolver=s,this._reflector=o,this._jitEvaluator=a,this._compilerConfig=u,this._console=p,this.getExtraNgModuleProviders=l,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._sharedStylesheetCount=0,this._addedAotSummaries=new Set}function lE(e){if(!e.isComponent)throw new Error("Could not compile '"+Ni(e.type)+"' because it is not a component.")}function cE(){return{statements:[],genFilePath:"",importExpr:function(e){return Sr({name:Ni(e),moduleName:null,runtime:e})},constantPool:new ui}}var hE=(dE.prototype.resolve=function(e,t){var s=t;null!=e&&0<e.length&&(s=function(e){var t=vE(encodeURI(s)),n=vE(e);if(null!=t[fE.Scheme])return yE(t);t[fE.Scheme]=n[fE.Scheme];for(var r=fE.Scheme;r<=fE.Port;r++)null==t[r]&&(t[r]=n[r]);if("/"==t[fE.Path][0])return yE(t);var e=(i=null==(i=n[fE.Path])?"/":i).lastIndexOf("/"),i=i.substring(0,e+1)+t[fE.Path];return t[fE.Path]=i,yE(t)}(e));t=vE(s),e=this._packagePrefix;if(null==e||null==t||"package"!=t[fE.Scheme])return s;t=t[fE.Path];return(e=e.replace(/\/+$/,""))+"/"+t.replace(/^\/+/,"")},dE);function dE(e){this._packagePrefix=e=void 0===e?null:e}var fE,mE=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function vE(e){return e.match(mE)}function yE(e){var t,n,r,i,s,o,a=null==(a=e[fE.Path])?"":function(e){if("/"==e)return"/";for(var t="/"==e[0]?"/":"",n="/"===e[e.length-1]?"/":"",r=e.split("/"),i=[],s=0,o=0;o<r.length;o++){var a=r[o];switch(a){case"":case".":break;case"..":0<i.length?i.pop():s++;break;default:i.push(a)}}if(!t){for(;0<s--;)i.unshift("..");0===i.length&&i.push(".")}return t+i.join("/")+n}(a);return e[fE.Path]=a,t=e[fE.Scheme],n=e[fE.UserInfo],r=e[fE.Domain],i=e[fE.Port],s=a,o=e[fE.QueryData],a=e[fE.Fragment],e=[],null!=t&&e.push(t+":"),null!=r&&(e.push("//"),null!=n&&e.push(n+"@"),e.push(r),null!=i&&e.push(":"+i)),null!=s&&e.push(s),null!=o&&e.push("?"+o),null!=a&&e.push("#"+a),e.join("")}(mi=fE=fE||{})[mi.Scheme=1]="Scheme",mi[mi.UserInfo=2]="UserInfo",mi[mi.Domain=3]="Domain",mi[mi.Port=4]="Port",mi[mi.Path=5]="Path",mi[mi.QueryData=6]="QueryData",mi[mi.Fragment=7]="Fragment";var gE,no=(NE.prototype.extract=function(e){var i=this,e=C_(e,this.host,this.staticSymbolResolver,this.metadataResolver),t=e.files,e=e.ngModules;return Promise.all(e.map(function(e){return i.metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!1)})).then(function(){var r=[];if(t.forEach(function(e){var t=[];e.directives.forEach(function(e){e=i.metadataResolver.getDirectiveMetadata(e);e&&e.isComponent&&t.push(e)}),t.forEach(function(e){var t=e.template.template,n=e.template.templateUrl,e=za.fromArray(e.template.interpolation);r.push.apply(r,B(i.messageBundle.updateFromTemplate(t,n,e)))})}),r.length)throw new Error(r.map(function(e){return e.toString()}).join("\n"));return i.messageBundle})},NE.create=function(t,e){var n=new Jc,r=$_(t),i=new xi,s=new G_(t,i),o=new i_(t,i,s),a=new L_(s,o),u=new Tv({defaultEncapsulation:S.Emulated,useJit:!1}),p=new Nv({get:function(e){return t.loadResource(e)}},r,n,u),r=new Ff,i=new Yy(u,n,new fg(a),new Iv(a),new Sg(a),s,r,p,console,i,a),e=new Gg(n,[],{},e);return{extractor:new NE(t,o,e,i),staticReflector:a}},NE),mi=(PE.prototype.bind=function(e){if(!e.template)throw new Error("Binding without a template not yet supported");var t=_E.apply(e.template),n=EE.apply(e.template,this.directiveMatcher),r=n.directives,i=n.bindings,s=n.references,o=xE.apply(e.template,t),a=o.expressions,n=o.symbols,t=o.nestingLevel,o=o.usedPipes;return new SE(e,r,i,s,a,n,t,o)},PE),_E=(TE.apply=function(e){var t=new TE;return t.ingest(e),t},TE.prototype.ingest=function(e){var t=this;e instanceof Ms?(e.variables.forEach(function(e){return t.visitVariable(e)}),e.children.forEach(function(e){return e.visit(t)})):e.forEach(function(e){return e.visit(t)})},TE.prototype.visitElement=function(e){var t=this;e.references.forEach(function(e){return t.visitReference(e)}),e.children.forEach(function(e){return e.visit(t)})},TE.prototype.visitTemplate=function(e){var t=this;e.references.forEach(function(e){return t.visitReference(e)});var n=new TE(this);n.ingest(e),this.childScopes.set(e,n)},TE.prototype.visitVariable=function(e){this.maybeDeclare(e)},TE.prototype.visitReference=function(e){this.maybeDeclare(e)},TE.prototype.visitContent=function(e){},TE.prototype.visitBoundAttribute=function(e){},TE.prototype.visitBoundEvent=function(e){},TE.prototype.visitBoundText=function(e){},TE.prototype.visitText=function(e){},TE.prototype.visitTextAttribute=function(e){},TE.prototype.visitIcu=function(e){},TE.prototype.maybeDeclare=function(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)},TE.prototype.lookup=function(e){return this.namedEntities.has(e)?this.namedEntities.get(e):void 0!==this.parentScope?this.parentScope.lookup(e):null},TE.prototype.getChildScope=function(e){var t=this.childScopes.get(e);if(void 0===t)throw new Error("Assertion error: child scope for "+e+" not found");return t},TE),EE=(bE.apply=function(e,t){var n=new Map,r=new Map,i=new Map;return new bE(t,n,r,i).ingest(e),{directives:n,bindings:r,references:i}},bE.prototype.ingest=function(e){var t=this;e.forEach(function(e){return e.visit(t)})},bE.prototype.visitElement=function(e){this.visitElementOrTemplate(e.name,e)},bE.prototype.visitTemplate=function(e){this.visitElementOrTemplate("ng-template",e)},bE.prototype.visitElementOrTemplate=function(e,r){var i=this,e=jm(e,Oa(r)),s=[];this.matcher.match(e,function(e,t){return s.push(t)}),0<s.length&&this.directives.set(r,s),r.references.forEach(function(t){var e=null;if(""===t.value.trim())e=s.find(function(e){return e.isComponent})||null;else if(null===(e=s.find(function(e){return null!==e.exportAs&&e.exportAs.some(function(e){return e===t.value})})||null))return;null!==e?i.references.set(t,{directive:e,node:r}):i.references.set(t,r)});function t(t,n){var e=s.find(function(e){return e[n].hasOwnProperty(t.name)});i.bindings.set(t,void 0!==e?e:r)}r.inputs.forEach(function(e){return t(e,"inputs")}),r.attributes.forEach(function(e){return t(e,"inputs")}),r instanceof Ms&&r.templateAttrs.forEach(function(e){return t(e,"inputs")}),r.outputs.forEach(function(e){return t(e,"outputs")}),r.children.forEach(function(e){return e.visit(i)})},bE.prototype.visitContent=function(e){},bE.prototype.visitVariable=function(e){},bE.prototype.visitReference=function(e){},bE.prototype.visitTextAttribute=function(e){},bE.prototype.visitBoundAttribute=function(e){},bE.prototype.visitBoundEvent=function(e){},bE.prototype.visitBoundAttributeOrEvent=function(e){},bE.prototype.visitText=function(e){},bE.prototype.visitBoundText=function(e){},bE.prototype.visitIcu=function(e){},bE),xE=(h(CE,gE=es),CE.prototype.visit=function(e,t){e instanceof Yu?e.visit(this,t):e.visit(this)},CE.apply=function(e,t){var n=new Map,r=new Map,i=new Map,s=new Set;return new CE(n,r,s,i,t,e instanceof Ms?e:null,0).ingest(e),{expressions:n,symbols:r,nestingLevel:i,usedPipes:s}},CE.prototype.ingest=function(e){e instanceof Ms?(e.variables.forEach(this.visitNode),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level)):e.forEach(this.visitNode)},CE.prototype.visitElement=function(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.children.forEach(this.visitNode)},CE.prototype.visitTemplate=function(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.references.forEach(this.visitNode);var t=this.scope.getChildScope(e);new CE(this.bindings,this.symbols,this.usedPipes,this.nestingLevel,t,e,this.level+1).ingest(e)},CE.prototype.visitVariable=function(e){null!==this.template&&this.symbols.set(e,this.template)},CE.prototype.visitReference=function(e){null!==this.template&&this.symbols.set(e,this.template)},CE.prototype.visitText=function(e){},CE.prototype.visitContent=function(e){},CE.prototype.visitTextAttribute=function(e){},CE.prototype.visitIcu=function(e){},CE.prototype.visitBoundAttribute=function(e){e.value.visit(this)},CE.prototype.visitBoundEvent=function(e){e.handler.visit(this)},CE.prototype.visitBoundText=function(e){e.value.visit(this)},CE.prototype.visitPipe=function(e,t){return this.usedPipes.add(e.name),gE.prototype.visitPipe.call(this,e,t)},CE.prototype.visitPropertyRead=function(e,t){return this.maybeMap(t,e,e.name),gE.prototype.visitPropertyRead.call(this,e,t)},CE.prototype.visitSafePropertyRead=function(e,t){return this.maybeMap(t,e,e.name),gE.prototype.visitSafePropertyRead.call(this,e,t)},CE.prototype.visitPropertyWrite=function(e,t){return this.maybeMap(t,e,e.name),gE.prototype.visitPropertyWrite.call(this,e,t)},CE.prototype.visitMethodCall=function(e,t){return this.maybeMap(t,e,e.name),gE.prototype.visitMethodCall.call(this,e,t)},CE.prototype.visitSafeMethodCall=function(e,t){return this.maybeMap(t,e,e.name),gE.prototype.visitSafeMethodCall.call(this,e,t)},CE.prototype.maybeMap=function(e,t,n){t.receiver instanceof ep&&(null!==(n=this.scope.lookup(n))&&this.bindings.set(t,n))},CE),SE=(wE.prototype.getDirectivesOfNode=function(e){return this.directives.get(e)||null},wE.prototype.getReferenceTarget=function(e){return this.references.get(e)||null},wE.prototype.getConsumerOfBinding=function(e){return this.bindings.get(e)||null},wE.prototype.getExpressionTarget=function(e){return this.exprTargets.get(e)||null},wE.prototype.getTemplateOfSymbol=function(e){return this.symbols.get(e)||null},wE.prototype.getNestingLevel=function(e){return this.nestingLevel.get(e)||0},wE.prototype.getUsedDirectives=function(){var t=new Set;return this.directives.forEach(function(e){return e.forEach(function(e){return t.add(e)})}),Array.from(t.values())},wE.prototype.getUsedPipes=function(){return Array.from(this.usedPipes)},wE);function wE(e,t,n,r,i,s,o,a){this.target=e,this.directives=t,this.bindings=n,this.references=r,this.exprTargets=i,this.symbols=s,this.nestingLevel=o,this.usedPipes=a}function CE(e,t,n,r,i,s,o){var a=gE.call(this)||this;return a.bindings=e,a.symbols=t,a.usedPipes=n,a.nestingLevel=r,a.scope=i,a.template=s,a.level=o,a.pipesUsed=[],a.visitNode=function(e){return e.visit(a)},a}function bE(e,t,n,r){this.matcher=e,this.directives=t,this.bindings=n,this.references=r}function TE(e){this.parentScope=e,this.namedEntities=new Map,this.childScopes=new Map}function PE(e){this.directiveMatcher=e}function NE(e,t,n,r){this.host=e,this.staticSymbolResolver=t,this.messageBundle=n,this.metadataResolver=r}bv(ni);var AE,ME=Object.freeze({__proto__:null,AST:Yu,ASTWithSource:Ep,AbsoluteSourceSpan:_p,AotCompiler:g_,AotSummaryResolver:G_,ArrayType:Ce,AssertNotNull:Ht,AstMemoryEfficientTransformer:On,AstPath:rc,AstTransformer:xp,AttrAst:gh,Attribute:ac,Binary:dp,get BinaryOperator(){return ye},BinaryOperatorExpr:Kt,BindingPipe:up,BoundDirectivePropertyAst:Th,BoundElementProperty:Yp,BoundElementPropertyAst:Eh,BoundEventAst:xh,BoundTextAst:yh,get BuiltinMethod(){return Ue},BuiltinType:Se,get BuiltinTypeName(){return fe},get BuiltinVar(){return Be},CONTENT_ATTR:"_ngcontent-%COMP%",CUSTOM_ELEMENTS_SCHEMA:ne,CastExpr:qt,Chain:tp,ClassField:Fn,ClassMethod:Ln,ClassStmt:Bn,CommaExpr:Jt,Comment:pc,CommentStmt:jn,CompileDirectiveMetadata:Bi,CompileMetadataResolver:Yy,CompileNgModuleMetadata:ji,CompilePipeMetadata:Vi,CompileReflector:function(){},CompileShallowModuleMetadata:function(){},CompileStylesheetMetadata:Li,get CompileSummaryKind(){return Ti},CompileTemplateMetadata:Di,CompiledStylesheet:ql,CompilerConfig:Tv,Conditional:np,ConditionalExpr:jt,ConstantPool:ui,CssSelector:b,DEFAULT_INTERPOLATION_CONFIG:Ka,DYNAMIC_TYPE:Te,DeclareFunctionStmt:In,DeclareVarStmt:Mn,DirectiveAst:Ph,DirectiveNormalizer:Nv,DirectiveResolver:Iv,DomElementSchemaRegistry:Ff,EMPTY_PARSE_LOCATION:vs,EMPTY_SOURCE_SPAN:ys,EOF:sf,ERROR_COMPONENT_TYPE:"ngComponentType",Element:uc,ElementAst:Ch,ElementSchemaRegistry:zn,EmbeddedTemplateAst:bh,EmitterVisitorContext:ru,EmptyExpr:Zu,Expansion:sc,ExpansionCase:oc,Expression:Ve,ExpressionStatement:kn,ExpressionType:we,ExternalExpr:Vt,ExternalReference:bt,Extractor:no,FunctionCall:gp,FunctionExpr:zt,GeneratedFile:$g,HOST_ATTR:"_nghost-%COMP%",HtmlParser:Jc,HtmlTagDefinition:_,I18NHtmlParser:Cy,Identifiers:vi,IfStmt:Vn,ImplicitReceiver:ep,InstantiateExpr:dt,Interpolation:hp,InterpolationConfig:za,InvokeFunctionExpr:ht,InvokeMethodExpr:ct,IvyParser:xf,JSDocCommentStmt:Un,JitCompiler:s,JitEvaluator:cu,JitSummaryResolver:lu,KeyedRead:op,KeyedWrite:ap,Lexer:Jd,LiteralArray:lp,LiteralArrayExpr:Xt,LiteralExpr:ft,LiteralMap:cp,LiteralMapExpr:Yt,LiteralPrimitive:pp,MapType:be,MessageBundle:Gg,MethodCall:vp,NAMED_ENTITIES:g,NGSP_UNICODE:"",NONE_TYPE:Ie,NO_ERRORS_SCHEMA:re,NgContentAst:Hh,NgModuleCompiler:dg,NgModuleResolver:fg,NodeWithI18n:Jl,NonNullAssert:mp,NotExpr:Ut,NullTemplateVisitor:ei,ParseError:Es,get ParseErrorLevel(){return ds},ParseLocation:fs,ParseSourceFile:hs,ParseSourceSpan:ms,ParseSpan:$u,ParseTreeResult:Dc,ParsedEvent:Xp,ParsedProperty:Tu,get ParsedPropertyType(){return Pu},ParsedVariable:$p,Parser:Ef,ParserError:Cu,PipeResolver:Sg,PrefixNot:fp,PropertyRead:rp,PropertyWrite:ip,ProviderAst:Nh,get ProviderAstType(){return mh},ProviderMeta:Qi,Quote:Ju,R3BoundTarget:SE,get R3FactoryTarget(){return Ma},R3Identifiers:ts,get R3ResolvedDependencyType(){return Ia},R3TargetBinder:mi,ReadKeyExpr:Gt,ReadPropExpr:Qt,ReadVarExpr:Ge,RecursiveAstVisitor:es,RecursiveTemplateAstVisitor:ti,RecursiveVisitor:_c,ReferenceAst:Sh,ResolvedStaticSymbol:n_,ResourceLoader:lv,ReturnStatement:Rn,STRING_TYPE:Me,SafeMethodCall:yp,SafePropertyRead:sp,SelectorContext:k,SelectorListContext:I,SelectorMatcher:A,Serializer:Wn,SplitInterpolation:hf,Statement:An,StaticReflector:L_,StaticSymbol:Ei,StaticSymbolCache:xi,StaticSymbolResolver:i_,get StmtModifier(){return Tt},StyleCompiler:Xl,StylesCompileDependency:Hl,SummaryResolver:function(){},get TagContentType(){return l},TemplateBinding:bu,TemplateBindingParseResult:df,TemplateParseError:bd,TemplateParseResult:wd,TemplateParser:Td,Text:ic,TextAst:vh,ThrowStmt:qn,TmplAstBoundAttribute:Ps,TmplAstBoundEvent:Ns,TmplAstBoundText:bs,TmplAstContent:Is,TmplAstElement:As,TmplAstRecursiveVisitor:Fs,TmplAstReference:Rs,TmplAstTemplate:Ms,TmplAstText:Cs,TmplAstTextAttribute:Ts,TmplAstVariable:ks,Token:Zd,get TokenType(){return zd},TransitiveCompileNgModuleMetadata:Ui,TreeError:qc,TryCatchStmt:Hn,Type:me,TypeScriptEmitter:Eg,TypeofExpr:Xe,UrlResolver:hE,VERSION:ro,VariableAst:wh,Version:Zr,ViewCompiler:Tg,WrappedNodeExpr:$e,WriteKeyExpr:Je,WritePropExpr:Ze,WriteVarExpr:Ye,Xliff:Zv,Xliff2:py,Xmb:ra,XmlParser:Jv,Xtb:gy,_ParseAST:Sf,analyzeAndValidateNgModules:C_,analyzeFile:T_,analyzeFileForInjectables:P_,analyzeNgModules:w_,collectExternalReferences:function(e){var t=new fr;return t.visitAllStatements(e,null),t.externalReferences},compileComponentFromMetadata:Jm,compileDirectiveFromMetadata:Ym,compileFactoryFunction:Da,compileInjectable:ja,compileInjector:Eu,compileNgModule:_u,compilePipeFromMetadata:wu,componentFactoryName:Ri,computeMsgId:Co,core:de,createAotCompiler:function(t,e,n){var r=e.translations||"",i=$_(t),s=new xi,o=new G_(t,s),a=new i_(t,s,o),u=new L_(o,a,[],[],n),p=e.enableIvy?new Jc:new Cy(new Jc,r,e.i18nFormat,e.missingTranslation,console),l=new Tv({defaultEncapsulation:S.Emulated,useJit:!1,missingTranslation:e.missingTranslation,preserveWhitespaces:e.preserveWhitespaces,strictInjectionParameters:e.strictInjectionParameters}),c=new Nv({get:function(e){return t.loadResource(e)}},i,p,l),h=new Ef(new Jd),r=new Ff,h=new Td(l,u,h,r,p,console,[]),c=new Yy(l,p,new fg(u),new Iv(u),new Sg(u),o,r,c,console,s,u,n),s=new Tg(u),n=new wg(e,u);return{compiler:new g_(l,e,t,u,c,h,new Xl(i),s,n,new dg(u),new Oy(u,!!e.enableIvy),new Eg,o,a),reflector:u}},createAotUrlResolver:$_,createElementCssSelector:Dd,createLoweredSymbol:function(e){return"ɵ"+e},createOfflineCompileUrlResolver:function(){return new hE(".")},createUrlResolverWithoutPackagePrefix:function(){return new hE},debugOutputAstAsTypeScript:yg,findNode:function(e,r){var t,i=[];return yc((h(n,t=_c),n.prototype.visit=function(e,t){var n=function e(t){var n=t.sourceSpan.start.offset,r=t.sourceSpan.end.offset;return t instanceof uc&&(t.endSourceSpan?r=t.endSourceSpan.end.offset:t.children&&t.children.length&&(r=e(t.children[t.children.length-1]).end)),{start:n,end:r}}(e);if(!(n.start<=r&&r<n.end))return!0;i.push(e)},new n),e),new rc(i,r);function n(){return null!==t&&t.apply(this,arguments)||this}},flatten:Gi,formattedError:M_,getHtmlTagDefinition:x,getNsPrefix:f,getParseErrors:function(e){return e[Kr]||[]},getUrlScheme:function(e){e=vE(e);return e&&e[fE.Scheme]||""},hostViewClassName:ki,identifierModuleUrl:Ai,identifierName:Ni,isEmptyExpression:Hd,isFormattedError:function(e){return!!e.ngFormattedMessage},isIdentifier:pf,isLoweredSymbol:Xy,isNgContainer:N,isNgContent:c,isNgTemplate:M,isQuote:cf,isSyntaxError:function(e){return e[zr]},literalMap:Pr,makeBindingParser:qm,mergeAnalyzedFiles:N_,mergeNsAndName:m,ngModuleJitUrl:Ji,parseHostBindings:uv,parseTemplate:Um,preserveWhitespacesDefault:Pv,publishFacade:bv,r3JitTypeSourceSpan:ws,removeSummaryDuplicates:Ud,rendererTypeName:Ii,sanitizeIdentifier:bi,sharedStylesheetJitUrl:Yi,splitClasses:Od,splitNsName:P,syntaxError:Wr,templateJitUrl:Zi,templateSourceUrl:$i,templateVisitAll:Kh,toTypeScript:function(e,t){if(void 0===t&&(t=""),!e.stmts)throw new Error("Illegal state: No stmts present on GeneratedFile "+e.genFileUrl);return(new Eg).emitStatements(e.genFileUrl,e.stmts,t)},tokenName:Oi,tokenReference:Fi,typeSourceSpan:Ss,unescapeIdentifier:o_,unwrapResolvedMetadata:a_,verifyHostBindings:pv,viewClassName:Mi,visitAll:yc});class IE{constructor(e,t,n,r){this.input=t,this.errLocation=n,this.ctxLocation=r,this.message="Parser Error: ".concat(e," ").concat(n," [").concat(t,"] in ").concat(r)}}class kE{constructor(e,t){this.start=e,this.end=t}toAbsolute(e){return new tx(e+this.start,e+this.end)}}class RE{constructor(e,t){this.span=e,this.sourceSpan=t}visit(e,t=0){return null}toString(){return"AST"}}class OE extends RE{constructor(e,t,n,r,i){super(e,t),this.prefix=n,this.uninterpretedExpression=r,this.location=i}visit(e,t=null){return e.visitQuote(this,t)}toString(){return"Quote"}}class FE extends RE{visit(e,t=0){}}class LE extends RE{visit(e,t=null){return e.visitImplicitReceiver(this,t)}}class DE extends RE{constructor(e,t,n){super(e,t),this.expressions=n}visit(e,t=null){return e.visitChain(this,t)}}class BE extends RE{constructor(e,t,n,r,i){super(e,t),this.condition=n,this.trueExp=r,this.falseExp=i}visit(e,t=null){return e.visitConditional(this,t)}}class VE extends RE{constructor(e,t,n,r){super(e,t),this.receiver=n,this.name=r}visit(e,t=null){return e.visitPropertyRead(this,t)}}class jE extends RE{constructor(e,t,n,r,i){super(e,t),this.receiver=n,this.name=r,this.value=i}visit(e,t=null){return e.visitPropertyWrite(this,t)}}class UE extends RE{constructor(e,t,n,r){super(e,t),this.receiver=n,this.name=r}visit(e,t=null){return e.visitSafePropertyRead(this,t)}}class HE extends RE{constructor(e,t,n,r){super(e,t),this.obj=n,this.key=r}visit(e,t=null){return e.visitKeyedRead(this,t)}}class qE extends RE{constructor(e,t,n,r,i){super(e,t),this.obj=n,this.key=r,this.value=i}visit(e,t=null){return e.visitKeyedWrite(this,t)}}class WE extends RE{constructor(e,t,n,r,i,s){super(e,t),this.exp=n,this.name=r,this.args=i,this.nameSpan=s}visit(e,t=null){return e.visitPipe(this,t)}}class zE extends RE{constructor(e,t,n){super(e,t),this.value=n}visit(e,t=null){return e.visitLiteralPrimitive(this,t)}}class KE extends RE{constructor(e,t,n){super(e,t),this.expressions=n}visit(e,t=null){return e.visitLiteralArray(this,t)}}class QE extends RE{constructor(e,t,n,r){super(e,t),this.keys=n,this.values=r}visit(e,t=null){return e.visitLiteralMap(this,t)}}class GE extends RE{constructor(e,t,n,r){super(e,t),this.strings=n,this.expressions=r}visit(e,t=null){return e.visitInterpolation(this,t)}}class XE extends RE{constructor(e,t,n,r,i){super(e,t),this.operation=n,this.left=r,this.right=i}visit(e,t=null){return e.visitBinary(this,t)}}class $E extends RE{constructor(e,t,n){super(e,t),this.expression=n}visit(e,t=null){return e.visitPrefixNot(this,t)}}class YE extends RE{constructor(e,t,n){super(e,t),this.expression=n}visit(e,t=null){return e.visitNonNullAssert(this,t)}}class JE extends RE{constructor(e,t,n,r,i){super(e,t),this.receiver=n,this.name=r,this.args=i}visit(e,t=null){return e.visitMethodCall(this,t)}}class ZE extends RE{constructor(e,t,n,r,i){super(e,t),this.receiver=n,this.name=r,this.args=i}visit(e,t=null){return e.visitSafeMethodCall(this,t)}}class ex extends RE{constructor(e,t,n,r){super(e,t),this.target=n,this.args=r}visit(e,t=null){return e.visitFunctionCall(this,t)}}class tx{constructor(e,t){this.start=e,this.end=t}}class nx extends RE{constructor(e,t,n,r,i){super(new kE(0,null===t?0:t.length),new tx(r,null===t?r:r+t.length)),this.ast=e,this.source=t,this.location=n,this.errors=i}visit(e,t=null){return e.visitASTWithSource?e.visitASTWithSource(this,t):this.ast.visit(e,t)}toString(){return"".concat(this.source," in ").concat(this.location)}}class rx{constructor(e,t,n,r,i,s){this.span=e,this.key=n,this.keyIsVar=r,this.name=i,this.expression=s}}(Zr=AE=AE||{})[Zr.DEFAULT=0]="DEFAULT",Zr[Zr.LITERAL_ATTR=1]="LITERAL_ATTR",Zr[Zr.ANIMATION=2]="ANIMATION";var ix,sx=Object.freeze({__proto__:null,ParserError:IE,ParseSpan:kE,AST:RE,Quote:OE,EmptyExpr:FE,ImplicitReceiver:LE,Chain:DE,Conditional:BE,PropertyRead:VE,PropertyWrite:jE,SafePropertyRead:UE,KeyedRead:HE,KeyedWrite:qE,BindingPipe:WE,LiteralPrimitive:zE,LiteralArray:KE,LiteralMap:QE,Interpolation:GE,Binary:XE,PrefixNot:$E,NonNullAssert:YE,MethodCall:JE,SafeMethodCall:ZE,FunctionCall:ex,AbsoluteSourceSpan:tx,ASTWithSource:nx,TemplateBinding:rx,RecursiveAstVisitor:class{visit(e,t){e.visit(this,t)}visitBinary(e,t){this.visit(e.left,t),this.visit(e.right,t)}visitChain(e,t){this.visitAll(e.expressions,t)}visitConditional(e,t){this.visit(e.condition,t),this.visit(e.trueExp,t),this.visit(e.falseExp,t)}visitPipe(e,t){this.visit(e.exp,t),this.visitAll(e.args,t)}visitFunctionCall(e,t){e.target&&this.visit(e.target,t),this.visitAll(e.args,t)}visitImplicitReceiver(e,t){}visitInterpolation(e,t){this.visitAll(e.expressions,t)}visitKeyedRead(e,t){this.visit(e.obj,t),this.visit(e.key,t)}visitKeyedWrite(e,t){this.visit(e.obj,t),this.visit(e.key,t),this.visit(e.value,t)}visitLiteralArray(e,t){this.visitAll(e.expressions,t)}visitLiteralMap(e,t){this.visitAll(e.values,t)}visitLiteralPrimitive(e,t){}visitMethodCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitPrefixNot(e,t){this.visit(e.expression,t)}visitNonNullAssert(e,t){this.visit(e.expression,t)}visitPropertyRead(e,t){this.visit(e.receiver,t)}visitPropertyWrite(e,t){this.visit(e.receiver,t),this.visit(e.value,t)}visitSafePropertyRead(e,t){this.visit(e.receiver,t)}visitSafeMethodCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitQuote(e,t){}visitAll(e,t){for(const n of e)this.visit(n,t)}},AstTransformer:class{visitImplicitReceiver(e,t){return e}visitInterpolation(e,t){return new GE(e.span,e.sourceSpan,e.strings,this.visitAll(e.expressions))}visitLiteralPrimitive(e,t){return new zE(e.span,e.sourceSpan,e.value)}visitPropertyRead(e,t){return new VE(e.span,e.sourceSpan,e.receiver.visit(this),e.name)}visitPropertyWrite(e,t){return new jE(e.span,e.sourceSpan,e.receiver.visit(this),e.name,e.value.visit(this))}visitSafePropertyRead(e,t){return new UE(e.span,e.sourceSpan,e.receiver.visit(this),e.name)}visitMethodCall(e,t){return new JE(e.span,e.sourceSpan,e.receiver.visit(this),e.name,this.visitAll(e.args))}visitSafeMethodCall(e,t){return new ZE(e.span,e.sourceSpan,e.receiver.visit(this),e.name,this.visitAll(e.args))}visitFunctionCall(e,t){return new ex(e.span,e.sourceSpan,e.target.visit(this),this.visitAll(e.args))}visitLiteralArray(e,t){return new KE(e.span,e.sourceSpan,this.visitAll(e.expressions))}visitLiteralMap(e,t){return new QE(e.span,e.sourceSpan,e.keys,this.visitAll(e.values))}visitBinary(e,t){return new XE(e.span,e.sourceSpan,e.operation,e.left.visit(this),e.right.visit(this))}visitPrefixNot(e,t){return new $E(e.span,e.sourceSpan,e.expression.visit(this))}visitNonNullAssert(e,t){return new YE(e.span,e.sourceSpan,e.expression.visit(this))}visitConditional(e,t){return new BE(e.span,e.sourceSpan,e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))}visitPipe(e,t){return new WE(e.span,e.sourceSpan,e.exp.visit(this),e.name,this.visitAll(e.args),e.nameSpan)}visitKeyedRead(e,t){return new HE(e.span,e.sourceSpan,e.obj.visit(this),e.key.visit(this))}visitKeyedWrite(e,t){return new qE(e.span,e.sourceSpan,e.obj.visit(this),e.key.visit(this),e.value.visit(this))}visitAll(t){const n=[];for(let e=0;e<t.length;++e)n[e]=t[e].visit(this);return n}visitChain(e,t){return new DE(e.span,e.sourceSpan,this.visitAll(e.expressions))}visitQuote(e,t){return new OE(e.span,e.sourceSpan,e.prefix,e.uninterpretedExpression,e.location)}},AstMemoryEfficientTransformer:class{visitImplicitReceiver(e,t){return e}visitInterpolation(e,t){var n=this.visitAll(e.expressions);return n!==e.expressions?new GE(e.span,e.sourceSpan,e.strings,n):e}visitLiteralPrimitive(e,t){return e}visitPropertyRead(e,t){var n=e.receiver.visit(this);return n!==e.receiver?new VE(e.span,e.sourceSpan,n,e.name):e}visitPropertyWrite(e,t){var n=e.receiver.visit(this),r=e.value.visit(this);return n!==e.receiver||r!==e.value?new jE(e.span,e.sourceSpan,n,e.name,r):e}visitSafePropertyRead(e,t){var n=e.receiver.visit(this);return n!==e.receiver?new UE(e.span,e.sourceSpan,n,e.name):e}visitMethodCall(e,t){var n=e.receiver.visit(this),r=this.visitAll(e.args);return n!==e.receiver||r!==e.args?new JE(e.span,e.sourceSpan,n,e.name,r):e}visitSafeMethodCall(e,t){var n=e.receiver.visit(this),r=this.visitAll(e.args);return n!==e.receiver||r!==e.args?new ZE(e.span,e.sourceSpan,n,e.name,r):e}visitFunctionCall(e,t){var n=e.target&&e.target.visit(this),r=this.visitAll(e.args);return n!==e.target||r!==e.args?new ex(e.span,e.sourceSpan,n,r):e}visitLiteralArray(e,t){var n=this.visitAll(e.expressions);return n!==e.expressions?new KE(e.span,e.sourceSpan,n):e}visitLiteralMap(e,t){var n=this.visitAll(e.values);return n!==e.values?new QE(e.span,e.sourceSpan,e.keys,n):e}visitBinary(e,t){var n=e.left.visit(this),r=e.right.visit(this);return n!==e.left||r!==e.right?new XE(e.span,e.sourceSpan,e.operation,n,r):e}visitPrefixNot(e,t){var n=e.expression.visit(this);return n!==e.expression?new $E(e.span,e.sourceSpan,n):e}visitNonNullAssert(e,t){var n=e.expression.visit(this);return n!==e.expression?new YE(e.span,e.sourceSpan,n):e}visitConditional(e,t){var n=e.condition.visit(this),r=e.trueExp.visit(this),i=e.falseExp.visit(this);return n!==e.condition||r!==e.trueExp||i!==e.falseExp?new BE(e.span,e.sourceSpan,n,r,i):e}visitPipe(e,t){var n=e.exp.visit(this),r=this.visitAll(e.args);return n!==e.exp||r!==e.args?new WE(e.span,e.sourceSpan,n,e.name,r,e.nameSpan):e}visitKeyedRead(e,t){var n=e.obj.visit(this),r=e.key.visit(this);return n!==e.obj||r!==e.key?new HE(e.span,e.sourceSpan,n,r):e}visitKeyedWrite(e,t){var n=e.obj.visit(this),r=e.key.visit(this),i=e.value.visit(this);return n!==e.obj||r!==e.key||i!==e.value?new qE(e.span,e.sourceSpan,n,r,i):e}visitAll(t){const n=[];let r=!1;for(let e=0;e<t.length;++e){const i=t[e],s=i.visit(this);n[e]=s,r=r||s!==i}return r?n:t}visitChain(e,t){var n=this.visitAll(e.expressions);return n!==e.expressions?new DE(e.span,e.sourceSpan,n):e}visitQuote(e,t){return e}},ParsedProperty:class{constructor(e,t,n,r,i){this.name=e,this.expression=t,this.type=n,this.sourceSpan=r,this.valueSpan=i,this.isLiteral=this.type===AE.LITERAL_ATTR,this.isAnimation=this.type===AE.ANIMATION}},get ParsedPropertyType(){return AE},ParsedEvent:class{constructor(e,t,n,r,i,s){this.name=e,this.targetOrPhase=t,this.type=n,this.handler=r,this.sourceSpan=i,this.handlerSpan=s}},ParsedVariable:class{constructor(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}},BoundElementProperty:class{constructor(e,t,n,r,i,s,o){this.name=e,this.type=t,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=s,this.valueSpan=o}}});function ox(e){return 48<=e&&e<=57}(de=ix=ix||{})[de.Character=0]="Character",de[de.Identifier=1]="Identifier",de[de.Keyword=2]="Keyword",de[de.String=3]="String",de[de.Operator=4]="Operator",de[de.Number=5]="Number",de[de.Error=6]="Error";const ax=["var","let","as","null","undefined","true","false","if","else","this"];class ux{constructor(e,t,n,r,i){this.index=e,this.end=t,this.type=n,this.numValue=r,this.strValue=i}isCharacter(e){return this.type==ix.Character&&this.numValue==e}isNumber(){return this.type==ix.Number}isString(){return this.type==ix.String}isOperator(e){return this.type==ix.Operator&&this.strValue==e}isIdentifier(){return this.type==ix.Identifier}isKeyword(){return this.type==ix.Keyword}isKeywordLet(){return this.type==ix.Keyword&&"let"==this.strValue}isKeywordAs(){return this.type==ix.Keyword&&"as"==this.strValue}isKeywordNull(){return this.type==ix.Keyword&&"null"==this.strValue}isKeywordUndefined(){return this.type==ix.Keyword&&"undefined"==this.strValue}isKeywordTrue(){return this.type==ix.Keyword&&"true"==this.strValue}isKeywordFalse(){return this.type==ix.Keyword&&"false"==this.strValue}isKeywordThis(){return this.type==ix.Keyword&&"this"==this.strValue}isError(){return this.type==ix.Error}toNumber(){return this.type==ix.Number?this.numValue:-1}toString(){switch(this.type){case ix.Character:case ix.Identifier:case ix.Keyword:case ix.Operator:case ix.String:case ix.Error:return this.strValue;case ix.Number:return this.numValue.toString();default:return null}}}function px(e,t,n){return new ux(e,t,ix.Character,n,String.fromCharCode(n))}function lx(e,t,n){return new ux(e,t,ix.Operator,0,n)}const cx=new ux(-1,-1,ix.Character,0,"");class hx{constructor(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}advance(){this.peek=++this.index>=this.length?0:this.input.charCodeAt(this.index)}scanToken(){const e=this.input,t=this.length;let n=this.peek,r=this.index;for(;n<=32;){if(++r>=t){n=0;break}n=e.charCodeAt(r)}if(this.peek=n,this.index=r,r>=t)return null;if(dx(n))return this.scanIdentifier();if(ox(n))return this.scanNumber(r);var i,s=r;switch(n){case 46:return this.advance(),ox(this.peek)?this.scanNumber(s):px(s,this.index,46);case 40:case 41:case 123:case 125:case 91:case 93:case 44:case 58:case 59:return this.scanCharacter(s,n);case 39:case 34:return this.scanString();case 35:case 43:case 45:case 42:case 47:case 37:case 94:return this.scanOperator(s,String.fromCharCode(n));case 63:return this.scanComplexOperator(s,"?",46,".");case 60:case 62:return this.scanComplexOperator(s,String.fromCharCode(n),61,"=");case 33:case 61:return this.scanComplexOperator(s,String.fromCharCode(n),61,"=",61,"=");case 38:return this.scanComplexOperator(s,"&",38,"&");case 124:return this.scanComplexOperator(s,"|",124,"|");case 160:for(;9<=(i=this.peek)&&i<=32||160==i;)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character [".concat(String.fromCharCode(n),"]"),0)}scanCharacter(e,t){return this.advance(),px(e,this.index,t)}scanOperator(e,t){return this.advance(),lx(e,this.index,t)}scanComplexOperator(e,t,n,r,i,s){this.advance();let o=t;return this.peek==n&&(this.advance(),o+=r),null!=i&&this.peek==i&&(this.advance(),o+=s),lx(e,this.index,o)}scanIdentifier(){var e=this.index;for(this.advance();mx(this.peek);)this.advance();var t,n,r,i=this.input.substring(e,this.index);return-1<ax.indexOf(i)?(t=e,n=this.index,r=i,new ux(t,n,ix.Keyword,0,r)):(r=e,e=this.index,i=i,new ux(r,e,ix.Identifier,0,i))}scanNumber(e){let t=this.index===e;for(this.advance();;){if(!ox(this.peek))if(46==this.peek)t=!1;else{if(101!=(n=this.peek)&&69!=n)break;if(this.advance(),45!=(n=this.peek)&&43!=n||this.advance(),!ox(this.peek))return this.error("Invalid exponent",-1);t=!1}this.advance()}var n,r=this.input.substring(e,this.index),i=(t?function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}:parseFloat)(r),r=e,e=this.index,i=i;return new ux(r,e,ix.Number,i,"")}scanString(){const e=this.index,t=this.peek;this.advance();let n="",r=this.index;const i=this.input;for(;this.peek!=t;)if(92==this.peek){let e;if(n+=i.substring(r,this.index),this.advance(),this.peek=this.peek,117==this.peek){const t=i.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(t))return this.error("Invalid unicode escape [\\u".concat(t,"]"),0);e=parseInt(t,16);for(let e=0;e<5;e++)this.advance()}else e=function(e){switch(e){case 110:return 10;case 102:return 12;case 114:return 13;case 116:return 9;case 118:return 11;default:return e}}(this.peek),this.advance();n+=String.fromCharCode(e),r=this.index}else{if(0==this.peek)return this.error("Unterminated quote",0);this.advance()}var s,o,a=i.substring(r,this.index);return this.advance(),s=e,o=this.index,a=n+a,new ux(s,o,ix.String,0,a)}error(e,t){var n,r=this.index+t;return n=r,t=this.index,r="Lexer Error: ".concat(e," at column ").concat(r," in expression [").concat(this.input,"]"),new ux(n,t,ix.Error,0,r)}}function dx(e){return 97<=e&&e<=122||65<=e&&e<=90||95==e||36==e}function fx(e){if(0==e.length)return!1;const t=new hx(e);if(!dx(t.peek))return!1;for(t.advance();0!==t.peek;){if(!mx(t.peek))return!1;t.advance()}return!0}function mx(e){return 97<=e&&e<=122||65<=e&&e<=90||ox(e)||95==e||36==e}function vx(e){return 39===e||34===e||96===e}var yx=Object.freeze({__proto__:null,get TokenType(){return ix},Lexer:class{tokenize(e){const t=new hx(e),n=[];let r=t.scanToken();for(;null!=r;)n.push(r),r=t.scanToken();return n}},Token:ux,EOF:cx,isIdentifier:fx,isQuote:vx});const gx=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];const _x=new class t{constructor(e,t){this.start=e,this.end=t}static fromArray(e){return e?(function(t,e){if(!(null==e||Array.isArray(e)&&2==e.length))throw new Error("Expected '".concat(t,"' to be an array, [start, end]."));if(null!=e){const t=e[0],n=e[1];gx.forEach(e=>{if(e.test(t)||e.test(n))throw new Error("['".concat(t,"', '").concat(n,"'] contains unusable interpolation symbol."))})}}("interpolation",e),new t(e[0],e[1])):_x}}("{{","}}");function Ex(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}class xx{constructor(e,t,n){this.strings=e,this.expressions=t,this.offsets=n}}class Sx{constructor(e,t,n){this.templateBindings=e,this.warnings=t,this.errors=n}}const wx=bx(_x);function Cx(e){return e===_x?wx:bx(e)}function bx(e){e=Ex(e.start)+"([\\s\\S]*?)"+Ex(e.end);return new RegExp(e,"g")}class Tx{constructor(e){this._lexer=e,this.errors=[],this.simpleExpressionChecker=Nx}parseAction(e,t,n,r=_x){this._checkNoInterpolation(e,t,r);var i=this._stripComments(e),r=this._lexer.tokenize(this._stripComments(e)),i=new Px(e,t,n,r,i.length,!0,this.errors,e.length-i.length).parseChain();return new nx(i,e,t,n,this.errors)}parseBinding(e,t,n,r=_x){r=this._parseBindingAst(e,t,n,r);return new nx(r,e,t,n,this.errors)}checkSimpleExpression(e){var t=new this.simpleExpressionChecker;return e.visit(t),t.errors}parseSimpleBinding(e,t,n,r=_x){const i=this._parseBindingAst(e,t,n,r),s=this.checkSimpleExpression(i);return 0<s.length&&this._reportError("Host binding expression cannot contain ".concat(s.join(" ")),e,t),new nx(i,e,t,n,this.errors)}_reportError(e,t,n,r){this.errors.push(new IE(e,t,n,r))}_parseBindingAst(e,t,n,r){var i=this._parseQuote(e,t,n);if(null!=i)return i;this._checkNoInterpolation(e,t,r);i=this._stripComments(e),r=this._lexer.tokenize(i);return new Px(e,t,n,r,i.length,!1,this.errors,e.length-i.length).parseChain()}_parseQuote(e,t,n){if(null==e)return null;var r=e.indexOf(":");if(-1==r)return null;var i=e.substring(0,r).trim();if(!fx(i))return null;const s=e.substring(r+1),o=new kE(0,e.length);return new OE(o,o.toAbsolute(n),i,s,t)}parseTemplateBindings(e,t,n,r){var i=this._lexer.tokenize(t);return new Px(t,n,r,i,t.length,!1,this.errors,0).parseTemplateBindings(e)}parseInterpolation(t,n,r,e=_x){var i=this.splitInterpolation(t,n,e);if(null==i)return null;const s=[];for(let e=0;e<i.expressions.length;++e){const o=i.expressions[e],a=this._stripComments(o),u=this._lexer.tokenize(a),p=new Px(t,n,r,u,a.length,!1,this.errors,i.offsets[e]+(o.length-a.length)).parseChain();s.push(p)}const o=new kE(0,null==t?0:t.length);return new nx(new GE(o,o.toAbsolute(r),i.strings,s),t,n,r,this.errors)}splitInterpolation(t,n,r=_x){var e=Cx(r),i=t.split(e);if(i.length<=1)return null;const s=[],o=[],a=[];let u=0;for(let e=0;e<i.length;e++){const p=i[e];e%2==0?(s.push(p),u+=p.length):0<p.trim().length?(u+=r.start.length,o.push(p),a.push(u),u+=p.length+r.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",t,"at column ".concat(this._findInterpolationErrorColumn(i,e,r)," in"),n),o.push("$implicit"),a.push(u))}return new xx(s,o,a)}wrapLiteralPrimitive(e,t,n){const r=new kE(0,null==e?0:e.length);return new nx(new zE(r,r.toAbsolute(n),e),e,t,n,this.errors)}_stripComments(e){var t=this._commentStart(e);return null!=t?e.substring(0,t).trim():e}_commentStart(t){let n=null;for(let e=0;e<t.length-1;e++){var r=t.charCodeAt(e),i=t.charCodeAt(e+1);if(47===r&&47==i&&null==n)return e;n===r?n=null:null==n&&vx(r)&&(n=r)}return null}_checkNoInterpolation(e,t,n){var r=Cx(n),r=e.split(r);1<r.length&&this._reportError("Got interpolation (".concat(n.start).concat(n.end,") where expression was expected"),e,"at column ".concat(this._findInterpolationErrorColumn(r,1,n)," in"),t)}_findInterpolationErrorColumn(t,n,r){let i="";for(let e=0;e<n;e++)i+=e%2==0?t[e]:"".concat(r.start).concat(t[e]).concat(r.end);return i.length}}class Px{constructor(e,t,n,r,i,s,o,a){this.input=e,this.location=t,this.absoluteOffset=n,this.tokens=r,this.inputLength=i,this.parseAction=s,this.errors=o,this.offset=a,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.sourceSpanCache=new Map,this.index=0}peek(e){e=this.index+e;return e<this.tokens.length?this.tokens[e]:cx}get next(){return this.peek(0)}get inputIndex(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset}span(e){return new kE(e,this.inputIndex)}sourceSpan(e){var t="".concat(e,"@").concat(this.inputIndex);return this.sourceSpanCache.has(t)||this.sourceSpanCache.set(t,this.span(e).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(t)}advance(){this.index++}optionalCharacter(e){return!!this.next.isCharacter(e)&&(this.advance(),!0)}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.optionalCharacter(e)||this.error("Missing expected ".concat(String.fromCharCode(e)))}optionalOperator(e){return!!this.next.isOperator(e)&&(this.advance(),!0)}expectOperator(e){this.optionalOperator(e)||this.error("Missing expected operator ".concat(e))}expectIdentifierOrKeyword(){const e=this.next;return e.isIdentifier()||e.isKeyword()?(this.advance(),e.toString()):(this.error("Unexpected token ".concat(e,", expected identifier or keyword")),"")}expectIdentifierOrKeywordOrString(){const e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()?(this.advance(),e.toString()):(this.error("Unexpected token ".concat(e,", expected identifier, keyword, or string")),"")}parseChain(){const e=[],t=this.inputIndex;for(;this.index<this.tokens.length;){const t=this.parsePipe();if(e.push(t),this.optionalCharacter(59))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(59););else this.index<this.tokens.length&&this.error("Unexpected token '".concat(this.next,"'"))}return 0==e.length?new FE(this.span(t),this.sourceSpan(t)):1==e.length?e[0]:new DE(this.span(t),this.sourceSpan(t),e)}parsePipe(){let e=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{const n=this.inputIndex,r=this.expectIdentifierOrKeyword(),i=this.sourceSpan(n),s=[];for(;this.optionalCharacter(58);)s.push(this.parseExpression());var{start:t}=e.span;e=new WE(this.span(t),this.sourceSpan(t),e,r,s,i)}while(this.optionalOperator("|"))}return e}parseExpression(){return this.parseConditional()}parseConditional(){const t=this.inputIndex,n=this.parseLogicalOr();if(this.optionalOperator("?")){var r=this.parsePipe();let e;if(this.optionalCharacter(58))e=this.parsePipe();else{const n=this.inputIndex,i=this.input.substring(t,n);this.error("Conditional expression ".concat(i," requires all 3 expressions")),e=new FE(this.span(t),this.sourceSpan(t))}return new BE(this.span(t),this.sourceSpan(t),n,r,e)}return n}parseLogicalOr(){let e=this.parseLogicalAnd();for(;this.optionalOperator("||");){var t=this.parseLogicalAnd(),{start:n}=e.span;e=new XE(this.span(n),this.sourceSpan(n),"||",e,t)}return e}parseLogicalAnd(){let e=this.parseEquality();for(;this.optionalOperator("&&");){var t=this.parseEquality(),{start:n}=e.span;e=new XE(this.span(n),this.sourceSpan(n),"&&",e,t)}return e}parseEquality(){let e=this.parseRelational();for(;this.next.type==ix.Operator;){var t=this.next.strValue;switch(t){case"==":case"===":case"!=":case"!==":this.advance();var n=this.parseRelational(),{start:r}=e.span;e=new XE(this.span(r),this.sourceSpan(r),t,e,n);continue}break}return e}parseRelational(){let e=this.parseAdditive();for(;this.next.type==ix.Operator;){var t=this.next.strValue;switch(t){case"<":case">":case"<=":case">=":this.advance();var n=this.parseAdditive(),{start:r}=e.span;e=new XE(this.span(r),this.sourceSpan(r),t,e,n);continue}break}return e}parseAdditive(){let e=this.parseMultiplicative();for(;this.next.type==ix.Operator;){var t=this.next.strValue;switch(t){case"+":case"-":this.advance();var n=this.parseMultiplicative(),{start:r}=e.span;e=new XE(this.span(r),this.sourceSpan(r),t,e,n);continue}break}return e}parseMultiplicative(){let e=this.parsePrefix();for(;this.next.type==ix.Operator;){var t=this.next.strValue;switch(t){case"*":case"%":case"/":this.advance();var n=this.parsePrefix(),{start:r}=e.span;e=new XE(this.span(r),this.sourceSpan(r),t,e,n);continue}break}return e}parsePrefix(){if(this.next.type==ix.Operator){const t=this.inputIndex,n=this.next.strValue,r=new kE(t,t),i=r.toAbsolute(this.absoluteOffset);let e;switch(n){case"+":return this.advance(),e=this.parsePrefix(),new XE(this.span(t),this.sourceSpan(t),"-",e,new zE(r,i,0));case"-":return this.advance(),e=this.parsePrefix(),new XE(this.span(t),this.sourceSpan(t),n,new zE(r,i,0),e);case"!":return this.advance(),e=this.parsePrefix(),new $E(this.span(t),this.sourceSpan(t),e)}}return this.parseCallChain()}parseCallChain(){let e=this.parsePrimary();for(var t=e.span.start;;)if(this.optionalCharacter(46))e=this.parseAccessMemberOrMethodCall(e,!1);else if(this.optionalOperator("?."))e=this.parseAccessMemberOrMethodCall(e,!0);else if(this.optionalCharacter(91)){this.rbracketsExpected++;var n,r=this.parsePipe();this.rbracketsExpected--,this.expectCharacter(93),e=this.optionalOperator("=")?(n=this.parseConditional(),new qE(this.span(t),this.sourceSpan(t),e,r,n)):new HE(this.span(t),this.sourceSpan(t),e,r)}else if(this.optionalCharacter(40)){this.rparensExpected++;r=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(41),e=new ex(this.span(t),this.sourceSpan(t),e,r)}else{if(!this.optionalOperator("!"))return e;e=new YE(this.span(t),this.sourceSpan(t),e)}}parsePrimary(){const e=this.inputIndex;if(this.optionalCharacter(40)){this.rparensExpected++;const e=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),e}if(this.next.isKeywordNull())return this.advance(),new zE(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new zE(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new zE(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new zE(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordThis())return this.advance(),new LE(this.span(e),this.sourceSpan(e));if(this.optionalCharacter(91)){this.rbracketsExpected++;var t=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new KE(this.span(e),this.sourceSpan(e),t)}if(this.next.isCharacter(123))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new LE(this.span(e),this.sourceSpan(e)),!1);if(this.next.isNumber()){var n=this.next.toNumber();return this.advance(),new zE(this.span(e),this.sourceSpan(e),n)}if(this.next.isString()){n=this.next.toString();return this.advance(),new zE(this.span(e),this.sourceSpan(e),n)}return this.index>=this.tokens.length?this.error("Unexpected end of expression: ".concat(this.input)):this.error("Unexpected token ".concat(this.next)),new FE(this.span(e),this.sourceSpan(e))}parseExpressionList(e){const t=[];if(!this.next.isCharacter(e))for(;t.push(this.parsePipe()),this.optionalCharacter(44););return t}parseLiteralMap(){const e=[],t=[],n=this.inputIndex;if(this.expectCharacter(123),!this.optionalCharacter(125)){this.rbracesExpected++;do{const n=this.next.isString(),r=this.expectIdentifierOrKeywordOrString();e.push({key:r,quoted:n}),this.expectCharacter(58),t.push(this.parsePipe())}while(this.optionalCharacter(44));this.rbracesExpected--,this.expectCharacter(125)}return new QE(this.span(n),this.sourceSpan(n),e,t)}parseAccessMemberOrMethodCall(e,t=!1){var n=e.span.start,r=this.expectIdentifierOrKeyword();if(this.optionalCharacter(40)){this.rparensExpected++;var i=this.parseCallArguments();this.expectCharacter(41),this.rparensExpected--;var s=this.span(n),o=this.sourceSpan(n);return new(t?ZE:JE)(s,o,e,r,i)}if(t)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new FE(this.span(n),this.sourceSpan(n))):new UE(this.span(n),this.sourceSpan(n),e,r);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new FE(this.span(n),this.sourceSpan(n));const t=this.parseConditional();return new jE(this.span(n),this.sourceSpan(n),e,r,t)}return this.span(n),new VE(this.span(n),this.sourceSpan(n),e,r)}parseCallArguments(){if(this.next.isCharacter(41))return[];const e=[];for(;e.push(this.parsePipe()),this.optionalCharacter(44););return e}expectTemplateBindingKey(){let e="",t;for(;e+=this.expectIdentifierOrKeywordOrString(),(t=this.optionalOperator("-"))&&(e+="-"),t;);return e.toString()}parseTemplateBindings(s){let o=!0;const a=[];do{var u=this.inputIndex;let e,t,n=!1;o?(e=t=s,o=!1):(n=this.peekKeywordLet(),n&&this.advance(),e=this.expectTemplateBindingKey(),t=n?e:s+e[0].toUpperCase()+e.substring(1),this.optionalCharacter(58));let r=null,i=null;if(n)r=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.peekKeywordAs())this.advance(),r=e,t=this.expectTemplateBindingKey(),n=!0;else if(this.next!==cx&&!this.peekKeywordLet()){const s=this.inputIndex,o=this.parsePipe(),a=this.input.substring(s-this.offset,this.inputIndex-this.offset);i=new nx(o,a,this.location,this.absoluteOffset+s,this.errors)}if(a.push(new rx(this.span(u),this.sourceSpan(u),t,n,r,i)),this.peekKeywordAs()&&!n){const s=this.inputIndex;this.advance();const o=this.expectTemplateBindingKey();a.push(new rx(this.span(s),this.sourceSpan(s),o,!0,t,null))}}while(this.optionalCharacter(59)||this.optionalCharacter(44),this.index<this.tokens.length);return new Sx(a,[],this.errors)}error(e,t=null){this.errors.push(new IE(e,this.input,this.locationText(t),this.location)),this.skip()}locationText(e=null){return(e=null==e?this.index:e)<this.tokens.length?"at column ".concat(this.tokens[e].index+1," in"):"at the end of the expression"}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(59)&&(this.rparensExpected<=0||!e.isCharacter(41))&&(this.rbracesExpected<=0||!e.isCharacter(125))&&(this.rbracketsExpected<=0||!e.isCharacter(93));)this.next.isError()&&this.errors.push(new IE(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}}class Nx{constructor(){this.errors=[]}visitImplicitReceiver(e,t){}visitInterpolation(e,t){}visitLiteralPrimitive(e,t){}visitPropertyRead(e,t){}visitPropertyWrite(e,t){}visitSafePropertyRead(e,t){}visitMethodCall(e,t){}visitSafeMethodCall(e,t){}visitFunctionCall(e,t){}visitLiteralArray(e,t){this.visitAll(e.expressions)}visitLiteralMap(e,t){this.visitAll(e.values)}visitBinary(e,t){}visitPrefixNot(e,t){}visitNonNullAssert(e,t){}visitConditional(e,t){}visitPipe(e,t){this.errors.push("pipes")}visitKeyedRead(e,t){}visitKeyedWrite(e,t){}visitAll(e){return e.map(e=>e.visit(this))}visitChain(e,t){}visitQuote(e,t){}}class Ax extends Nx{visitBinary(e,t){e.left.visit(this),e.right.visit(this)}visitPrefixNot(e,t){e.expression.visit(this)}}var Mx=Object.freeze({__proto__:null,SplitInterpolation:xx,TemplateBindingParseResult:Sx,Parser:Tx,IvyParser:class extends Tx{constructor(){super(...arguments),this.simpleExpressionChecker=Ax}},_ParseAST:Px}),Ix=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const o=/^(?:[67]|8\.[01])\./.test(ME.VERSION.full)?["angular-estree-parser"]:["angular-estree-parser",0];function a(){return new Mx.Parser(new yx.Lexer)}function n(e,t){var n=a(),{astInput:r,comments:e}=p(e,n),{ast:r,errors:n}=t(r,n);return u(n),{ast:r,comments:e}}function u(e){if(0!==e.length){const[{message:t}]=e;throw new SyntaxError(t.replace(/^Parser Error: | at column \d+ in [^]*$/g,""))}}function p(e,t){t=t._commentStart(e);return null===t?{astInput:e,comments:[]}:{astInput:e.slice(0,t),comments:[{type:"Comment",value:e.slice(t+"//".length),span:{start:t,end:e.length}}]}}function l({start:e,end:t},n){let r=e,i=t;for(;i!==r&&/\s/.test(n[i-1]);)i--;for(;r!==i&&/\s/.test(n[r]);)r++;return{start:r,end:i}}t.parseNgBinding=function(e){return n(e,(e,t)=>t.parseBinding(e,...o))},t.parseNgSimpleBinding=function(e){return n(e,(e,t)=>t.parseSimpleBinding(e,...o))},t.parseNgAction=function(e){return n(e,(e,t)=>t.parseAction(e,...o))},t.parseNgTemplateBindings=function(e){const t=a(),{templateBindings:n,errors:r}=t.parseTemplateBindings("NgEstreeParser",e,...o);return u(r),n},t.parseNgInterpolation=function(e){const t=a(),{astInput:n,comments:r}=p(e,t),{ast:i,errors:s}=t.parseInterpolation("{{"+n+"}}",...o);u(s);e=i.expressions[0];return function t(e,n){if(e&&"object"==typeof e){if(Array.isArray(e))return e.forEach(e=>t(e,n));for(const i of Object.keys(e)){var r=e[i];"span"===i?n(r):t(r,n)}}}(e,e=>{e.start-="{{".length,e.end-="{{".length}),{ast:e,comments:r}},t.getNgType=function(e){return e instanceof sx.Binary?"Binary":e instanceof sx.BindingPipe?"BindingPipe":e instanceof sx.Chain?"Chain":e instanceof sx.Conditional?"Conditional":e instanceof sx.EmptyExpr?"EmptyExpr":e instanceof sx.FunctionCall?"FunctionCall":e instanceof sx.ImplicitReceiver?"ImplicitReceiver":e instanceof sx.KeyedRead?"KeyedRead":e instanceof sx.KeyedWrite?"KeyedWrite":e instanceof sx.LiteralArray?"LiteralArray":e instanceof sx.LiteralMap?"LiteralMap":e instanceof sx.LiteralPrimitive?"LiteralPrimitive":e instanceof sx.MethodCall?"MethodCall":e instanceof sx.NonNullAssert?"NonNullAssert":e instanceof sx.PrefixNot?"PrefixNot":e instanceof sx.PropertyRead?"PropertyRead":e instanceof sx.PropertyWrite?"PropertyWrite":e instanceof sx.Quote?"Quote":e instanceof sx.SafeMethodCall?"SafeMethodCall":e instanceof sx.SafePropertyRead?"SafePropertyRead":e.type},t.fitSpans=function(e,t,n){let r=0;const i={start:e.start,end:e.end};for(;;){const e=function({start:e,end:t},n){let r=e,i=t;for(;i!==n.length&&/\s/.test(n[i]);)i++;for(;0!==r&&/\s/.test(n[r-1]);)r--;return{start:r,end:i}}(i,t),n=(s=e,"("===(o=t)[s.start-1]&&")"===o[s.end]?{start:s.start-1,end:s.end+1}:s);if(e.start===n.start&&e.end===n.end)break;i.start=n.start,i.end=n.end,r++}var s,o;return{hasParens:0!==(n?r-1:r),outerSpan:l(n?{start:i.start+1,end:i.end-1}:i,t),innerSpan:l(e,t)}},t.findFrontChar=function(e,t,n){let r=t;for(;!e.test(n[r]);)r--;return r},t.findBackChar=function(e,t,n){let r=t;for(;!e.test(n[r]);)r++;return r},t.toLowerCamelCase=function(e){return e.slice(0,1).toLowerCase()+e.slice(1)},t.getLast=function(e){return 0===e.length?void 0:e[e.length-1]}});n(Ix),Ix.parseNgBinding,Ix.parseNgSimpleBinding,Ix.parseNgAction,Ix.parseNgTemplateBindings,Ix.parseNgInterpolation,Ix.getNgType,Ix.fitSpans,Ix.findFrontChar,Ix.findBackChar,Ix.toLowerCamelCase,Ix.getLast;var kx=r(function(e,v){function y(e,t,n=!1,r=!1){if(!n){const{start:i,end:s}=e;return{start:i,end:s,loc:{start:t.locator.locationForIndex(i),end:t.locator.locationForIndex(s)}}}var{outerSpan:n,innerSpan:e,hasParens:r}=Ix.fitSpans(e,t.text,r);return Object.assign({start:e.start,end:e.end,loc:{start:t.locator.locationForIndex(e.start),end:t.locator.locationForIndex(e.end)}},r&&{extra:{parenthesized:!0,parenStart:n.start,parenEnd:n.end}})}Object.defineProperty(v,"__esModule",{value:!0}),v.transform=(i,o,e=!1)=>{const t=Ix.getNgType(i);switch(t){case"Binary":{const{left:v,operation:y,right:o}=i,t=o.span.start===o.span.end,n=v.span.start===v.span.end;if(t||n){const y=v.span.start===v.span.end?a(o):a(v);return u("UnaryExpression",{prefix:!0,argument:y,operator:t?"+":"-"},{start:i.span.start,end:d(y)},{hasParentParens:e})}const r=a(v),s=a(o);return u("&&"===y||"||"===y?"LogicalExpression":"BinaryExpression",{left:r,right:s,operator:y},{start:h(r),end:d(s)},{hasParentParens:e})}case"BindingPipe":{const{exp:v,name:y,args:o}=i,t=a(v),n=p(/\S/,p(/\|/,d(t))+1),r=u("Identifier",{name:y},{start:n,end:n+y.length}),s=o.map(a);return u("NGPipeExpression",{left:t,right:r,arguments:s},{start:h(t),end:d(0===s.length?r:Ix.getLast(s))},{hasParentParens:e})}case"Chain":{const{expressions:v}=i;return u("NGChainedExpression",{expressions:v.map(a)},i.span,{hasParentParens:e})}case"Comment":{const{value:v}=i;return u("CommentLine",{value:v},i.span,{processSpan:!1})}case"Conditional":{const{condition:v,trueExp:y,falseExp:o}=i,t=a(v),n=a(y),r=a(o);return u("ConditionalExpression",{test:t,consequent:n,alternate:r},{start:h(t),end:d(r)},{hasParentParens:e})}case"EmptyExpr":return u("NGEmptyExpression",{},i.span,{hasParentParens:e});case"FunctionCall":{const{target:v,args:y}=i,o=1===y.length?[n(y[0])]:y.map(a),t=a(v);return u("CallExpression",{callee:t,arguments:o},{start:h(t),end:i.span.end},{hasParentParens:e})}case"KeyedRead":{const{obj:v,key:y}=i,o=a(v);return u("MemberExpression",{computed:!0,object:o,property:a(y)},{start:h(o),end:i.span.end},{hasParentParens:e})}case"LiteralArray":{const{expressions:v}=i;return u("ArrayExpression",{elements:v.map(a)},i.span,{hasParentParens:e})}case"LiteralMap":{const{keys:v,values:y}=i,o=y.map(e=>a(e)),t=v.map(({key:e,quoted:t},n)=>{var r=o[n],n={start:p(/\S/,0===n?i.span.start+1:p(/,/,d(o[n-1]))+1),end:s(/\S/,s(/:/,h(r)-1)-1)+1},n=t?u("StringLiteral",{value:e},n):u("Identifier",{name:e},n);return u("ObjectProperty",{key:n,value:r,method:!1,shorthand:!1,computed:!1},{start:h(n),end:d(r)})});return u("ObjectExpression",{properties:t},i.span,{hasParentParens:e})}case"LiteralPrimitive":{const{value:v}=i;switch(typeof v){case"boolean":return u("BooleanLiteral",{value:v},i.span,{hasParentParens:e});case"number":return u("NumericLiteral",{value:v},i.span,{hasParentParens:e});case"object":return u("NullLiteral",{},i.span,{hasParentParens:e});case"string":return u("StringLiteral",{value:v},i.span,{hasParentParens:e});case"undefined":return u("Identifier",{name:"undefined"},i.span,{hasParentParens:e});default:throw new Error("Unexpected LiteralPrimitive value type ".concat(typeof v))}}case"MethodCall":case"SafeMethodCall":{const v="SafeMethodCall"===t,{receiver:y,name:o,args:p}=i,c=1===p.length?[n(p[0])]:p.map(a),d=s(/\S/,s(/\(/,(0===c.length?s(/\)/,i.span.end-1):h(c[0]))-1)-1)+1,f=r(y,u("Identifier",{name:o},{start:d-o.length,end:d}),{computed:!1,optional:v}),m=l(f);return u(v||m?"OptionalCallExpression":"CallExpression",{callee:f,arguments:c},{start:h(f),end:i.span.end},{hasParentParens:e})}case"NonNullAssert":{const{expression:v}=i,y=a(v);return u("TSNonNullExpression",{expression:y},{start:h(y),end:i.span.end},{hasParentParens:e})}case"PrefixNot":{const{expression:v}=i,y=a(v);return u("UnaryExpression",{prefix:!0,operator:"!",argument:y},{start:i.span.start,end:d(y)},{hasParentParens:e})}case"PropertyRead":case"SafePropertyRead":{const v="SafePropertyRead"===t,{receiver:y,name:o}=i,a=s(/\S/,i.span.end-1)+1;return r(y,u("Identifier",{name:o},{start:a-o.length,end:a},y.span.start===y.span.end?{hasParentParens:e}:{}),{computed:!1,optional:v},{hasParentParens:e})}case"KeyedWrite":{const{obj:v,key:y,value:o}=i,t=a(y),n=a(o),s=r(v,t,{computed:!0,optional:!1},{end:p(/\]/,d(t))+1});return u("AssignmentExpression",{left:s,operator:"=",right:n},{start:h(s),end:d(n)},{hasParentParens:e})}case"PropertyWrite":{const{receiver:v,name:y,value:o}=i,t=a(o),n=s(/\S/,s(/=/,h(t)-1)-1)+1,p=r(v,u("Identifier",{name:y},{start:n-y.length,end:n}),{computed:!1,optional:!1});return u("AssignmentExpression",{left:p,operator:"=",right:t},{start:h(p),end:d(t)},{hasParentParens:e})}case"Quote":{const{prefix:v,uninterpretedExpression:y}=i;return u("NGQuotedExpression",{prefix:v,value:y},i.span,{hasParentParens:e})}default:throw new Error("Unexpected node ".concat(t))}function a(e){return v.transform(e,o)}function n(e){return v.transform(e,o,!0)}function u(e,t,n,{processSpan:r=!0,hasParentParens:i=!1}={}){var s=Object.assign(Object.assign({type:e},y(n,o,r,i)),t);switch(e){case"Identifier":{const e=s;e.loc.identifierName=e.name;break}case"NumericLiteral":case"StringLiteral":{const e=s;e.extra=Object.assign(Object.assign({},e.extra),{raw:o.text.slice(e.start,e.end),rawValue:e.value});break}}return s}function r(e,t,n,{end:r=d(t),hasParentParens:i=!1}={}){if(e.span.start===e.span.end)return t;var s="ImplicitReceiver"===Ix.getNgType(e)?u("ThisExpression",{},e.span):a(e),e=l(s);return u(n.optional||e?"OptionalMemberExpression":"MemberExpression",Object.assign({object:s,property:t,computed:n.computed},n.optional?{optional:!0}:e?{optional:!1}:null),{start:h(s),end:r},{hasParentParens:i})}function s(e,t){return Ix.findFrontChar(e,t,o.text)}function p(e,t){return Ix.findBackChar(e,t,o.text)}function l(e){return("OptionalCallExpression"===e.type||"OptionalMemberExpression"===e.type)&&!c(e)}function c(e){return e.extra&&e.extra.parenthesized}function h(e){return c(e)?e.extra.parenStart:e.start}function d(e){return c(e)?e.extra.parenEnd:e.end}},v.transformSpan=y});n(kx),kx.transform,kx.transformSpan;var Rx=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.transformTemplateBindings=function(t,o){const[n]=t,{key:r}=n,i=0===o.text.slice(n.span.start,n.span.end).trim().length?t.slice(1):t,s=[];let a=null;for(let e=0;e<i.length;e++){const n=i[e],{key:r,keyIsVar:p,name:h,span:d}=n;if(a&&a.key===h&&p&&/^as\s$/.test(o.text.slice(d.start,d.start+3))){const t=l("NGMicrosyntaxKey",{name:r},c(Ix.findBackChar(/\S/,d.start+3,o.text),r)),n=(e,t)=>Object.assign(Object.assign({},e),kx.transformSpan({start:e.start,end:t},o)),i=e=>Object.assign(Object.assign({},n(e,t.end)),{alias:t}),a=s.pop();if("NGMicrosyntaxExpression"===a.type)s.push(i(a));else{if("NGMicrosyntaxKeyedExpression"!==a.type)throw new Error("Unexpected type ".concat(a.type));{const t=i(a.expression);s.push(n(Object.assign(Object.assign({},a),{expression:t}),t.end))}}}else s.push(u(n,e));a=n}return l("NGMicrosyntax",{body:s},0===s.length?t[0].span:{start:s[0].start,end:s[s.length-1].end});function u({key:e,keyIsVar:t,name:n,expression:r,span:i},s){if(t){if(/^let\s$/.test(o.text.slice(i.start,i.start+4))){const t=c(Ix.findBackChar(/\S/,i.start+4,o.text),e);return l("NGMicrosyntaxLet",{key:l("NGMicrosyntaxKey",{name:e},t),value:0===o.text.slice(t.end,i.end).trim().length?null:l("NGMicrosyntaxKey",{name:n},{start:Ix.findBackChar(/=/,t.end,o.text)+1,end:i.end})},i)}{const t=c(i.start,n);return l("NGMicrosyntaxAs",{key:l("NGMicrosyntaxKey",{name:n},t),alias:l("NGMicrosyntaxKey",{name:e},{start:Ix.findBackChar(/\S/,t.end,o.text)+"as".length,end:i.end})},i)}}if(r){if(0===s)return l("NGMicrosyntaxExpression",{expression:p(r.ast),alias:null},i);{const o=p(r.ast),{start:t,end:n}=o,s=h(e);return l("NGMicrosyntaxKeyedExpression",{key:l("NGMicrosyntaxKey",{name:s},c(i.start,s)),expression:l("NGMicrosyntaxExpression",{expression:o,alias:null},{start:t,end:n})},i)}}return l("NGMicrosyntaxKey",{name:h(e)},i)}function p(e){return kx.transform(e,o)}function l(e,t,n,r=!0){return Object.assign(Object.assign({type:e},kx.transformSpan(n,o,r)),t)}function c(e,t){if("'"!==o.text[e]&&'"'!==o.text[e])return{start:e,end:e+t.length};var n=o.text[e];let r=0,i=e+1;for(;;){const t=o.text[i];if(t===n&&r%2==0)return{start:e,end:i+1};"\\"===t?r++:r=0,i++}}function h(e){return Ix.toLowerCamelCase(e.slice(r.length))}}});n(Rx),Rx.transformTemplateBindings;var Ox=r(function(e,t){function n(e,t){const{ast:n,comments:r}=t(e),i=new u.Context(e),s=e=>kx.transform(e,i),o=s(n);return o.comments=r.map(s),o}Object.defineProperty(t,"__esModule",{value:!0}),t.parseBinding=function(e){return n(e,Ix.parseNgBinding)},t.parseSimpleBinding=function(e){return n(e,Ix.parseNgSimpleBinding)},t.parseInterpolation=function(e){return n(e,Ix.parseNgInterpolation)},t.parseAction=function(e){return n(e,Ix.parseNgAction)},t.parseTemplateBindings=function(e){return Rx.transformTemplateBindings(Ix.parseNgTemplateBindings(e),new u.Context(e))}});function Fx(r){return Object.assign({astFormat:"estree",parse:(e,t,n)=>{e=r(e,Ox);return{type:"NGRoot",node:"__ng_action"===n.parser&&"NGChainedExpression"!==e.type?Object.assign({},e,{type:"NGChainedExpression",expressions:[e]}):e}}},t)}n(Ox),Ox.parseBinding,Ox.parseSimpleBinding,Ox.parseInterpolation,Ox.parseAction,Ox.parseTemplateBindings;Zr={parsers:{__ng_action:Fx((e,t)=>t.parseAction(e)),__ng_binding:Fx((e,t)=>t.parseBinding(e)),__ng_interpolation:Fx((e,t)=>t.parseInterpolation(e)),__ng_directive:Fx((e,t)=>t.parseTemplateBindings(e))}},de=Zr.parsers;e.default=Zr,e.parsers=de,Object.defineProperty(e,"__esModule",{value:!0})});